import{u as e,y as u,ag as S,d as F,a as M,k as h}from"./index-Bxk9gsMd.js";import{u as g}from"./f_DCxp7dMq-useKey.js";import{F as B}from"./f_gdNe-nEL-FacePartSelector.js";import{E,b as I,i as N,a as T,M as b}from"./f_CpkyemIw-MeshMouthSelect.js";import{D as m,a as k}from"./f_BT01mNLK-DialogTitle.js";import"./f_BM_tZNm2-three.js";import"./f_FR4YF7oy-Selector.js";import"./f_fYmMpGj2-GlowToggle.js";import"./f_oPI5wd9B-Box.js";import"./f_PbtmiqRp-CircularProgress.js";import"./f_UnuVnYd2-Button.js";function A({eyeTexture:c,eyeIdx:n,mouthTexture:t,mouthIdx:o,...i}){return e("div",{className:"FaceBox",...i,children:[e(E,{texture:c,index:n}),e(I,{texture:t,index:o})]})}function C({target:c,onSelect:n}){const t=c?.face;if(!t||t?.type!=="uv")return e("h2",{children:"Not Available"});const[o,i]=g();u(()=>{const a=t.addEventListener("change",({propName:l})=>{(l.includes("Base")||l.includes("Texture"))&&i()});return()=>t.removeEventListener("change",a)},[]);const r=S(),[s,d]=F("Both");u(()=>!r&&i(),[s]);const x=a=>{const{index:l}=a.currentTarget.dataset;s!=="Eyes"&&n(l,"mouth"),s!=="Mouth"&&n(l,"eye")},{eyeBaseIdx:f,eyeTexture:y,mouthBaseIdx:p,mouthTexture:v}=t;return e("div",{className:"UvFaceSelect",children:[e(B,{value:s,onClick:d}),e("div",{className:"FaceBoxes",children:N.map(a=>e(A,{eyeTexture:y,eyeIdx:s==="Mouth"?f:a,mouthTexture:v,mouthIdx:s==="Eyes"?p:a,"data-index":a,onClick:x}))},o)]})}function L({target:c,onSelect:n}){const t=c?.face;return t?.type==="meshes"&&e("div",{className:"MeshFaceSelect",children:[t?.eyeList?.length>0&&e(T,{target:c,onSelect:n}),t?.mouthList?.length>0&&e(b,{target:c,onSelect:n})]})}const D={uv:C,meshes:L},K={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function R({target:c,onSelect:n,onAfterSelect:t}){const{activeModel:o}=M();c??=o;const i=c?.face?.type,r=D[i]??(()=>e(h,{})),s=(...d)=>{n(...d),t?.()};return c?.face?e("div",{className:"FaceSelect",children:[e(m,{sx:{textAlign:"center"},children:"Face Select"}),e(k,{sx:{padding:"1rem"},children:e(r,{target:c,onSelect:s})})]}):e(h,{children:[e(m,{sx:{textAlign:"center"},children:"Face Select"}),e("div",{style:K,children:"Not available"})]})}export{R as default};
