import{D as pe,u as a,A as de,T as Oe,d as k,b as ue,k as g,y as X,R as he,$ as Ve,K as Ee,H as je,L as Ge,g as Ue,v as se,a as qe}from"./index-CysgNEVB.js";/* empty css                 */import{M as Ke}from"./f_CHEotSBN-ModelIcon.js";import{A as G}from"./f_DnZQXbhW-Accordion.js";import{M as me,T as Xe}from"./f_Bo4Kao-L-filterConfig.js";import{b as Ye,S as Pe,T as fe,u as Me}from"./f_CJ4FzJ3B-Gallery.js";import{a as ve,g as ge,s as N,d as M,e as be,B as Qe,n as Je,u as Te,b as Ze,c as ie,m as j,f as et}from"./f_l0_5YGyg-CircularProgress.js";import{g as tt,e as B,c as at,a as Be,F as ye,M as ot,B as nt,P as lt}from"./f_85HBqdHL-Popover.js";import{C as rt}from"./f_CnZMm28K-ColorButton.js";import{S as st,B as it,a as ct,P as pt,b as dt,c as ut}from"./f_DHd42RMq-SkipPrevious.js";import{u as Y}from"./f_B65J6ml3-useKey.js";import{C as Q,I as Se}from"./f_Crmd4Ss7-Close.js";import{c as x}from"./f_D6kbU01U-createSvgIcon.js";import{B as y}from"./f_DyaOnMdQ-Button.js";import{B as ht}from"./f_GzWjTI95-Box.js";import{b as mt}from"./f_BrjEqYzh-DialogTitle.js";import ft from"./f_BcUNXVwq-index.js";import vt from"./f_ksWvq87X-index.js";import{u as ke}from"./f_J0OaHRGK-useToggleState.js";import{G as gt}from"./f_C3ZSRro0-GlowToggle.js";import bt from"./f_B3AvaQL1-index.js";function St(e){return ve("PrivateSwitchBase",e)}ge("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ct=e=>{const{classes:t,checked:o,disabled:n,edge:l}=e,r={root:["root",o&&"checked",n&&"disabled",l&&`edge${M(l)}`],input:["input"]};return be(r,St,t)},yt=N(Qe,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),kt=N("input",{name:"MuiSwitchBase",shouldForwardProp:Je})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),xt=pe(function(t,o){const{autoFocus:n,checked:l,checkedIcon:r,defaultChecked:c,disabled:i,disableFocusRipple:s=!1,edge:p=!1,icon:d,id:u,inputProps:h,inputRef:m,name:f,onBlur:b,onChange:S,onFocus:w,readOnly:F,required:A=!1,tabIndex:D,type:z,value:U,slots:J={},slotProps:Z={},...ee}=t,[H,te]=tt({controlled:l,default:!!c,name:"SwitchBase",state:"checked"}),T=Ye(),$=v=>{w&&w(v),T&&T.onFocus&&T.onFocus(v)},_=v=>{b&&b(v),T&&T.onBlur&&T.onBlur(v)},O=v=>{if(v.nativeEvent.defaultPrevented)return;const P=v.target.checked;te(P),S&&S(v,P)};let L=i;T&&typeof L>"u"&&(L=T.disabled);const ae=z==="checkbox"||z==="radio",I={...t,checked:H,disabled:L,disableFocusRipple:s,edge:p},q=Ct(I),K={slots:J,slotProps:{input:h,...Z}},[oe,R]=B("root",{ref:o,elementType:yt,className:q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...K,component:"span",...ee},getSlotProps:v=>({...v,onFocus:P=>{v.onFocus?.(P),$(P)},onBlur:P=>{v.onBlur?.(P),_(P)}}),ownerState:I,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:L,role:void 0,tabIndex:null}}),[ne,le]=B("input",{ref:m,elementType:kt,className:q.input,externalForwardedProps:K,getSlotProps:v=>({...v,onChange:P=>{v.onChange?.(P),O(P)}}),ownerState:I,additionalProps:{autoFocus:n,checked:l,defaultChecked:c,disabled:L,id:ae?u:void 0,name:f,readOnly:F,required:A,tabIndex:D,type:z,...z==="checkbox"&&U===void 0?{}:{value:U}}});return a(oe,{...R,children:[a(ne,{...le}),H?r:d]})});function wt(e){return ve("MuiDialog",e)}const re=ge("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Pt=N(nt,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Mt=e=>{const{classes:t,scroll:o,maxWidth:n,fullWidth:l,fullScreen:r}=e,c={root:["root"],container:["container",`scroll${M(o)}`],paper:["paper",`paperScroll${M(o)}`,`paperWidth${M(String(n))}`,l&&"paperFullWidth",r&&"paperFullScreen"]};return be(c,wt,t)},Tt=N(ot,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Bt=N("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${M(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Nt=N(Be,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${M(o.scroll)}`],t[`paperWidth${M(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(j(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${re.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ft=pe(function(t,o){const n=Te({props:t,name:"MuiDialog"}),l=at(),r={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":i,"aria-modal":s=!0,BackdropComponent:p,BackdropProps:d,children:u,className:h,disableEscapeKeyDown:m=!1,fullScreen:f=!1,fullWidth:b=!1,maxWidth:S="sm",onClick:w,onClose:F,open:A,PaperComponent:D=Be,PaperProps:z={},scroll:U="paper",slots:J={},slotProps:Z={},TransitionComponent:ee=ye,transitionDuration:H=r,TransitionProps:te,...T}=n,$={...n,disableEscapeKeyDown:m,fullScreen:f,fullWidth:b,maxWidth:S,scroll:U},_=Mt($),O=de(),L=V=>{O.current=V.target===V.currentTarget},ae=V=>{w&&w(V),O.current&&(O.current=null,F&&F(V,"backdropClick"))},I=Ze(i),q=Oe(()=>({titleId:I}),[I]),K={transition:ee,...J},oe={transition:te,paper:z,backdrop:d,...Z},R={slots:K,slotProps:oe},[ne,le]=B("root",{elementType:Tt,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:$,className:ie(_.root,h),ref:o}),[v,P]=B("backdrop",{elementType:Pt,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:$}),[Le,Ie]=B("paper",{elementType:Nt,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:$,className:ie(_.paper,z.className)}),[Re,We]=B("container",{elementType:Bt,externalForwardedProps:R,ownerState:$,className:_.container}),[He,_e]=B("transition",{elementType:ye,externalForwardedProps:R,ownerState:$,additionalProps:{appear:!0,in:A,timeout:H,role:"presentation"}});return a(ne,{closeAfterTransition:!0,slots:{backdrop:v},slotProps:{backdrop:{transitionDuration:H,as:p,...P}},disableEscapeKeyDown:m,onClose:F,open:A,onClick:ae,...le,...T,children:a(He,{..._e,children:a(Re,{onMouseDown:L,...We,children:a(Le,{as:D,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":I,"aria-modal":s,...Ie,children:a(mt.Provider,{value:q,children:u})})})})})});function At(e){return ve("MuiSwitch",e)}const C=ge("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),zt=e=>{const{classes:t,edge:o,size:n,color:l,checked:r,disabled:c}=e,i={root:["root",o&&`edge${M(o)}`,`size${M(n)}`],switchBase:["switchBase",`color${M(l)}`,r&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=be(i,At,t);return{...t,...s}},$t=N("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${M(o.edge)}`],t[`size${M(o.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${C.thumb}`]:{width:16,height:16},[`& .${C.switchBase}`]:{padding:4,[`&.${C.checked}`]:{transform:"translateX(16px)"}}}}]}),Dt=N(xt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${C.input}`]:t.input},o.color!=="default"&&t[`color${M(o.color)}`]]}})(j(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${C.checked}`]:{transform:"translateX(20px)"},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${C.checked} + .${C.track}`]:{opacity:.5},[`&.${C.disabled} + .${C.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${C.input}`]:{left:"-100%",width:"300%"}})),j(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(et(["light"])).map(([t])=>({props:{color:t},style:{[`&.${C.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${C.checked} + .${C.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),Lt=N("span",{name:"MuiSwitch",slot:"Track"})(j(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),It=N("span",{name:"MuiSwitch",slot:"Thumb"})(j(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Rt=pe(function(t,o){const n=Te({props:t,name:"MuiSwitch"}),{className:l,color:r="primary",edge:c=!1,size:i="medium",sx:s,slots:p={},slotProps:d={},...u}=n,h={...n,color:r,edge:c,size:i},m=zt(h),f={slots:p,slotProps:d},[b,S]=B("root",{className:ie(m.root,l),elementType:$t,externalForwardedProps:f,ownerState:h,additionalProps:{sx:s}}),[w,F]=B("thumb",{className:m.thumb,elementType:It,externalForwardedProps:f,ownerState:h}),A=a(w,{...F}),[D,z]=B("track",{className:m.track,elementType:Lt,externalForwardedProps:f,ownerState:h});return a(b,{...S,children:[a(Dt,{type:"checkbox",icon:A,checkedIcon:A,ref:o,ownerState:h,...u,classes:{...m,root:m.switchBase},slots:{...p.switchBase&&{root:p.switchBase},...p.input&&{input:p.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(h):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(h):d.input}}}),a(D,{...z})]})}),Ce=x(a("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Wt=x(a("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5"})),Ne=x(a("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),Ht=x([a("path",{d:"M15.54 5.54 13.77 7.3 12 5.54 10.23 7.3 8.46 5.54 12 2zm2.92 10-1.76-1.77L18.46 12l-1.76-1.77 1.76-1.77L22 12zm-10 2.92 1.77-1.76L12 18.46l1.77-1.76 1.77 1.76L12 22zm-2.92-10 1.76 1.77L5.54 12l1.76 1.77-1.76 1.77L2 12z"},"0"),a("circle",{cx:"12",cy:"12",r:"3"},"1")]),_t=x(a("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-5.04-6.71-2.75 3.54-1.96-2.36L6.5 17h11z"})),Fe=x(a("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2z"})),Ot=x(a("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"})),Ae=x(a("path",{d:"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25m6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8"})),Vt=x(a("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5"})),Et=x(a("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"})),jt=x(a("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Gt=x(a("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),Ut=x(a("path",{d:"M19.51 3.08 3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41M11.88 3 3 11.88v2.83L14.71 3zM5 3c-1.1 0-2 .9-2 2v2l4-4zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4zm-9.71 0h2.83L21 12.12V9.29z"})),qt=x(a("path",{d:"M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5"}));function ze({options:e,value:t,onChange:o,...n}){return a(Pe,{className:"SelectBox",value:t,onChange:r=>o(r.target.value),...n,children:e.map(({value:r,label:c=r,title:i})=>a(me,{value:r,title:i,children:c}))})}function Kt({target:e,keyList:t,labels:o=[],scale:n=1,inputProps:l={},onBeforeChange:r=void 0,onChange:c=void 0,...i}){const s=t.map(m=>e[m]/n),[p,d]=k(s),u=m=>{const f=m.currentTarget.value;if(f.endsWith("."))return;const b=parseInt(m.currentTarget.getAttribute("index")),S=parseFloat(f);if(isNaN(S))return;let w;d(D=>(w=[...D],w[b]=S,w));const F=S*n,A=t[b];r?.(w),e[A]=F,c?.(w)},h=m=>m.currentTarget.select();return a("div",{className:"SetNumbers",...i,children:t.map((m,f)=>a(fe,{className:"SetNumbers-number",onChange:u,value:p[f],label:o[f]??m,size:"small",margin:"dense",variant:"outlined",inputProps:{type:"number",index:f,onFocus:h,...l}},m))})}const Xt=["x","y","z","w"];function ce({target:e,dimension:t=3,scale:o=1,min:n,max:l,step:r,...c}){const i=Xt.slice(0,t);return a(Kt,{target:e,keyList:i,scale:o,inputProps:{min:n,max:l,step:r},className:"SetVector SetNumbers","data-dimension":t,...c})}const Yt=(e,t=-1/0,o=1/0)=>{if(e===void 0)return;let n=e;return n<t&&(n=t),n>o&&(n=o),n};function $e({target:e,propName:t,label:o,min:n,max:l,step:r=1,onBeforeChange:c,onChange:i,...s}){const[p,d]=k(e[t]);return a("div",{className:"SetNumber",children:a(fe,{onChange:h=>{if(!h.currentTarget.value)return;const m=parseFloat(h.currentTarget.value)||n;let f=Yt(m,n,l);d(f),c?.(f),e[t]=f,i?.(f)},value:p,label:o,size:"small",margin:"dense",variant:"outlined",inputProps:{type:"number",min:n,max:l,step:r},...s})})}function Qt({target:e,propName:t,label:o,inputProps:n={},onBeforeChange:l,onChange:r,...c}){const[i,s]=k(e[t]);return a("div",{className:"SetString",children:a(fe,{onChange:d=>{const u=d.currentTarget.value;s(u),l?.(u),e[t]=u,r?.(u)},value:i,label:o,size:"small",margin:"dense",variant:"outlined",inputProps:n,...c})})}function Jt({target:e,propName:t,onBeforeChange:o,onChange:n}){const[l,r]=k(e[t]);return a("div",{className:"SetBoolean",children:a(Rt,{onChange:()=>{const i=!l;r(i),o?.(i),e[t]=i,n?.(i)},checked:l})})}function Zt({target:e,propName:t,onBeforeChange:o,onChange:n}){const[l,r]=k(e[t]),{inputColor:c}=ue(),i=async()=>{const s=await c();s&&(r(s),o?.(s),e[t]=s,n?.(s))};return a("div",{className:"SetColor",children:a(rt,{color:l.startsWith("#")?l:"#"+l,onClick:i,style:{border:"1px solid rgba(255, 255, 255, 0.5)"}})})}function ea({target:e,propName:t,label:o,options:n,onBeforeChange:l,onChange:r,...c}){const[i,s]=k(e[t]);return a("div",{className:"SetFromList",children:a(ze,{onChange:d=>{s(d),l?.(d),e[t]=d,r?.(d)},options:n,value:i,size:"small",margin:"dense",...c})})}function ta({target:e,propName:t,label:o=t,title:n,valueMap:l=String,min:r=0,max:c=1,step:i=.01,onBeforeChange:s,onChange:p,...d}){const[u,h]=k(e[t]),m=(b,S)=>{h(S),s?.(S),e[t]=S,p?.(S)},f=`${o}: ${l(u)}`;return a(g,{children:[a("div",{className:"Setters-label",title:n,children:f}),a("div",{className:"Setters-slider",children:a(st,{size:"small",value:u,min:r,max:c,step:i,onChange:m,...d})})]})}function W({target:e,propList:t}){const o=t.map(n=>{const{propName:l,label:r=l,title:c,type:i,...s}=n,p=aa[i];switch(i){case"slider":return a(ta,{target:e,propName:l,label:r,title:c,...s});case"vector":return a(g,{children:[a("div",{className:"Setters-label vector",title:c,children:r}),a(ce,{target:e[l],...s})]});default:return a(g,{children:[a("div",{className:"Setters-label",title:c,children:r}),a(p,{target:e,propName:l,...s})]})}});return a("div",{className:"Setters",children:o})}const aa={boolean:Jt,number:$e,string:Qt,color:Zt,select:ea};function oa({target:e,name:t}){if(!e)return null;const o=e.list.map(l=>({value:l}));o.push({value:"None"});const n=[{propName:"current",label:t.replaceAll("_"," "),type:"select",options:o}];return a(W,{target:e,propList:n})}function na({list:e}){const t=e.map(({name:i})=>i),o=i=>e.find(({name:s})=>s===i),n=Object.fromEntries(t.map(i=>[i,o(i)?.visible])),[l,r]=k(n);return a(Xe,{name:"",options:t,type:"text",state:l,toggle:(i,s)=>{const p=!l[s];r({...l,[s]:p}),o(s).visible=p}})}function la({target:e}){const{parts:t}=e;if(!t)return null;const{list:o,others:n}=t;return a("div",{className:"BodyPartsController",children:[o.map(l=>a(oa,{target:t[l],name:l})),n.length>0&&a(G,{children:[a(g,{children:o.length?"Other Parts":"Body Parts"}),a(na,{list:n})]})]})}const ra=[{value:"img/textures/particle/cloud.png",label:"Cloud"},{value:"img/textures/particle/smoke.png",label:"Smoke"},{value:"img/textures/particle/heart.png",label:"Heart"}],sa=[{propName:"visible",label:"Visible",type:"boolean"},{propName:"speed",label:"Speed",type:"slider",title:"How fast the aura rises",min:0,max:10,step:.5},{propName:"auraSize",label:"Aura Size",type:"number",title:"How big the aura is",min:0,step:10},{propName:"auraOpacity",label:"Aura Opacity",type:"slider",title:"How opaque the aura is",min:0,max:1,step:.05},{propName:"particleSize",label:"Particle Size",type:"number",title:"How big the particles are",min:0,step:1},{propName:"particleOpacity",label:"Particle Opacity",type:"slider",title:"How opaque the particles are",min:0,max:1,step:.05},{propName:"spread",label:"Spread",type:"number",title:"Distance from the model",min:0,step:1},{propName:"threshold",label:"Threshold",type:"slider",title:"Higher value means less aura, more particles",min:0,max:.7,step:.05},{propName:"color",label:"Color",type:"color"},{propName:"color2",label:"Color 2",type:"color"},{propName:"texture",label:"Texture",type:"select",options:ra}];function ia({target:e}){const{name:t}=e;return a(G,{disableGutters:!0,className:"AuraController",children:[a(g,{children:[t,a(Se,{title:"Remove",className:"closeButton",onClick:l=>{l.stopPropagation(),e.dispose()},children:a(Q,{})})]}),a(W,{target:e,propList:sa})]})}function ca({target:e}){const{particle:t}=e,[o,n]=Y();return X(()=>{const{list:r}=t,c=r.addEventListener("change",n);return()=>r.removeEventListener("change",c)},[]),a(G,{disableGutters:!0,className:"ParticleController",children:[a(g,{children:[a("div",{className:"title",children:[a(Ne,{}),"Particles"]}),a(y,{onClick:r=>{r.stopPropagation(),t.add(),n()},title:"Add particles",variant:"contained",children:a(Ce,{})})]}),a(he.Fragment,{children:t.list.length?t.list.map((r,c)=>a(ia,{target:r},o+c)):"Click + to add particles"},o)]})}const pa=({onClick:e,color:t="#101010",title:o})=>a(ht,{position:"absolute",top:0,right:0,children:a(Se,{sx:{color:t,zIndex:5},onClick:e,size:"large",title:o,children:a(Q,{})})}),da={sx:{margin:"0.3rem",minWidth:"12rem",minHeight:"12rem",maxHeight:"calc(100% - 2rem)"}},De=({children:e,open:t,closeModal:o,...n})=>t?Ve(a(Ft,{className:"Modal",maxWidth:"lg",open:t,onClose:o,PaperProps:da,...n,children:[a(pa,{onClick:o,title:"Close"}),e]}),document.getElementById("modal-root")):a(g,{}),ua={face:ft,faceTexture:vt};function ha({target:e}){const t=e?.face;if(!t)return a(g,{});const[o,n]=k(""),l=()=>n(""),r=ua[o]??g,c=s=>{const{value:p}=s.currentTarget.dataset;n(p)},i=(...s)=>{const[p,d]=s;switch(o){case"face":e.face[`${d}BaseIdx`]=p;return;case"faceTexture":e.face[`${d}Texture`]=p;return;default:return}};return a("div",{className:"FaceController",children:[a(y,{variant:"contained",startIcon:a(Vt,{}),onClick:c,"data-value":"face",children:"Facial Expresion"}),t.type==="uv"&&a(y,{variant:"contained",startIcon:a(Ae,{}),onClick:c,"data-value":"faceTexture",children:"Face Texture"}),a(De,{closeModal:l,open:!!o,children:a(r,{target:e,onSelect:i,onAfterSelect:l})})]})}const ma={backgroundColor:"#101010",color:"#ccc","& li:not(:last-child)":{borderBottom:"1px solid #ffffff33"},"& li[data-current]":{backgroundColor:"#202020",color:"#fff",borderColor:"#fff"},"& li:hover":{backgroundColor:"#ffffff33"}};function fa({target:e,isReverse:t}){const{animation:o}=e,n=Math.abs(o.mixer.timeScale),[l,r]=k(n),[c,i]=k(null),s=h=>{h.stopPropagation(),i(h.currentTarget)},p=()=>i(null),d=Array(8).fill().map((h,m)=>m*.25+.25),u=h=>{const{value:m}=h.target.dataset;o.mixer.timeScale=t?-m:m,r(parseFloat(m)),p()};return a(g,{children:[a(y,{title:"Time Scale",onClick:s,children:`${l}x`}),a(lt,{anchorEl:c,open:!!c,onClose:p,className:"TimeScaleSelect",PaperProps:{sx:ma},children:d.map(h=>a(me,{onClick:u,"data-value":h,"data-current":h===l,children:`${h}x`}))})]})}function va({target:e}){const{animation:t}=e,[o,n]=ke(t.isPaused),[l,r]=ke(t.mixer.timeScale<0),c=()=>{o?t.resume():t.pause(),n()},i=()=>{t.mixer.timeScale*=-1,r()},s=p=>{const{dir:d}=p.currentTarget.dataset,u=d==="next"?1:-1,m=1/60*u;o?(t.resume(),t.update(m),t.pause()):t.update(m)};return a("div",{className:"ModelTimeControl",children:[a(it,{children:[a(y,{variant:"contained","data-dir":"prev",onClick:s,title:"Previous Frame",children:a(ct,{})}),a(y,{variant:"contained",onClick:c,title:o?"Resume":"Pause",children:o?a(pt,{}):a(dt,{})}),a(y,{variant:"contained","data-dir":"next",onClick:s,title:"Next Frame",children:a(ut,{})})]}),a(gt,{type:"text",value:"Reverse",checked:l,onClick:i}),a(fa,{isReverse:l,target:e})]})}function ga({target:e}){const{inputAni:t}=ue(),{toggle:o,setTarget:n}=Ee(),{loadState:l}=je();return a("div",{className:"AnimationController",children:[a(va,{target:e}),a(y,{variant:"contained",startIcon:a(Fe,{}),onClick:async()=>{l(e?.userData.aniSelectState);const s=await t();if(!s)return;const p=e?.animation.isPaused,[d,u]=s;e?.animation.addChain(d).then(()=>p&&e.animation.pause());const h=Ge(d,u);e?.userData&&(e.userData.chain?.splice(0,1/0,...h)??(e.userData.chain=h))},title:"Add Animation",children:"Add Animation"}),a(y,{variant:"contained",startIcon:a(Gt,{}),onClick:()=>{n(e),l(e?.userData.aniSelectState),o()},title:"Open Chain Maker",children:"Chain Maker"}),a(y,{variant:"contained",startIcon:a(Q,{}),onClick:()=>{e?.animation?.reset(),e?.userData?.chain.splice(0,1/0)},title:"Remove Animation",children:"Reset"})]})}function ba({target:e}){if(!e)return a(g,{});const{inputModel:t}=ue(),o=["root",...e?.bones?.list??[]],[n,l]=k(o[0]),r=Ue(e.attachment.list.map(u=>u.parentBone)),[c,i]=Y();X(()=>e?.addEventListener("AttachmentChanged",i),[]);const s=u=>l(u.target.value),p=async(u=n)=>{const h=await t();if(!h)return;const[m,f]=h,b=await se.loadDLModel(m);b.userData.name=f,e.attach(b,u==="root"?void 0:u),b.outline.code=e.outline.code,b.material.code=e.material.code,se.render()},d=()=>p();return a(he.Fragment,{children:[a("div",{className:"AttachmentController-add",children:[a(Pe,{className:"AttachmentController-select",onChange:s,value:n,children:o.map(u=>a(me,{value:u,children:u},u))}),a(y,{title:"Add attachment to selected joint",variant:"contained",onClick:d,children:a(Ce,{})})]}),a("div",{className:"AttachmentList",children:r.map(u=>a(_a,{target:e,add:p,bone:u},u))},c)]},e.uniqueId)}const Sa=a("img",{className:"btn-icon",src:"img/appIcon/weapon.png",alt:"Add Weapon"});function Ca({target:e}){const[t,o]=k(!1),n=e.bones.list.includes("jWeaponR");return a("div",{className:"AttachmentController",children:[n&&a(y,{title:"Add Weapon",startIcon:Sa,onClick:()=>o(!0),children:"Add Weapon"}),a(ba,{target:e}),a(De,{open:t,closeModal:()=>o(!1),children:a(bt,{target:e})})]})}const ya={propName:"texture",label:"Texture",type:"select"};function ka({target:e}){const t=Me(n=>n["model-texture"]);if(!t?.[e.id])return null;const o=[{...ya,options:t[e.id]}];return a("div",{className:"TextureController",children:a(W,{target:e,propList:o})})}const xa=e=>!!Me.getState()?.["model-texture"]?.[e],wa=["Position","Rotation","Scale","Outline","Material","Particles","Animation","Attachment"],Pa={Position:Ht,Rotation:qt,Scale:Et,Outline:jt,Material:Ut,Particles:Ne,Animation:Fe,Attachment:Wt,"Body Parts":Ot,Face:Ae,Texture:_t},Ma=({target:e,type:t,...o})=>{switch(t){case"Position":return a(ce,{target:e.position,step:.005,...o},"position");case"Rotation":return a(ce,{target:e.rotation,min:-1,max:1,step:.05,scale:Math.PI*2,...o},"rotation");case"Scale":return a($e,{target:e,propName:"scale",label:"Scale",step:.05,...o});case"Outline":return a($a,{target:e});case"Material":return a(Wa,{target:e});case"Particles":return a(ca,{target:e});case"Animation":return a(ga,{target:e});case"Attachment":return a(Ca,{target:e});case"Face":return a(ha,{target:e});case"Body Parts":return a(la,{target:e});case"Texture":return a(ka,{target:e});default:return a(g,{})}},Ta=e=>{const t=[...wa];return e.face&&t.push("Face"),e.parts&&t.push("Body Parts"),xa(e.id)&&t.push("Texture"),t},Ba=e=>e.map(t=>({value:t})),Na=e=>e.map(t=>{const o=Pa[t]??g;return{value:t,icon:a(o,{})}});function Fa({value:e,onChange:t,tabs:o,orientation:n="horizontal",className:l=""}){l=`IconTabBar ${l} `+n;const r=c=>{const{value:i}=c.currentTarget.dataset;t(i)};return a("div",{className:l,children:o.map(c=>{const{icon:i,value:s,title:p=s}=c;return a("button",{...e===s&&{className:"selected"},title:p,"data-value":s,onClick:r,children:i})})})}function Aa({value:e,list:t,onChange:o}){const n=Na(t);return a("div",{children:a(Fa,{className:"QuickAccess",value:e,onChange:o,tabs:n})})}function za({target:e}){const t=Ta(e),[o,n]=k(e.userData.controller??t[0]),l=Ba(t),r=c=>{e.userData.controller=c,n(c)};return a("div",{className:"ModelController",children:[a(Aa,{list:t,value:o,onChange:r}),a(ze,{options:l,value:o,onChange:r,fullWidth:!0,size:"small"}),a(Ma,{type:o,target:e})]})}const xe=[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"size",label:"Size",type:"slider",min:1,max:20,step:1},{propName:"opacity",label:"Opacity",type:"slider",step:.1,valueMap:e=>`${~~(e*100)}%`},{propName:"color",label:"Color",type:"color"}];function $a({target:e}){const{outline:t}=e,[o,n]=Y(),l=de(!1);X(()=>{const i=t.addEventListener("change",()=>{if(l.current){l.current=!1;return}n()});return()=>t.removeEventListener("change",i)},[]);const r=()=>{const{code:i}=t;e.attachment.traverse(s=>s.outline.code=i)};return xe.forEach(i=>{i.onBeforeChange=()=>l.current=!0,i.onChange=r}),a(g,{children:[a(W,{target:t,propList:xe},o),a("div",{className:"SettingGroup-extra",children:a(y,{onClick:()=>{const i=se.settings.outline;Object.entries(i).forEach(([s,p])=>{t[s]=p}),r(),n()},children:"Reset"})})]})}const Da=[{value:"Basic",title:"Most basic, doesn't respond to light"},{value:"Toon",title:"Toon shading, also called cell shading"},{value:"Lambert",title:"For matte or diffusely reflecting surface"},{value:"Phong",title:"For shiny surface"},{value:"Standard",title:"For physically based rendering"},{value:"Physical",title:"For physically based rendering, can simulate transparency like water or glass"},{value:"Matcap",title:"Material capture, doesn't respond to light"},{value:"MMDToon",label:"MMD Toon",title:"Combination of Phong, Toon, and Matcap material"}],La=[{value:"none",label:"None"},{value:"127,255",label:"2 Tones"},{value:"85,170,255",label:"3 Tones"},{value:"64,128,172,255",label:"4 Tones"}],Ia=[{label:"Fresnel",value:"matcap_fresnel.jpg"},{label:"Black Stone",value:"matcap_black_stone.jpg"},{label:"Chrome 1",value:"matcap_chrome_1.jpg"},{label:"Chrome 2",value:"matcap_chrome_2.jpg"},{label:"Brown Clay",value:"matcap_clay_brown.jpg"},{label:"Dark Brown Clay",value:"matcap_clay_dark_brown.jpg"},{label:"Flesh Clay",value:"matcap_clay_flesh_6.jpg"},{label:"Gray Clay",value:"matcap_clay_gray.jpg"},{label:"Metal Putty",value:"matcap_metal_putty.jpg"},{label:"Obsidian",value:"matcap_obsidian.jpg"},{label:"Pearl",value:"matcap_pearl.jpg"},{label:"Yellow Plastic",value:"matcap_plastic_yellow.jpg"},{label:"Sci-fi Plastic",value:"matcap_scifi_plastic.jpg"},{label:"Slick Mud",value:"matcap_slick_mud.jpg"},{label:"Shiny Metal",value:"metal_shiny.jpg"}],E=e=>`${~~(e*100)}%`,we=[{propName:"type",label:"Type",type:"select",options:Da}],Ra=[{propName:"transparent",label:"Transparent",type:"boolean",title:"Whether to allow seeing through the model"},{propName:"opacity",label:"Opacity",type:"slider",title:"The opacity of the material",min:0,max:1,valueMap:E},{propName:"showTexture",label:"Texture",type:"boolean",title:"Show / hide model texture"},{propName:"color",label:"Color",type:"color",title:"The color of the material. Default is white"},{propName:"wireframe",label:"Wireframe",type:"boolean",title:"Whether to show the model as wireframe. Turn off outline to only see the wireframe"},{propName:"flatShading",label:"Flat Shading",type:"boolean",title:"Whether to use flat shading"},{propName:"emissive",label:"Emissive",type:"color",title:"The emissive color of the material, essentially a solid color unaffected by other lighting. Default is black"},{propName:"emissiveIntensity",label:"Emissive Intensity",type:"slider",title:"The intensity of the emissive light. Default is 1",min:0,max:1,valueMap:E},{propName:"specular",label:"Specular",type:"color"},{propName:"metalness",label:"Metalness",type:"slider",title:"How much the material is like a metal. Default is 0",min:0,max:1,valueMap:E},{propName:"roughness",label:"Roughness",type:"slider",title:"How rough the material is, 0 means a smooth mirror reflection, 1 means fully diffuse. Default is 1",min:0,max:1,valueMap:E},{propName:"shininess",label:"Shininess",type:"slider",title:"How shiny the specular highlight is, a higher value gives a sharper highlight. Default is 30",min:1,max:100,step:1},{propName:"gradientMap",label:"Gradient Map",type:"select",title:"The gradient map to use",options:La},{propName:"matcap",label:"Matcap",type:"select",title:"The matcap to use",options:Ia},{propName:"transmission",label:"Transmission",type:"slider",title:"The amount of light passing through the material. Default is 0",min:0,max:1,valueMap:E},{propName:"thickness",label:"Thickness",type:"slider",title:"The thickness of the material. Default is 0",min:0,max:10},{propName:"ior",label:"Index of Refraction",type:"slider",title:"The index of refraction of the material. Default is 1.5",min:1,max:2.333}];function Wa({target:e}){const{material:t}=e,{propList:o}=t,[n,l]=Y(),r=de(!1);X(()=>{const s=t.addEventListener("change",()=>{if(r.current){r.current=!1;return}l()});return()=>t.removeEventListener("change",s)},[]);const c=()=>{const{code:s}=t;e.attachment.traverse(p=>{p.material.code=s})};we[0].onChange=()=>{l(),c()};const i=Ra.filter(({propName:s})=>o.includes(s));return i.forEach(s=>{s.onBeforeChange=()=>r.current=!0,s.onChange=c}),a(he.Fragment,{children:[a(W,{target:t,propList:we}),a(W,{target:t,propList:i})]},n)}function Ha({target:e,label:t=e?.userData?.name??e.id}){const o=r=>{r.stopPropagation(),e.dispose()},n=a(Ke,{modelId:e.id,alt:e?.userData.name,className:"FullModelController-icon"});return a(G,{className:"FullModelController",children:[a(g,{children:[n,t,a(Se,{title:"Remove",className:"closeButton",onClick:o,size:"large",children:a(Q,{})})]}),a(za,{target:e})]})}function _a({bone:e,add:t,target:o}){const{activeModel:n}=qe();o??=n;const l=o?.attachment[e]??[];return a(G,{defaultOpen:!0,className:"BoneManager",disableGutters:!0,children:[a(g,{children:[a("div",{className:"BoneManager-name",children:e}),a(y,{variant:"contained",className:"BoneManager-add",onClick:c=>{c.stopPropagation(),t(e)},children:a(Ce,{})})]}),a(g,{children:l.map(c=>a(Ha,{target:c}))})]})}export{Ce as A,_a as B,pa as C,Fe as D,Ha as F,Fa as I,De as M,$a as O,jt as P,Gt as S,Ut as T,Vt as a,Ae as b,Wa as c,ka as d,la as e,Wt as f,ca as g,W as h,qt as i};
