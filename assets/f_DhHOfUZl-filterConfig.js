import{k as O,m as F,u as r,T as D,A as Z,N as ct,h as tt,j as et,D as dt,y as pt}from"./index-DH7SPYsw.js";import{L as h,i as mt,a as ut,M as gt}from"./f_C2otazIM-Gallery.js";import{g as C,a as G,s as R,u as W,d as M,e as U,m as ot,w as st,B as yt,r as ft,b as E,n as bt}from"./f_m4toyo-e-ButtonBase.js";import{i as X}from"./f_DgdbVRiY-Popover.js";import{t as q,T as B}from"./f_Dnw0Zr-N-DialogTitle.js";import{B as vt}from"./f_XwZpw0y2-Box.js";import{G as It}from"./f_D4MfPma4-GlowToggle.js";import{c as ht}from"./f_BHHfM9Rz-createSvgIcon.js";import{W as nt,R as rt,E as at,F as Ct,a as xt}from"./f_DYP9L6OC-lists.js";const J=C("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Lt(t){return G("MuiListItem",t)}C("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const St=C("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Mt(t){return G("MuiListItemSecondaryAction",t)}C("MuiListItemSecondaryAction",["root","disableGutters"]);const $t=t=>{const{disableGutters:e,classes:o}=t;return U({root:["root",e&&"disableGutters"]},Mt,o)},kt=R("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),it=O(function(e,o){const s=W({props:e,name:"MuiListItemSecondaryAction"}),{className:n,...a}=s,i=F(h),c={...s,disableGutters:i.disableGutters},l=$t(c);return r(kt,{className:M(l.root,n),ownerState:c,ref:o,...a})});it.muiName="ListItemSecondaryAction";const wt=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.alignItems==="flex-start"&&e.alignItemsFlexStart,o.divider&&e.divider,!o.disableGutters&&e.gutters,!o.disablePadding&&e.padding,o.hasSecondaryAction&&e.secondaryAction]},Tt=t=>{const{alignItems:e,classes:o,dense:s,disableGutters:n,disablePadding:a,divider:i,hasSecondaryAction:c}=t;return U({root:["root",s&&"dense",!n&&"gutters",!a&&"padding",i&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},Lt,o)},Rt=R("div",{name:"MuiListItem",slot:"Root",overridesResolver:wt})(ot(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${St.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),At=R("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Pt=O(function(e,o){const s=W({props:e,name:"MuiListItem"}),{alignItems:n="center",children:a,className:i,component:c,components:l={},componentsProps:g={},ContainerComponent:y="li",ContainerProps:{className:b,...v}={},dense:f=!1,disableGutters:p=!1,disablePadding:m=!1,divider:d=!1,secondaryAction:u,slotProps:I={},slots:j={},...A}=s,H=F(h),V=D(()=>({dense:f||H.dense||!1,alignItems:n,disableGutters:p}),[n,H.dense,f,p]),lt=Z(null),x=ct.toArray(a),z=x.length&&mt(x[x.length-1],["ListItemSecondaryAction"]),P={...s,alignItems:n,dense:V.dense,disableGutters:p,disablePadding:m,divider:d,hasSecondaryAction:z},_=Tt(P),Y=st(lt,o),N=j.root||l.Root||Rt,$=I.root||g.root||{},k={className:M(_.root,$.className,i),...A};let L=c||"li";return z?(L=!k.component&&!c?"div":L,y==="li"&&(L==="li"?L="div":k.component==="li"&&(k.component="div")),r(h.Provider,{value:V,children:r(At,{as:y,className:M(_.container,b),ref:Y,ownerState:P,...v,children:[r(N,{...$,...!X(N)&&{as:L,ownerState:{...P,...$.ownerState}},...k,children:x}),x.pop()]})})):r(h.Provider,{value:V,children:r(N,{...$,as:L,ref:Y,...!X(N)&&{ownerState:{...P,...$.ownerState}},...k,children:[x,u&&r(it,{children:u})]})})}),K=C("MuiListItemIcon",["root","alignItemsFlexStart"]);function Nt(t){return G("MuiListItemText",t)}const S=C("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Et=t=>{const{classes:e,inset:o,primary:s,secondary:n,dense:a}=t;return U({root:["root",o&&"inset",a&&"dense",s&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},Nt,e)},Bt=R("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${S.primary}`]:e.primary},{[`& .${S.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${q.root}:where(& .${S.primary})`]:{display:"block"},[`.${q.root}:where(& .${S.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Ot=O(function(e,o){const s=W({props:e,name:"MuiListItemText"}),{children:n,className:a,disableTypography:i=!1,inset:c=!1,primary:l,primaryTypographyProps:g,secondary:y,secondaryTypographyProps:b,...v}=s,{dense:f}=F(h);let p=l??n,m=y;const d={...s,disableTypography:i,inset:c,primary:!!p,secondary:!!m,dense:f},u=Et(d);return p!=null&&p.type!==B&&!i&&(p=r(B,{variant:f?"body2":"body1",className:u.primary,component:g!=null&&g.variant?void 0:"span",...g,children:p})),m!=null&&m.type!==B&&!i&&(m=r(B,{variant:"body2",className:u.secondary,color:"textSecondary",...b,children:m})),r(Bt,{className:M(u.root,a),ownerState:d,ref:o,...v,children:[p,m]})});function Ft(t){return G("MuiMenuItem",t)}const w=C("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Gt=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.divider&&e.divider,!o.disableGutters&&e.gutters]},Wt=t=>{const{disabled:e,dense:o,divider:s,disableGutters:n,selected:a,classes:i}=t,l=U({root:["root",o&&"dense",e&&"disabled",!n&&"gutters",s&&"divider",a&&"selected"]},Ft,i);return{...i,...l}},Ut=R(yt,{shouldForwardProp:t=>ft(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Gt})(ot(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${w.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:E(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${w.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:E(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${w.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:E(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:E(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${w.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${w.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${J.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${J.inset}`]:{marginLeft:52},[`& .${S.root}`]:{marginTop:0,marginBottom:0},[`& .${S.inset}`]:{paddingLeft:36},[`& .${K.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${K.root} svg`]:{fontSize:"1.25rem"}}}]}))),jt=O(function(e,o){const s=W({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:a="li",dense:i=!1,divider:c=!1,disableGutters:l=!1,focusVisibleClassName:g,role:y="menuitem",tabIndex:b,className:v,...f}=s,p=F(h),m=D(()=>({dense:i||p.dense||!1,disableGutters:l}),[p.dense,i,l]),d=Z(null);bt(()=>{n&&d.current&&d.current.focus()},[n]);const u={...s,dense:m.dense,divider:c,disableGutters:l},I=Wt(s),j=st(d,o);let A;return s.disabled||(A=b!==void 0?b:-1),r(h.Provider,{value:m,children:r(Ut,{ref:j,role:y,tabIndex:A,component:a,focusVisibleClassName:M(I.focusVisible,g),className:M(I.root,v),...f,ownerState:u,classes:I})})}),T={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{cursor:"pointer",textAlign:"center","&[data-multi]::after":{content:'"▼"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}},Q=t=>r("img",{...t,style:T.icon});function Vt({level:t=0,selectedIndices:e,options:o,setIndex:s}){const[n,a]=tt(null),i=o.length>1;e[t]??s(t,0);const c=d=>{a(d.currentTarget)},l=d=>{const{level:u,index:I}=d.target.dataset;s(parseInt(u),parseInt(I)),a(null)},g=()=>{a(null)},y=e[t]??0,{label:b,value:v,icon:f,options:p}=o[y],m=r(et,{children:[r(ut,{disablePadding:!0,sx:T.list,children:r(Pt,{"data-multi":i,sx:T.listItem,onClick:c,children:[f&&r(Q,{alt:v,src:f}),r(Ot,{primary:`${b}`})]})}),i&&r(gt,{anchorEl:n,keepMounted:!0,open:!!n,onClose:g,children:o.map((d,u)=>r(jt,{selected:u===y,onClick:l,sx:T.menuItem,"data-index":u,"data-level":t,children:[d.icon&&r(Q,{alt:d.value,src:d.icon}),d.label]},d.value))}),p&&r(Vt,{options:p,selectedIndices:e,level:t+1,setIndex:s})]});return t===0?r(vt,{className:"Breadcrumbs",sx:T.box,children:m}):m}const Dt=(t,e)=>o=>{const s=o[t],n=s==null?void 0:s[e];n!==void 0&&(s[e]=!n,Object.values(s).every(Boolean)&&Object.keys(s).forEach(a=>s[a]=!1))};function Ht(t){const e=D(()=>zt(t),[t]),[o,s]=tt(e);return[o,(i,c)=>s(l=>dt(l,Dt(i,c))),()=>s(e)]}function zt(t){const e=t.map(({name:o,options:s})=>{const n=s.map(i=>[i,!1]),a=Object.fromEntries(n);return[o,a]});return Object.fromEntries(e)}function _t({name:t,options:e,type:o,state:s,toggle:n}){const a=l=>{const{group:g,value:y}=l.currentTarget.dataset;n(g,y)},i=l=>`img/appIcon/${t}_${l}.png`,c=e.map(l=>r(It,{icon:i(l),value:l,type:o,checked:s[l],"data-group":t,onClick:a}));return r("div",{className:"ToggleGroup",children:c})}const Yt=t=>Object.entries(t).map(([s,n])=>[s,Object.keys(n).filter(a=>n[a])]).filter(([,s])=>s.length);function ne({config:t,onChange:e,compact:o}){if(!t)return r(et,{});const[s,n,a]=Ht(t);pt(()=>{const c=Yt(s);e(c)},[s]);const i=t.map((c,l)=>r(_t,{state:s[c.name],toggle:n,...c},l));return r("div",{className:"Filter","data-compact":o,children:[i,r("button",{className:"Filter-reset",onClick:a,children:r("span",{children:"Reset"})})]})}const re=ht(r("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Xt(t){return new Worker("/dl-model/assets/filterWorker-CSgpPupm.js",{name:t==null?void 0:t.name})}function ae(t,e){if(!e.length)return t;const o=new Xt;return new Promise(s=>{o.addEventListener("message",n=>{o.terminate(),s(n.data)}),o.postMessage({fullList:t,conditions:e})})}const ie=[{name:"weapon",type:"icon",options:nt},{name:"rarity",type:"icon",options:rt},{name:"element",type:"icon",options:at}],le=[{name:"rarity",type:"icon",options:rt},{name:"element",type:"icon",options:at}],ce=[{name:"weapon",type:"icon",options:nt},{name:"rarity",type:"icon",options:Ct},{name:"element",type:"icon",options:xt}];export{Vt as B,re as F,jt as M,_t as T,ne as a,ie as c,le as d,ae as f,ce as w};
