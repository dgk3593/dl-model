import{D as U,x as j,u as r,T as Y,A as tt,O as mt,d as et,k as ot,B as ut,y as gt}from"./index-BkiVhZtx.js";import{L,i as yt,a as ft,M as bt}from"./f_hX7kXVgq-Gallery.js";import{a as P,g as V,u as D,c as w,e as H,s as B,z as st,m as nt,w as vt,B as It,n as ht}from"./f_-3uQya8k-CircularProgress.js";import{e as W,j as q}from"./f_8SXTldIl-Popover.js";import{T as O,t as J}from"./f_C9KrMtrQ-DialogTitle.js";import{B as xt}from"./f_YTJv_7QQ-Box.js";import{G as Ct}from"./f_CkVosX9P-GlowToggle.js";import{c as St}from"./f_BpDCtQPJ-createSvgIcon.js";import{W as rt,R as at,E as it,F as Lt,a as Pt}from"./f_DiYrPnzR-lists.js";const K=P("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Tt(t){return V("MuiListItem",t)}P("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Mt=P("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function wt(t){return V("MuiListItemSecondaryAction",t)}P("MuiListItemSecondaryAction",["root","disableGutters"]);const At=t=>{const{disableGutters:e,classes:o}=t;return H({root:["root",e&&"disableGutters"]},wt,o)},kt=B("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),lt=U(function(e,o){const s=D({props:e,name:"MuiListItemSecondaryAction"}),{className:n,...a}=s,i=j(L),c={...s,disableGutters:i.disableGutters},l=At(c);return r(kt,{className:w(l.root,n),ownerState:c,ref:o,...a})});lt.muiName="ListItemSecondaryAction";const Rt=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.alignItems==="flex-start"&&e.alignItemsFlexStart,o.divider&&e.divider,!o.disableGutters&&e.gutters,!o.disablePadding&&e.padding,o.hasSecondaryAction&&e.secondaryAction]},$t=t=>{const{alignItems:e,classes:o,dense:s,disableGutters:n,disablePadding:a,divider:i,hasSecondaryAction:c}=t;return H({root:["root",s&&"dense",!n&&"gutters",!a&&"padding",i&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},Tt,o)},Nt=B("div",{name:"MuiListItem",slot:"Root",overridesResolver:Rt})(nt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Mt.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Bt=B("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Et=U(function(e,o){const s=D({props:e,name:"MuiListItem"}),{alignItems:n="center",children:a,className:i,component:c,components:l={},componentsProps:f={},ContainerComponent:u="li",ContainerProps:{className:I,...C}={},dense:b=!1,disableGutters:g=!1,disablePadding:y=!1,divider:d=!1,secondaryAction:p,slotProps:m={},slots:h={},...x}=s,E=j(L),A=Y(()=>({dense:b||E.dense||!1,alignItems:n,disableGutters:g}),[n,E.dense,b,g]),z=tt(null),v=mt.toArray(a),F=v.length&&yt(v[v.length-1],["ListItemSecondaryAction"]),S={...s,alignItems:n,dense:A.dense,disableGutters:g,disablePadding:y,divider:d,hasSecondaryAction:F},_=$t(S),X=st(z,o),ct={slots:h,slotProps:m},[dt,pt]=W("secondaryAction",{elementType:lt,externalForwardedProps:ct,ownerState:S,className:_.secondaryAction}),G=h.root||l.Root||Nt,k=m.root||f.root||{},R={className:w(_.root,k.className,i),...x};let T=c||"li";return F?(T=!R.component&&!c?"div":T,u==="li"&&(T==="li"?T="div":R.component==="li"&&(R.component="div")),r(L.Provider,{value:A,children:r(Bt,{as:u,className:w(_.container,I),ref:X,ownerState:S,...C,children:[r(G,{...k,...!q(G)&&{as:T,ownerState:{...S,...k.ownerState}},...R,children:v}),v.pop()]})})):r(L.Provider,{value:A,children:r(G,{...k,as:T,ref:X,...!q(G)&&{ownerState:{...S,...k.ownerState}},...R,children:[v,p&&r(dt,{...pt,children:p})]})})}),Q=P("MuiListItemIcon",["root","alignItemsFlexStart"]);function Ft(t){return V("MuiListItemText",t)}const M=P("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Gt=t=>{const{classes:e,inset:o,primary:s,secondary:n,dense:a}=t;return H({root:["root",o&&"inset",a&&"dense",s&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},Ft,e)},Ot=B("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${M.primary}`]:e.primary},{[`& .${M.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${J.root}:where(& .${M.primary})`]:{display:"block"},[`.${J.root}:where(& .${M.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Wt=U(function(e,o){const s=D({props:e,name:"MuiListItemText"}),{children:n,className:a,disableTypography:i=!1,inset:c=!1,primary:l,primaryTypographyProps:f,secondary:u,secondaryTypographyProps:I,slots:C={},slotProps:b={},...g}=s,{dense:y}=j(L);let d=l??n,p=u;const m={...s,disableTypography:i,inset:c,primary:!!d,secondary:!!p,dense:y},h=Gt(m),x={slots:C,slotProps:{primary:f,secondary:I,...b}},[E,A]=W("root",{className:w(h.root,a),elementType:Ot,externalForwardedProps:{...x,...g},ownerState:m,ref:o}),[z,v]=W("primary",{className:h.primary,elementType:O,externalForwardedProps:x,ownerState:m}),[F,S]=W("secondary",{className:h.secondary,elementType:O,externalForwardedProps:x,ownerState:m});return d!=null&&d.type!==O&&!i&&(d=r(z,{variant:y?"body2":"body1",component:v?.variant?void 0:"span",...v,children:d})),p!=null&&p.type!==O&&!i&&(p=r(F,{variant:"body2",color:"textSecondary",...S,children:p})),r(E,{...A,children:[d,p]})});function Ut(t){return V("MuiMenuItem",t)}const $=P("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),jt=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.divider&&e.divider,!o.disableGutters&&e.gutters]},Vt=t=>{const{disabled:e,dense:o,divider:s,disableGutters:n,selected:a,classes:i}=t,l=H({root:["root",o&&"dense",e&&"disabled",!n&&"gutters",s&&"divider",a&&"selected"]},Ut,i);return{...i,...l}},Dt=B(It,{shouldForwardProp:t=>ht(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:jt})(nt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${$.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${$.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${$.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${$.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${K.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${K.inset}`]:{marginLeft:52},[`& .${M.root}`]:{marginTop:0,marginBottom:0},[`& .${M.inset}`]:{paddingLeft:36},[`& .${Q.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Q.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ht=U(function(e,o){const s=D({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:a="li",dense:i=!1,divider:c=!1,disableGutters:l=!1,focusVisibleClassName:f,role:u="menuitem",tabIndex:I,className:C,...b}=s,g=j(L),y=Y(()=>({dense:i||g.dense||!1,disableGutters:l}),[g.dense,i,l]),d=tt(null);vt(()=>{n&&d.current&&d.current.focus()},[n]);const p={...s,dense:y.dense,divider:c,disableGutters:l},m=Vt(s),h=st(d,o);let x;return s.disabled||(x=I!==void 0?I:-1),r(L.Provider,{value:y,children:r(Dt,{ref:h,role:u,tabIndex:x,component:a,focusVisibleClassName:w(m.focusVisible,f),className:w(m.root,C),...b,ownerState:p,classes:m})})}),N={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{cursor:"pointer",textAlign:"center","&[data-multi]::after":{content:'"â–¼"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}},Z=t=>r("img",{...t,style:N.icon});function zt({level:t=0,selectedIndices:e,options:o,setIndex:s}){const[n,a]=et(null),i=o.length>1;e[t]??s(t,0);const c=d=>{a(d.currentTarget)},l=d=>{const{level:p,index:m}=d.target.dataset;s(parseInt(p),parseInt(m)),a(null)},f=()=>{a(null)},u=e[t]??0,{label:I,value:C,icon:b,options:g}=o[u],y=r(ot,{children:[r(ft,{disablePadding:!0,sx:N.list,children:r(Et,{"data-multi":i,sx:N.listItem,onClick:c,children:[b&&r(Z,{alt:C,src:b}),r(Wt,{primary:`${I}`})]})}),i&&r(bt,{anchorEl:n,keepMounted:!0,open:!!n,onClose:f,children:o.map((d,p)=>r(Ht,{selected:p===u,onClick:l,sx:N.menuItem,"data-index":p,"data-level":t,children:[d.icon&&r(Z,{alt:d.value,src:d.icon}),d.label]},d.value))}),g&&r(zt,{options:g,selectedIndices:e,level:t+1,setIndex:s})]});return t===0?r(xt,{className:"Breadcrumbs",sx:N.box,children:y}):y}const _t=(t,e)=>o=>{const s=o[t],n=s?.[e];n!==void 0&&(s[e]=!n,Object.values(s).every(Boolean)&&Object.keys(s).forEach(a=>s[a]=!1))};function Yt(t){const e=Y(()=>Xt(t),[t]),[o,s]=et(e);return[o,(i,c)=>s(l=>ut(l,_t(i,c))),()=>s(e)]}function Xt(t){const e=t.map(({name:o,options:s})=>{const n=s.map(i=>[i,!1]),a=Object.fromEntries(n);return[o,a]});return Object.fromEntries(e)}function qt({name:t,options:e,type:o,state:s,toggle:n}){const a=l=>{const{group:f,value:u}=l.currentTarget.dataset;n(f,u)},i=l=>`img/appIcon/${t}_${l}.png`,c=e.map(l=>r(Ct,{icon:i(l),value:l,type:o,checked:s[l],"data-group":t,onClick:a}));return r("div",{className:"ToggleGroup",children:c})}const Jt=t=>Object.entries(t).map(([s,n])=>[s,Object.keys(n).filter(a=>n[a])]).filter(([,s])=>s.length);function ie({config:t,onChange:e,compact:o}){if(!t)return r(ot,{});const[s,n,a]=Yt(t);gt(()=>{const c=Jt(s);e(c)},[s]);const i=t.map((c,l)=>r(qt,{state:s[c.name],toggle:n,...c},l));return r("div",{className:"Filter","data-compact":o,children:[i,r("button",{className:"Filter-reset",onClick:a,children:r("span",{children:"Reset"})})]})}const le=St(r("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}));function Kt(t){return new Worker("/dl-model/assets/filterWorker-CSgpPupm.js",{name:t?.name})}function ce(t,e){if(!e.length)return t;const o=new Kt;return new Promise(s=>{o.addEventListener("message",n=>{o.terminate(),s(n.data)}),o.postMessage({fullList:t,conditions:e})})}const de=[{name:"weapon",type:"icon",options:rt},{name:"rarity",type:"icon",options:at},{name:"element",type:"icon",options:it}],pe=[{name:"rarity",type:"icon",options:at},{name:"element",type:"icon",options:it}],me=[{name:"weapon",type:"icon",options:rt},{name:"rarity",type:"icon",options:Lt},{name:"element",type:"icon",options:Pt}];export{zt as B,le as F,Ht as M,qt as T,ie as a,de as c,pe as d,ce as f,me as w};
