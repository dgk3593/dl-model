import{a as B,b as C,A as y,d as D,g as L,y as S,u as e,v as l}from"./index-BpH1aIr9.js";import{u as b}from"./f_CuI1NZmv-useKey.js";import{S as w}from"./f_zXO6H-Ul-Stretcher.js";import{A as k,B as x}from"./f_JiITJ5-H-BoneManager.js";import{B as n}from"./f_CZGF4Lcv-Box.js";import{D as E,a as N}from"./f_Cnmb4ck2-DialogTitle.js";import{S as q}from"./f_DCPLAYZe-Gallery.js";import{M as I}from"./f_D4iKX7V7-filterConfig.js";import{B as K}from"./f_LFQJUqhr-Button.js";import"./f_BM_tZNm2-three.js";/* empty css                 */import"./f_C40UD_P3-ModelIcon.js";import"./f_uJ5zbs9p-Accordion.js";import"./f_Cu1BfDg--useToggleState.js";import"./f_CP5K8E3Y-createSvgIcon.js";import"./f_CjLxXHOw-CircularProgress.js";import"./f_DFk-8yyo-Popover.js";import"./f_DXBZatnL-ColorButton.js";import"./f_C4w1HG1P-SkipPrevious.js";import"./f_Bb2Khr4X-Close.js";import"./f_CGky_gsD-index.js";import"./f_DLItaU9h-FacePartSelector.js";import"./f_BhkBESfY-Selector.js";import"./f_Dvtmk-C5-GlowToggle.js";import"./f_DthNc7dt-MeshMouthSelect.js";import"./f_B7GxcF-Y-index.js";import"./f_CY2xDufY-lists.js";import"./f_BMnzOuJU-styles.js";import"./f_BbaaR4h0-index.js";import"./f_T-eX4EJC-index.js";function lt(){const{activeModel:a}=B();if(!a)return null;const[p,h]=b(),{inputModel:u}=C(),r=y(()=>{}),i=["root",...a?.bones?.list??[]],[m,c]=D(i[0]),A=L(a.attachment.list.map(t=>t.parentBone));S(()=>{if(!a)return;c("root"),r.current();const t=a.addEventListener("AttachmentChanged",h);return r.current=()=>a.removeEventListener("AttachmentChanged",t),r.current},[a]);const g=t=>{c(t.target.value)},s=async(t=m)=>{const d=await u();if(!d)return;const[M,f]=d,o=await l.loadDLModel(M);o.userData.name=f,a.attach(o,t==="root"?void 0:t),o.outline.code=a.outline.code,o.material.code=a.material.code,l.render()},v=()=>s();return e(n,{className:"AttachmentManager",children:[e(n,{className:"AttachmentManager-top",children:[e(E,{children:"Manage Attachments"}),e(n,{className:"AttachmentManager-add",children:[e(q,{onChange:g,value:m,className:"AttachmentManager-select",children:i.map(t=>e(I,{value:t,children:t},t))}),e(K,{title:"Add Attachment",variant:"contained",onClick:v,children:e(k,{})})]})]}),e(N,{className:"AttachmentManager-body",children:[e(w,{}),A.map(t=>e(x,{add:s,bone:t},t))]},p)]})}export{lt as default};
