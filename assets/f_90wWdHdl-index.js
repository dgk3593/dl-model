import{M as G,d as h,y as p,s as N,c as I,u as t,e as j,q}from"./index-BkiVhZtx.js";import{L as Q,u as W,S as $}from"./f_DiYrPnzR-lists.js";import{f as z,B as E,F as R,a as H}from"./f_C5GPqlaD-filterConfig.js";import{G as J}from"./f_CkVosX9P-GlowToggle.js";import{u as K,G as O}from"./f_hX7kXVgq-Gallery.js";import{M as b,C as P,c as D,u as M,s as c}from"./f_D896U9UG-styles.js";import{g as U}from"./f_CicaM3rO-index.js";import{B as g}from"./f_YTJv_7QQ-Box.js";import{D as V,a as X}from"./f_C9KrMtrQ-DialogTitle.js";import{I as Y}from"./f_ywZLcPs1-Close.js";import"./f_CnPaQJdv-three.js";import"./f_BpDCtQPJ-createSvgIcon.js";import"./f_-3uQya8k-CircularProgress.js";import"./f_8SXTldIl-Popover.js";/* empty css                 */const Z=[],_=["w","b","e"],tt=e=>_.some(a=>e.startsWith(a)),et=e=>tt(e.id)?t(b,{...e}):t(P,{...e});function ot({compact:e,content:a,searchQuery:s,searchAll:o,filter:n=Z,onSelect:r}){const d=K(l=>l[a])??[],[i,u]=h([]),[C,m]=h(!1);return p(()=>u(d),[a]),p(()=>{m(!0);async function l(){if(o)return s?await N(s):d;const f=await I(d,s);return await z(f,n)}setTimeout(async()=>{const f=await l();u(f),m(!1)})},[s,n,o]),C?t(Q,{}):t(O,{list:i,component:e?b:et,onClick:r})}const at=G(ot),st=e=>{let a=D;const s=[];return e.forEach(o=>{const n=a[o],r=n?.value;r!==void 0&&(s.push(r),a=n.options)}),s.join("-")},S=[];function Bt({compact:e,onSelect:a=()=>{},onAfterSelect:s}){const{indices:o,setIndex:n,showFilter:r,toggleFilter:d,searchAll:i,toggleSearchAll:u}=j(),C=!!indexedDB,[m,l]=h(""),f=W(m,500),[v,y]=h(S),B=e||M("(max-width:640px)")||M("(max-height:640px)"),L=q(T=>{const{value:k,name:A}=T.currentTarget.dataset;a(k,A),s?.()},[]),F=st(o),x=U(F);p(()=>y(S),[r,o]),p(()=>{l(""),i&&u()},[o]);const w=o.join();return t(g,{className:"ModelCatalog",sx:c.root,children:[t(g,{sx:c.top,children:[t(V,{sx:c.title,children:"Model Select"}),t(E,{options:D,selectedIndices:o,setIndex:n}),t(g,{sx:c.searchFilter,children:[t(g,{sx:c.search,children:[C&&t(J,{type:"text",value:"All",checked:i,onClick:u,title:"Whether to search all model"}),t($,{query:m,onChange:l},w),x&&!i&&t(Y,{title:"Toggle Filter",onClick:d,size:"large",children:t(R,{})})]}),!i&&r&&x&&t(H,{config:x,onChange:y,compact:B},w)]})]}),t(X,{sx:c.content,children:t(at,{compact:B,searchQuery:f,filter:v,content:F,onSelect:L,searchAll:i})})]})}export{Bt as default};
