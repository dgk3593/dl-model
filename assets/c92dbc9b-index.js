import{c as S}from"./63cb718b-index.js";import{g as I,a as h,h as f,o as t,T as j}from"./888d32ea-jsxRuntime.module.js";import{L as Q,u as R,S as W}from"./372451f4-lists.js";import{f as $,B as q,F as z,a as A}from"./76c92e8b-filterConfig.js";import{G as E}from"./1649c291-GlowToggle.js";import{u as H,G as J}from"./bd81e77d-Gallery.js";import{M as D,C as K,c as T,u as w,s as c}from"./3cdedd30-styles.js";import{b as O,c as P}from"./f60cacb5-index.js";import{g as U}from"./22422c11-index.js";import{B as g}from"./fa2036ae-Box.js";import{a as V,b as X}from"./65cb6644-DialogTitle.js";import{I as Y}from"./5cbe176d-Close.js";import"./dab7b8df-index.js";import"./042e6b4d-_commonjsHelpers.js";import"./264cfb41-compat.module.js";import"./96cc4aaf-immer.esm.js";import"./1c32777d-viewer.js";import"./45408441-preload-helper.js";import"./416e9bf6-three.js";import"./e27bbfcf-CopyShader.js";import"./ef11c09e-ShaderPass.js";import"./13b127e2-Pass.js";import"./fa80b542-createSvgIcon.js";import"./c83da345-ButtonBase.js";import"./94c18eb0-Popover.js";/* empty css               */const Z=[],_=["w","b","e"],tt=o=>_.some(s=>o.startsWith(s)),ot=o=>tt(o.id)?t(D,{...o}):t(K,{...o});function et({compact:o,content:s,searchQuery:e,searchAll:a,filter:i=Z,onSelect:r}){const m=H(l=>l[s])??[],[n,d]=h([]),[C,p]=h(!1);return f(()=>d(m),[s]),f(()=>{p(!0);async function l(){if(a)return e?await O(e):m;const u=await P(m,e);return await $(u,i)}setTimeout(async()=>{const u=await l();d(u),p(!1)})},[e,i,a]),C?t(Q,{}):t(J,{list:n,component:o?D:ot,onClick:r})}const at=I(et),st=o=>{let s=T;const e=[];return o.forEach(a=>{const i=s[a],r=i==null?void 0:i.value;r!==void 0&&(e.push(r),s=i.options)}),e.join("-")},M=[];function Nt({compact:o,onSelect:s=()=>{},onAfterSelect:e}){const{indices:a,setIndex:i,showFilter:r,toggleFilter:m,searchAll:n,toggleSearchAll:d}=S(),C=!!indexedDB,[p,l]=h(""),u=R(p,500),[v,y]=h(M),B=o||w("(max-width:640px)")||w("(max-height:640px)"),L=j(k=>{const{value:G,name:N}=k.currentTarget.dataset;s(G,N),e==null||e()},[]),F=st(a),x=U(F);f(()=>y(M),[r,a]),f(()=>{l(""),n&&d()},[a]);const b=a.join();return t(g,{className:"ModelCatalog",sx:c.root,children:[t(g,{sx:c.top,children:[t(V,{sx:c.title,children:"Model Select"}),t(q,{options:T,selectedIndices:a,setIndex:i}),t(g,{sx:c.searchFilter,children:[t(g,{sx:c.search,children:[C&&t(E,{type:"text",value:"All",checked:n,onClick:d,title:"Whether to search all model"}),t(W,{query:p,onChange:l},b),x&&!n&&t(Y,{title:"Toggle Filter",onClick:m,size:"large",children:t(z,{})})]}),!n&&r&&x&&t(A,{config:x,onChange:y,compact:B},b)]})]}),t(X,{sx:c.content,children:t(at,{compact:B,searchQuery:u,filter:v,content:F,onSelect:L,searchAll:n})})]})}export{Nt as default};
