const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/f_BuUjBobZ-GLTFExporter.js","assets/f_PXJ5rxtd-three.js"])))=>i.map(i=>d[i]);
import{w as Mi,A as xe,q as Rl,y as Ae,u as g,t as Tl,k as Be,D as Ln,W as Oi,a as _e,R as Fn,v as L,X as Li,Y as Pl,Z as Bl,$ as Nl,L as jr,H as ye,j as ae,e as Ml,h as dr,l as Fi,Q as Fr,a0 as Ol,U as zi,T as gr,x as zn,a1 as Ll,a2 as Fl,a3 as zl,a4 as Hl,a5 as Gl,a6 as xr,_ as Wt,a7 as Wl,a8 as Hi,a9 as $l,b as $t,aa as Gi,ab as ya,ac as Ul,ad as ql,ae as Vl,af as Zl,ag as jl}from"./index-CvFwu6VC.js";import{c as Ne}from"./f_DRgglnFs-createSvgIcon.js";import{M as Wi,F as kn,a as Kl,b as Yl,P as Xl,O as Jl,T as Ql,c as es,d as rs,e as ts,f as ns,D as as,S as is,g as os,I as ls,h as ur,i as ss,A as Ut,C as qt}from"./f_DMonvvSB-BoneManager.js";import{L as Hn}from"./f_BwkIUXmp-lists.js";import{I as mr,C as Gn}from"./f_BNBo7xrZ-Close.js";import{B as Kr}from"./f_-lPYOMUh-Box.js";import{u as $i,c as cs}from"./f_DNj6NCEm-styles.js";import{u as br}from"./f_CV4y6i4U-useKey.js";import{B as fe}from"./f_Dz9rcMP3-Button.js";import{A as Ve,a as us,b as ds}from"./f_DAHRuA_C-Accordion.js";import{M as fs,T as Tt,u as ps}from"./f_DzFLMDkT-Gallery.js";import"./f_DaXxqB9z-GlowToggle.js";import{M as vs}from"./f_DkznS9gO-filterConfig.js";import"./f_B5ex7FH6-Selector.js";import{g as hs,c as gs,E as ms,M as bs}from"./f_DZMvp7z_-MeshMouthSelect.js";import"./f_CHpRPF1W-index.js";import"./f_C_v2SLbj-index.js";import"./f_BW56qX7_-index.js";/* empty css                 */import{M as Ui}from"./f_CniXuTEY-ModelIcon.js";import{u as ys}from"./f_BlrWCeSc-useToggleState.js";import{x as ws,a as xs,g as Ds,s as Wn,m as qi,r as Ss,c as Pt,u as Cs,e as St,f as _s,E as Bt,M as le,N as wa,_ as Vi}from"./f_dX329Khp-createSimplePaletteValueFilter.js";import{b as Is,P as $n,B as Es,S as As}from"./f_UdkMfizQ-SkipPrevious.js";import{T as ks}from"./f_C9w9cjLu-TabBar.js";import{c as Zi,k as Rs,d as Ts,o as ji,T as Ps,r as Bs,m as xa,M as Ns,a as Ms,u as Os}from"./f_DwQTgtwL-Popover.js";import{i as Ls}from"./f_e6ktub8O-aniFunction.js";import"./f_PXJ5rxtd-three.js";import"./f_7q7tYkVi-ColorButton.js";import"./f_DFJPyFVU-DialogTitle.js";import"./f_C7iD0hAk-FacePartSelector.js";import"./f_C1J1QKxm-index.js";function Fs(e,r,t){const n=r.getBoundingClientRect(),l=t&&t.getBoundingClientRect(),a=ji(r);let i;if(r.fakeTransform)i=r.fakeTransform;else{const f=a.getComputedStyle(r);i=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let o=0,s=0;if(i&&i!=="none"&&typeof i=="string"){const f=i.split("(")[1].split(")")[0].split(",");o=parseInt(f[4],10),s=parseInt(f[5],10)}return e==="left"?l?`translateX(${l.right+o-n.left}px)`:`translateX(${a.innerWidth+o-n.left}px)`:e==="right"?l?`translateX(-${n.right-l.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:e==="up"?l?`translateY(${l.bottom+s-n.top}px)`:`translateY(${a.innerHeight+s-n.top}px)`:l?`translateY(-${n.top-l.top+n.height-s}px)`:`translateY(-${n.top+n.height-s}px)`}function zs(e){return typeof e=="function"?e():e}function Ct(e,r,t){const n=zs(t),l=Fs(e,r,n);l&&(r.style.webkitTransform=l,r.style.transform=l)}const Hs=Mi(function(r,t){const n=Zi(),l={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:s,container:f,direction:p="down",easing:c=l,in:d,onEnter:h,onEntered:v,onEntering:D,onExit:S,onExited:b,onExiting:w,style:C,timeout:I=a,TransitionComponent:k=Ps,...R}=r,_=xe(null),B=ws(Rs(s),_,t),F=G=>ee=>{G&&(ee===void 0?G(_.current):G(_.current,ee))},z=F((G,ee)=>{Ct(p,G,f),Bs(G),h&&h(G,ee)}),O=F((G,ee)=>{const ve=xa({timeout:I,style:C,easing:c},{mode:"enter"});G.style.webkitTransition=n.transitions.create("-webkit-transform",{...ve}),G.style.transition=n.transitions.create("transform",{...ve}),G.style.webkitTransform="none",G.style.transform="none",D&&D(G,ee)}),U=F(v),H=F(w),q=F(G=>{const ee=xa({timeout:I,style:C,easing:c},{mode:"exit"});G.style.webkitTransition=n.transitions.create("-webkit-transform",ee),G.style.transition=n.transitions.create("transform",ee),Ct(p,G,f),S&&S(G)}),J=F(G=>{G.style.webkitTransition="",G.style.transition="",b&&b(G)}),K=G=>{i&&i(_.current,G)},j=Rl(()=>{_.current&&Ct(p,_.current,f)},[p,f]);return Ae(()=>{if(d||p==="down"||p==="right")return;const G=Ts(()=>{_.current&&Ct(p,_.current,f)}),ee=ji(_.current);return ee.addEventListener("resize",G),()=>{G.clear(),ee.removeEventListener("resize",G)}},[p,d,f]),Ae(()=>{d||j()},[d,j]),g(k,{nodeRef:_,onEnter:z,onEntered:U,onEntering:O,onExit:q,onExited:J,onExiting:H,addEndListener:K,appear:o,in:d,timeout:I,...R,children:(G,ee)=>Tl(s,{ref:B,style:{visibility:G==="exited"&&!d?"hidden":void 0,...C,...s.props.style},...ee})})});function Gs(e){return xs("MuiDrawer",e)}Ds("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ki=(e,r)=>{const{ownerState:t}=e;return[r.root,(t.variant==="permanent"||t.variant==="persistent")&&r.docked,r.modal]},Ws=e=>{const{classes:r,anchor:t,variant:n}=e,l={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Pt(t)}`,n!=="temporary"&&`paperAnchorDocked${Pt(t)}`]};return _s(l,Gs,r)},$s=Wn(Ns,{name:"MuiDrawer",slot:"Root",overridesResolver:Ki})(qi(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Da=Wn("div",{shouldForwardProp:Ss,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ki})({flex:"0 0 auto"}),Us=Wn(Ms,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`paperAnchor${Pt(t.anchor)}`],t.variant!=="temporary"&&r[`paperAnchorDocked${Pt(t.anchor)}`]]}})(qi(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Yi={left:"right",right:"left",top:"down",bottom:"up"};function qs(e){return["left","right"].includes(e)}function Vs({direction:e},r){return e==="rtl"&&qs(r)?Yi[r]:r}const Xi=Mi(function(r,t){const n=Cs({props:r,name:"MuiDrawer"}),l=Zi(),a=Os(),i={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:s,children:f,className:p,elevation:c=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:h,...v}={},onClose:D,open:S=!1,PaperProps:b={},SlideProps:w,TransitionComponent:C=Hs,transitionDuration:I=i,variant:k="temporary",...R}=n,_=xe(!1);Ae(()=>{_.current=!0},[]);const B=Vs({direction:a?"rtl":"ltr"},o),z={...n,anchor:o,elevation:c,open:S,variant:k,...R},O=Ws(z),U=g(Us,{elevation:k==="temporary"?c:0,square:!0,...b,className:St(O.paper,b.className),ownerState:z,children:f});if(k==="permanent")return g(Da,{className:St(O.root,O.docked,p),ownerState:z,ref:t,...R,children:U});const H=g(C,{in:S,direction:Yi[B],timeout:I,appear:_.current,...w,children:U});return k==="persistent"?g(Da,{className:St(O.root,O.docked,p),ownerState:z,ref:t,...R,children:H}):g($s,{BackdropProps:{...s,...h,transitionDuration:I},className:St(O.root,O.modal,p),open:S,ownerState:z,onClose:D,hideBackdrop:d,ref:t,...R,...v,children:H})}),Zs=Ne(g("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos"),js=Ne(g("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"}),"Autorenew"),Ks=Ne(g("path",{d:"m9.4 10.5 4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2M8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15zm11.27 0-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35z"}),"Camera"),Ys=Ne([g("circle",{cx:"12",cy:"12",r:"3.2"},"0"),g("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),Xs=Ne(g("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Or=Ne(g("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Vt=Ne(g("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),Un=Ne(g("path",{d:"M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1m10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"}),"Gif"),Js=Ne(g("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),Qs=Ne(g("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode"),ec=Ne(g("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),rc=Ne(g("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 13H4V5h16z"}),"Monitor"),Ji=Ne(g("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2M8.5 12.5l2.5 3.01L14.5 11l4.5 6H5z"}),"Panorama"),tc=Ne(g("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),nc=Ne(g("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),ac=Ne(g("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt"),ic=Ne(g("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),oc=Ne(g("path",{d:"M6 6h12v12H6z"}),"Stop"),lc=Ne(g("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),sc=Ne(g("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),cc='url("img/Rose-Petals.svg")',Sa="17rem",uc="#1f0000",Rn={sidebar:{minWidth:Sa},sidebarHeader:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem",position:"sticky",top:0,height:"2.75rem",backgroundColor:"#101010",zIndex:6},paper:{width:Sa,backgroundColor:uc,border:"none",backgroundImage:cc,backgroundSize:"cover",backgroundPosition:"center",scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.8) rgba(0, 0, 0, 0.3)","&::-webkit-scrollbar":{width:"4px",backgroundColor:"rgba(255, 255, 255, 0.3)"},"&::-webkit-scrollbar-thumb":{width:"4px",backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"2px"},"& > .QuickAction":{position:"sticky",top:"2.75rem",zIndex:6,height:"2rem"},"& > .TabBar":{position:"sticky",top:"4.75rem",zIndex:6,marginBottom:"0.5rem"},"& > button":{backgroundColor:"rgba(16, 16, 16, 0.5)",minHeight:"2.5rem",borderRadius:"unset",padding:"0.5rem 1.5rem",justifyContent:"flex-start",gap:"1rem","& .btn-icon":{maxHeight:"1.5rem"}},"& > button:hover":{backgroundColor:"rgba(16, 16, 16, 0.8)"},"& .break":{minHeight:"0.5rem"},"& .break + .break":{minHeight:0},"& .bottom-space":{minHeight:"2rem"}}},dc=g("a",{href:"https://ko-fi.com/L4L83VOAP",rel:"noreferrer",target:"_blank",children:g("img",{style:{height:"2rem"},src:"https://cdn.ko-fi.com/cdn/kofi5.png?v=2",alt:"Buy Me a Coffee"})}),fc=g("a",{href:"https://github.com/dgk3593/dl-model",target:"_blank",children:g(Js,{style:{width:"2rem",margin:"0.5rem 1rem",color:"white"},titleAccess:"Source Code"})}),pc=({onClick:e,color:r="#101010"})=>g(Kr,{position:"absolute",top:"2rem",right:0,children:g(mr,{className:"DockButton",sx:{color:r},onClick:e,title:"Send to Dock",size:"large",children:g(Zs,{})})});function vc(){const{mode:e,handleSelect:r,close:t}=Be(o=>o.sidebar.modal),n=Be(o=>o.dock.open),l=()=>{n(e,r),t()},a=$i("(min-width:640px)"),i=Oi[e]??Kr;return g(Wi,{closeModal:t,open:!!e,children:[a&&g(pc,{onClick:l}),g(Ln,{fallback:g(Hn,{}),children:g(i,{onSelect:r,onAfterSelect:t})})]})}const{setLoadingMsg:Ca}=Be.getState(),hc=(e,r,t)=>{const n=_e.getState().activeModel;n==null||n.animation.addChain(e);const l=Fn(e,r);n!=null&&n.userData&&(n.userData.aniSelectState=t,n.userData.chain?n.userData.chain.splice(0,1/0,...l):n.userData.chain=l)},gc=async(e,r)=>{Ca("Loading");const t=_e.getState().setActiveModel,n=_e.getState().activeModel,l=await L.loadDLModel(e);l.userData.name=r,l.material.code=(n==null?void 0:n.material.code)??"",l.outline.code=(n==null?void 0:n.outline.code)??"",Li(l);const{parent:a,parentBone:i}=n??{},o=(n==null?void 0:n.type)==="adventurer"&&l.type==="adventurer";if(o)l.userData.chain=n.userData.chain,l.animation.addChain(n.animation.current.chainCode),n.attachment.list.forEach(s=>l.attach(s,s.parentBone));else if(n!=null&&n.animation.current.chainCode||!i){const s=Pl(e);if(s){const{code:f,name:p}=s;l.animation.addChain(f),l.userData.chain=Fn(f,p)}}if(n==null||n.dispose(),i)a.attach(l,i);else{if(L.add(l),!o){const f=Bl(e);L.camera.position.set(...f);const p=Nl(e);L.controls.target.set(...p)}const s=l.type==="adventurer"?"Adv":"Personal";jr.getState().setCategory(s)}t(l),Ca("")},mc=(e,r)=>{const t=_e.getState().activeModel;!(t!=null&&t.face)||e===void 0||e===null||(t.face[`${r}BaseIdx`]=e)},bc=(e,r)=>{const t=_e.getState().activeModel;!e||!(t!=null&&t.face)||(t.face[`${r}Texture`]=e)},kt={model:gc,animation:hc,face:mc,faceTexture:bc},yc=g("img",{className:"btn-icon",src:"img/appIcon/weapon.png",alt:"Add Weapon"});function wc({openModal:e}){const{activeModel:r}=_e(),[t,n]=br(),l=xe(()=>{}),a=r==null?void 0:r.bones.list.includes("jWeaponR"),i=r==null?void 0:r.attachment.jWeaponL,o=r==null?void 0:r.attachment.jWeaponR,s=()=>e("weapon",kt.weapon);return Ae(()=>{l.current();const f=r==null?void 0:r.addEventListener("AttachmentChanged",n);return l.current=()=>r==null?void 0:r.removeEventListener("AttachmentChanged",f),l.current},[r]),a?g(ae,{children:[g(fe,{variant:"contained","data-mode":"weapon",onClick:s,startIcon:yc,children:"Add Weapon"}),g(ye.Fragment,{children:[i==null?void 0:i.map(f=>g(kn,{target:f,label:"Left Weapon"},f.uniqueId)),o==null?void 0:o.map(f=>g(kn,{target:f,label:"Right Weapon"},f.uniqueId))]},t)]}):g(ae,{})}function xc({handleClick:e}){const{activeModel:r}=_e(),t=r==null?void 0:r.face;return t?g(ae,{children:[g(fe,{variant:"contained","data-mode":"face",onClick:e,startIcon:g(Kl,{}),children:"Facial Expression"}),t.type==="uv"&&g(fe,{variant:"contained","data-mode":"faceTexture",onClick:e,startIcon:g(Yl,{}),children:"Face Texture"})]}):g(ae,{})}function Qi({label:e,handleSelect:r}){const t=Be(i=>i.sidebar.modal.open),{setIndex:n}=Ml(),l=i=>{i.stopPropagation();const{index:o}=i.currentTarget.dataset;o!==void 0&&n(0,o),t("model",r)},a=cs.map((i,o)=>{const{label:s,icon:f}=i;return g(fe,{title:s,"data-index":o,onClick:l,children:g("img",{src:f,alt:s})})});return g(Ve,{className:"ModelSelect",defaultOpen:!0,disableGutters:!0,children:[g(fe,{variant:"contained",onClick:l,children:e}),g("div",{className:"ModelSelect-groups",children:a})]})}function Dc(){const{activeModel:e}=_e(),r=e==null?void 0:e.outline;if(!r)return g(ae,{});const[t,n]=br(),l=()=>{const{code:i}=r;e.attachment.traverse(o=>{o.outline.code=i})};return g(Ve,{disableGutters:!0,className:"SettingGroup",children:[g(ae,{children:[g("div",{className:"title",children:[g(Xl,{}),"Outline"]}),g(fe,{onClick:i=>{i.stopPropagation(),r.enabled=!r.enabled,l(),n()},title:"Toggle Outline",variant:"contained",children:"Toggle"})]}),g(Jl,{target:e},t)]})}function Sc(){const{activeModel:e}=_e(),{material:r}=e,[t,n]=br(),l=()=>{const{code:i}=r;e.attachment.traverse(o=>{o.material.code=i})};return g(Ve,{disableGutters:!0,className:"SettingGroup",children:[g(ae,{children:[g("div",{className:"title",children:[g(Ql,{}),"Material"]}),g(fe,{onClick:i=>{i.stopPropagation(),r.code="",l(),n()},title:"Reset to default",variant:"contained",children:"Reset"})]}),g(es,{target:e},t)]})}const Cc=e=>{const{setCategory:r,loadState:t}=jr.getState();_e.getState().setActiveModel(e),r(e.type==="adventurer"?"Adv":"Personal"),t(e.userData.aniSelectState)};function eo(){var o;const{activeModel:e}=_e(),r=e==null?void 0:e.id,[t,n]=dr((o=e==null?void 0:e.userData)==null?void 0:o.name),l=Be(s=>s.sidebar.modal.open),a=()=>l("target",Cc);Ae(()=>{var s;n((s=e==null?void 0:e.userData)==null?void 0:s.name),!(t||!e)&&Fi(r).then(f=>{f&&(n(f.name),e.userData.name=f.name)})},[e]);const i=t??r??"None";return g("div",{className:"ModelSettings-target",children:["Current",g(fe,{onClick:a,title:"Click to change",children:[g(Ui,{modelId:r,alt:i}),g("span",{className:"name",children:i})]})]})}const _a={change:"Change Model",select:"Select Model"};function _c(){const{activeModel:e}=_e(),{loadState:r}=jr(),t=Be(s=>s.sidebar.modal.open),{toggle:n,setTarget:l}=Fr(),a=s=>{const{mode:f}=s.currentTarget.dataset;t(f,kt[f])},i=()=>{r(e==null?void 0:e.userData.aniSelectState),t("animation",kt.animation)},o=()=>{l(e),n()};return g(ae,{children:[g(eo,{}),g(Qi,{label:e?_a.change:_a.select,handleSelect:kt.model}),g("span",{className:"break"}),e&&g(ae,{children:[g(rs,{target:e},e.uniqueId),(e==null?void 0:e.parts)&&g(ae,{children:[g(ts,{target:e},e.uniqueId),g("span",{className:"break"})]}),(e==null?void 0:e.face)&&g(xc,{handleClick:a}),g("span",{className:"break"}),g(fe,{variant:"contained","data-mode":"attachment",onClick:a,startIcon:g(ns,{}),children:"Manage Attachments"}),g(wc,{openModal:t}),g("span",{className:"break"}),g(fe,{variant:"contained","data-mode":"animation",onClick:i,startIcon:g(as,{}),children:"Select Animation"}),g(fe,{variant:"contained",onClick:o,startIcon:g(is,{}),title:"Create Animation Chain",children:"Animation Chain"}),g("span",{className:"break"}),g(Dc,{}),g(Sc,{}),g(os,{target:e})]})]})}const{setLoadingMsg:Ia}=Be.getState(),Ic=async(e,r)=>{Ia("Loading");const t=await L.loadDLModel(e);t.userData.name=r,Li(t),L.add(t),Ia("")};function Ec(){const[e,r]=br();return Ae(()=>{const n=L.model.addEventListener("change",r);return()=>{L.model.removeEventListener("change",n)}},[]),g(ae,{children:[g(Qi,{label:"Add Model",handleSelect:Ic}),g("span",{className:"break"}),g(fe,{variant:"contained",onClick:()=>{L.loadedModel.forEach(({animation:n})=>{n.stop(),n.play()})},startIcon:g(ac,{}),children:"Restart All Animation"}),g("span",{className:"break"}),g(ye.Fragment,{children:L.model.map(n=>g("div",{children:g(kn,{target:n})},n.uniqueId))},e)]})}const Ac=[{title:"Single Model",value:"single",icon:g(nc,{})},{title:"Multiple Model",value:"multi",icon:g(tc,{})}],kc={single:_c,multi:Ec},Rc={ModeSelect:{backgroundColor:"#101010",color:"#eee",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:"2rem",marginBottom:"0.3rem",cursor:"default",position:"sticky",top:"7.75rem",zIndex:"6"}};function Tc(){const{manageMode:e,setManageMode:r}=Be(n=>n.sidebar),t=kc[e]??ye.Fragment;return g(ae,{children:[g(Kr,{className:"ModeSelect",sx:Rc.ModeSelect,children:["Mode",g(ls,{tabs:Ac,className:"ModeSelect-tabs",value:e,onChange:r})]}),g(t,{})]})}const Pc=Object.keys(Ol).map(e=>({value:e,label:e})),Bc=[{propName:"pixelRatio",label:"Pixel Ratio",type:"slider",title:"Pixel Ratio, used to increase image quality on high DPI screens",min:.1,max:window.devicePixelRatio,step:.1},{propName:"toneMapping",label:"Tone Mapping",type:"select",options:Pc}];function Nc(){const[e,r]=br(),t=a=>{a.stopPropagation(),L.setViewport(),L.pixelRatio=1,L.toneMapping="No Mapping",setTimeout(()=>{r()},200)},n=()=>{const{viewport:{width:a,height:i}}=L;L.setViewport(a,i)};Ae(()=>{const a=()=>setTimeout(()=>{r()},200);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const l=[{propName:"width",label:"Width",type:"number",min:0,max:window.innerWidth,step:32,onChange:n},{propName:"height",label:"Height",type:"number",min:0,max:window.innerHeight,step:32,onChange:n}];return g(Ve,{disableGutters:!0,className:"SettingGroup DisplayControl",children:[g(ae,{children:[g("div",{className:"title",children:[g(rc,{}),"Display"]}),g(fe,{onClick:t,title:"Reset display settings",variant:"contained",children:"Reset"})]}),g(ye.Fragment,{children:[g(ur,{target:L.viewport,propList:l}),g(ur,{target:L,propList:Bc})]},e)]})}const Mc=[{propName:"autoRotate",label:"Enabled",type:"boolean"},{propName:"autoRotateSpeed",label:"Speed",type:"slider",min:-10,max:10,step:1}];function Oc(){const{controls:e}=L,[r,t]=br();return g(Ve,{className:"SettingGroup",children:[g(ae,{children:[g("div",{className:"title",children:[g(ss,{}),"Auto Rotate"]}),g(fe,{onClick:l=>{l.stopPropagation(),e.autoRotate=!1,e.autoRotateSpeed=2,t()},title:"Reset Auto Rotate Settings",variant:"contained",children:"Reset"})]}),g(ur,{target:e,propList:Mc},r)]})}function ro({children:e,onClick:r,options:t,title:n}){const[l,a]=dr(null),i=f=>{f.stopPropagation(),a(f.currentTarget)},o=()=>a(null),s=f=>{f.stopPropagation();const{value:p}=f.currentTarget.dataset;r(p),o()};return g(ae,{children:[g(fe,{onClick:i,title:n,variant:"contained",children:e}),g(fs,{anchorEl:l,open:!!l,onClose:o,children:t.map(({value:f,label:p})=>g(vs,{"data-value":f,onClick:s,children:p??f},f))})]})}const to={DirectionalLight:[{propName:"visible",label:"Enabled",type:"boolean"},{propName:"showHelper",label:"Show Helper",type:"boolean"},{propName:"intensity",label:"Intensity",type:"slider",min:0,max:1,step:.05},{propName:"colorCode",label:"Color",type:"color"},{propName:"position",label:"Position",type:"vector",step:.05}],AmbientLight:[{propName:"visible",label:"Enabled",type:"boolean"},{propName:"intensity",label:"Intensity",type:"slider",min:0,max:1,step:.05},{propName:"colorCode",label:"Color",type:"color"}],PointLight:[{propName:"visible",label:"Enabled",type:"boolean"},{propName:"showHelper",label:"Show Helper",type:"boolean"},{propName:"intensity",label:"Intensity",type:"slider",min:0,max:1,step:.05},{propName:"colorCode",label:"Color",type:"color"},{propName:"decay",label:"Dacay",type:"slider",min:1,max:2,step:.05},{propName:"position",label:"Position",type:"vector",step:.05}]};function Lc({target:e}){const{type:r,name:t}=e,l=g(mr,{title:"Remove",className:"closeButton",onClick:i=>{i.stopPropagation(),e.remove()},children:g(Gn,{})}),a=to[r];return r==="DirectionalLight"&&(a.find(i=>i.propName==="position").onChange=()=>{var i,o;return(o=(i=e.helper)==null?void 0:i.update)==null?void 0:o.call(i)}),g(Ve,{disableGutters:!0,className:"LightController",children:[g(ae,{children:[t,l]}),g(ae,{children:g(ur,{target:e,propList:a})})]})}const Fc=Object.keys(to).map(e=>{const r=e.replace("Light","");return{label:r,value:r.toLowerCase()}});function zc(){const[e,r]=br(),t=L.light.list;return Ae(()=>{const l=t.addEventListener("change",r);return()=>t.removeEventListener("change",l)},[]),g(Ve,{disableGutters:!0,className:"LightControl SettingGroup with-subgroup",children:[g(ae,{children:[g("div",{className:"title",children:[g(Qs,{}),"Light"]}),g(ro,{title:"Add Light",onClick:l=>L.light.add(l),options:Fc,children:g(Ut,{})})]}),g(ye.Fragment,{children:t.length?t.map((l,a)=>g(Lc,{target:l},`${e+a}`)):"Click + to add light"},e)]})}function at(e){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},at(e)}function Hc(e,r){if(at(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(at(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gc(e){var r=Hc(e,"string");return at(r)=="symbol"?r:r+""}function Wc(e,r,t){return(r=Gc(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ea(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,n)}return t}function Aa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ea(Object(t),!0).forEach(function(n){Wc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ea(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ka=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),tn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ra={INIT:"@@redux/INIT"+tn(),REPLACE:"@@redux/REPLACE"+tn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+tn()}};function $c(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function no(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof r=="function"&&typeof t>"u"&&(t=r,r=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Xe(1));return t(no)(e,r)}if(typeof e!="function")throw new Error(Xe(2));var l=e,a=r,i=[],o=i,s=!1;function f(){o===i&&(o=i.slice())}function p(){if(s)throw new Error(Xe(3));return a}function c(D){if(typeof D!="function")throw new Error(Xe(4));if(s)throw new Error(Xe(5));var S=!0;return f(),o.push(D),function(){if(S){if(s)throw new Error(Xe(6));S=!1,f();var w=o.indexOf(D);o.splice(w,1),i=null}}}function d(D){if(!$c(D))throw new Error(Xe(7));if(typeof D.type>"u")throw new Error(Xe(8));if(s)throw new Error(Xe(9));try{s=!0,a=l(a,D)}finally{s=!1}for(var S=i=o,b=0;b<S.length;b++){var w=S[b];w()}return D}function h(D){if(typeof D!="function")throw new Error(Xe(10));l=D,d({type:Ra.REPLACE})}function v(){var D,S=c;return D={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(Xe(11));function C(){w.next&&w.next(p())}C();var I=S(C);return{unsubscribe:I}}},D[ka]=function(){return this},D}return d({type:Ra.INIT}),n={dispatch:d,subscribe:c,getState:p,replaceReducer:h},n[ka]=v,n}function Ta(e,r){return function(){return r(e.apply(this,arguments))}}function Pa(e,r){if(typeof e=="function")return Ta(e,r);if(typeof e!="object"||e===null)throw new Error(Xe(16));var t={};for(var n in e){var l=e[n];typeof l=="function"&&(t[n]=Ta(l,r))}return t}function ao(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(n){return n}:r.length===1?r[0]:r.reduce(function(n,l){return function(){return n(l.apply(void 0,arguments))}})}function Uc(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return function(){var l=n.apply(void 0,arguments),a=function(){throw new Error(Xe(15))},i={getState:l.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=r.map(function(s){return s(i)});return a=ao.apply(void 0,o)(l.dispatch),Aa(Aa({},l),{},{dispatch:a})}}}var io=ye.createContext(null);function qc(e){e()}var oo=qc,Vc=function(r){return oo=r},Zc=function(){return oo};function jc(){var e=Zc(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var l=r;l;)l.callback(),l=l.next})},get:function(){for(var l=[],a=r;a;)l.push(a),a=a.next;return l},subscribe:function(l){var a=!0,i=t={callback:l,next:null,prev:t};return i.prev?i.prev.next=i:r=i,function(){!a||r===null||(a=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var Ba={notify:function(){},get:function(){return[]}};function lo(e,r){var t,n=Ba;function l(c){return s(),n.subscribe(c)}function a(){n.notify()}function i(){p.onStateChange&&p.onStateChange()}function o(){return!!t}function s(){t||(t=r?r.addNestedSub(i):e.subscribe(i),n=jc())}function f(){t&&(t(),t=void 0,n.clear(),n=Ba)}var p={addNestedSub:l,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:o,trySubscribe:s,tryUnsubscribe:f,getListeners:function(){return n}};return p}var so=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zi:Ae;function Kc(e){var r=e.store,t=e.context,n=e.children,l=gr(function(){var o=lo(r);return{store:r,subscription:o}},[r]),a=gr(function(){return r.getState()},[r]);so(function(){var o=l.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),a!==r.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[l,a]);var i=t||io;return ye.createElement(i.Provider,{value:l},n)}var co={exports:{}},Se={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zt=60103,jt=60106,ut=60107,dt=60108,ft=60114,pt=60109,vt=60110,ht=60112,gt=60113,qn=60120,mt=60115,bt=60116,uo=60121,fo=60122,po=60117,vo=60129,ho=60131;if(typeof Symbol=="function"&&Symbol.for){var Ue=Symbol.for;Zt=Ue("react.element"),jt=Ue("react.portal"),ut=Ue("react.fragment"),dt=Ue("react.strict_mode"),ft=Ue("react.profiler"),pt=Ue("react.provider"),vt=Ue("react.context"),ht=Ue("react.forward_ref"),gt=Ue("react.suspense"),qn=Ue("react.suspense_list"),mt=Ue("react.memo"),bt=Ue("react.lazy"),uo=Ue("react.block"),fo=Ue("react.server.block"),po=Ue("react.fundamental"),vo=Ue("react.debug_trace_mode"),ho=Ue("react.legacy_hidden")}function fr(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Zt:switch(e=e.type,e){case ut:case ft:case dt:case gt:case qn:return e;default:switch(e=e&&e.$$typeof,e){case vt:case ht:case bt:case mt:case pt:return e;default:return r}}case jt:return r}}}var Yc=pt,Xc=Zt,Jc=ht,Qc=ut,eu=bt,ru=mt,tu=jt,nu=ft,au=dt,iu=gt;Se.ContextConsumer=vt;Se.ContextProvider=Yc;Se.Element=Xc;Se.ForwardRef=Jc;Se.Fragment=Qc;Se.Lazy=eu;Se.Memo=ru;Se.Portal=tu;Se.Profiler=nu;Se.StrictMode=au;Se.Suspense=iu;Se.isAsyncMode=function(){return!1};Se.isConcurrentMode=function(){return!1};Se.isContextConsumer=function(e){return fr(e)===vt};Se.isContextProvider=function(e){return fr(e)===pt};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zt};Se.isForwardRef=function(e){return fr(e)===ht};Se.isFragment=function(e){return fr(e)===ut};Se.isLazy=function(e){return fr(e)===bt};Se.isMemo=function(e){return fr(e)===mt};Se.isPortal=function(e){return fr(e)===jt};Se.isProfiler=function(e){return fr(e)===ft};Se.isStrictMode=function(e){return fr(e)===dt};Se.isSuspense=function(e){return fr(e)===gt};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ut||e===ft||e===vo||e===dt||e===gt||e===qn||e===ho||typeof e=="object"&&e!==null&&(e.$$typeof===bt||e.$$typeof===mt||e.$$typeof===pt||e.$$typeof===vt||e.$$typeof===ht||e.$$typeof===po||e.$$typeof===uo||e[0]===fo)};Se.typeOf=fr;co.exports=Se;var ou=co.exports,lu=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],su=["reactReduxForwardedRef"],cu=[],uu=[null,null];function du(e,r){var t=e[1];return[r.payload,t+1]}function Na(e,r,t){so(function(){return e.apply(void 0,r)},t)}function fu(e,r,t,n,l,a,i){e.current=n,r.current=l,t.current=!1,a.current&&(a.current=null,i())}function pu(e,r,t,n,l,a,i,o,s,f){if(e){var p=!1,c=null,d=function(){if(!p){var D=r.getState(),S,b;try{S=n(D,l.current)}catch(w){b=w,c=w}b||(c=null),S===a.current?i.current||s():(a.current=S,o.current=S,i.current=!0,f({type:"STORE_UPDATED",payload:{error:b}}))}};t.onStateChange=d,t.trySubscribe(),d();var h=function(){if(p=!0,t.tryUnsubscribe(),t.onStateChange=null,c)throw c};return h}}var vu=function(){return[null,0]};function hu(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,l=n===void 0?function(C){return"ConnectAdvanced("+C+")"}:n,a=t.methodName,i=a===void 0?"connectAdvanced":a,o=t.renderCountProp,s=o===void 0?void 0:o,f=t.shouldHandleStateChanges,p=f===void 0?!0:f,c=t.storeKey,d=c===void 0?"store":c;t.withRef;var h=t.forwardRef,v=h===void 0?!1:h,D=t.context,S=D===void 0?io:D,b=Bt(t,lu),w=S;return function(I){var k=I.displayName||I.name||"Component",R=l(k),_=le({},b,{getDisplayName:l,methodName:i,renderCountProp:s,shouldHandleStateChanges:p,storeKey:d,displayName:R,wrappedComponentName:k,WrappedComponent:I}),B=b.pure;function F(q){return e(q.dispatch,_)}var z=B?gr:function(q){return q()};function O(q){var J=gr(function(){var Le=q.reactReduxForwardedRef,pr=Bt(q,su);return[q.context,Le,pr]},[q]),K=J[0],j=J[1],G=J[2],ee=gr(function(){return K&&K.Consumer&&ou.isContextConsumer(ye.createElement(K.Consumer,null))?K:w},[K,w]),ve=zn(ee),Ie=!!q.store&&!!q.store.getState&&!!q.store.dispatch;ve&&ve.store;var de=Ie?q.store:ve.store,De=gr(function(){return F(de)},[de]),Ce=gr(function(){if(!p)return uu;var Le=lo(de,Ie?null:ve.subscription),pr=Le.notifyNestedSubs.bind(Le);return[Le,pr]},[de,Ie,ve]),he=Ce[0],ce=Ce[1],be=gr(function(){return Ie?ve:le({},ve,{subscription:he})},[Ie,ve,he]),se=Ll(du,cu,vu),ne=se[0],ke=ne[0],Me=se[1];if(ke&&ke.error)throw ke.error;var ie=xe(),Ee=xe(G),Ge=xe(),We=xe(!1),Te=z(function(){return Ge.current&&G===Ee.current?Ge.current:De(de.getState(),G)},[de,ke,G]);Na(fu,[Ee,ie,We,G,Te,Ge,ce]),Na(pu,[p,de,he,De,Ee,ie,We,Ge,ce,Me],[de,he,De]);var we=gr(function(){return ye.createElement(I,le({},Te,{ref:j}))},[j,I,Te]),ue=gr(function(){return p?ye.createElement(ee.Provider,{value:be},we):we},[ee,we,be]);return ue}var U=B?ye.memo(O):O;if(U.WrappedComponent=I,U.displayName=O.displayName=R,v){var H=ye.forwardRef(function(J,K){return ye.createElement(U,le({},J,{reactReduxForwardedRef:K}))});return H.displayName=R,H.WrappedComponent=I,wa(H,I)}return wa(U,I)}}function Ma(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function nn(e,r){if(Ma(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var l=0;l<t.length;l++)if(!Object.prototype.hasOwnProperty.call(r,t[l])||!Ma(e[t[l]],r[t[l]]))return!1;return!0}function gu(e,r){var t={},n=function(i){var o=e[i];typeof o=="function"&&(t[i]=function(){return r(o.apply(void 0,arguments))})};for(var l in e)n(l);return t}function Vn(e){return function(t,n){var l=e(t,n);function a(){return l}return a.dependsOnOwnProps=!1,a}}function Oa(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function go(e,r){return function(n,l){l.displayName;var a=function(o,s){return a.dependsOnOwnProps?a.mapToProps(o,s):a.mapToProps(o)};return a.dependsOnOwnProps=!0,a.mapToProps=function(o,s){a.mapToProps=e,a.dependsOnOwnProps=Oa(e);var f=a(o,s);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=Oa(f),f=a(o,s)),f},a}}function mu(e){return typeof e=="function"?go(e):void 0}function bu(e){return e?void 0:Vn(function(r){return{dispatch:r}})}function yu(e){return e&&typeof e=="object"?Vn(function(r){return gu(e,r)}):void 0}const wu=[mu,bu,yu];function xu(e){return typeof e=="function"?go(e):void 0}function Du(e){return e?void 0:Vn(function(){return{}})}const Su=[xu,Du];function Cu(e,r,t){return le({},t,e,r)}function _u(e){return function(t,n){n.displayName;var l=n.pure,a=n.areMergedPropsEqual,i=!1,o;return function(f,p,c){var d=e(f,p,c);return i?(!l||!a(d,o))&&(o=d):(i=!0,o=d),o}}}function Iu(e){return typeof e=="function"?_u(e):void 0}function Eu(e){return e?void 0:function(){return Cu}}const Au=[Iu,Eu];var ku=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ru(e,r,t,n){return function(a,i){return t(e(a,i),r(n,i),i)}}function Tu(e,r,t,n,l){var a=l.areStatesEqual,i=l.areOwnPropsEqual,o=l.areStatePropsEqual,s=!1,f,p,c,d,h;function v(C,I){return f=C,p=I,c=e(f,p),d=r(n,p),h=t(c,d,p),s=!0,h}function D(){return c=e(f,p),r.dependsOnOwnProps&&(d=r(n,p)),h=t(c,d,p),h}function S(){return e.dependsOnOwnProps&&(c=e(f,p)),r.dependsOnOwnProps&&(d=r(n,p)),h=t(c,d,p),h}function b(){var C=e(f,p),I=!o(C,c);return c=C,I&&(h=t(c,d,p)),h}function w(C,I){var k=!i(I,p),R=!a(C,f,I,p);return f=C,p=I,k&&R?D():k?S():R?b():h}return function(I,k){return s?w(I,k):v(I,k)}}function Pu(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,l=r.initMergeProps,a=Bt(r,ku),i=t(e,a),o=n(e,a),s=l(e,a),f=a.pure?Tu:Ru;return f(i,o,s,e,a)}var Bu=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function an(e,r,t){for(var n=r.length-1;n>=0;n--){var l=r[n](e);if(l)return l}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+i.wrappedComponentName+".")}}function Nu(e,r){return e===r}function Mu(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?hu:t,l=r.mapStateToPropsFactories,a=l===void 0?Su:l,i=r.mapDispatchToPropsFactories,o=i===void 0?wu:i,s=r.mergePropsFactories,f=s===void 0?Au:s,p=r.selectorFactory,c=p===void 0?Pu:p;return function(h,v,D,S){S===void 0&&(S={});var b=S,w=b.pure,C=w===void 0?!0:w,I=b.areStatesEqual,k=I===void 0?Nu:I,R=b.areOwnPropsEqual,_=R===void 0?nn:R,B=b.areStatePropsEqual,F=B===void 0?nn:B,z=b.areMergedPropsEqual,O=z===void 0?nn:z,U=Bt(b,Bu),H=an(h,a,"mapStateToProps"),q=an(v,o,"mapDispatchToProps"),J=an(D,f,"mergeProps");return n(c,le({methodName:"connect",getDisplayName:function(j){return"Connect("+j+")"},shouldHandleStateChanges:!!h,initMapStateToProps:H,initMapDispatchToProps:q,initMergeProps:J,pure:C,areStatesEqual:k,areOwnPropsEqual:_,areStatePropsEqual:F,areMergedPropsEqual:O},U))}}const mo=Mu();Vc(Fl);function Ou(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function bo(e,r){var t=dr(function(){return{inputs:r,result:e()}})[0],n=xe(!0),l=xe(t),a=n.current||!!(r&&l.current.inputs&&Ou(r,l.current.inputs)),i=a?l.current:{inputs:r,result:e()};return Ae(function(){n.current=!1,l.current=i},[i]),i.result}function Lu(e,r){return bo(function(){return e},r)}var me=bo,te=Lu,Fu="Invariant failed";function zu(e,r){throw new Error(Fu)}var cr=function(r){var t=r.top,n=r.right,l=r.bottom,a=r.left,i=n-a,o=l-t,s={top:t,right:n,bottom:l,left:a,width:i,height:o,x:a,y:t,center:{x:(n+a)/2,y:(l+t)/2}};return s},Zn=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},La=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},Hu=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},on={top:0,right:0,bottom:0,left:0},jn=function(r){var t=r.borderBox,n=r.margin,l=n===void 0?on:n,a=r.border,i=a===void 0?on:a,o=r.padding,s=o===void 0?on:o,f=cr(Zn(t,l)),p=cr(La(t,i)),c=cr(La(p,s));return{marginBox:f,borderBox:cr(t),paddingBox:p,contentBox:c,margin:l,border:i,padding:s}},nr=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var l=Number(t);return isNaN(l)&&zu(),l},Gu=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Nt=function(r,t){var n=r.borderBox,l=r.border,a=r.margin,i=r.padding,o=Hu(n,t);return jn({borderBox:o,border:l,margin:a,padding:i})},Mt=function(r,t){return t===void 0&&(t=Gu()),Nt(r,t)},yo=function(r,t){var n={top:nr(t.marginTop),right:nr(t.marginRight),bottom:nr(t.marginBottom),left:nr(t.marginLeft)},l={top:nr(t.paddingTop),right:nr(t.paddingRight),bottom:nr(t.paddingBottom),left:nr(t.paddingLeft)},a={top:nr(t.borderTopWidth),right:nr(t.borderRightWidth),bottom:nr(t.borderBottomWidth),left:nr(t.borderLeftWidth)};return jn({borderBox:r,margin:n,padding:l,border:a})},wo=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return yo(t,n)},Fa=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function Wu(e,r){return!!(e===r||Fa(e)&&Fa(r))}function $u(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!Wu(e[t],r[t]))return!1;return!0}function ze(e,r){r===void 0&&(r=$u);var t,n=[],l,a=!1;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&t===this&&r(o,n)||(l=e.apply(this,o),a=!0,t=this,n=o),l}return i}var it=function(r){var t=[],n=null,l=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];t=o,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return l.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},l};function xo(e,r){}xo.bind(null,"warn");xo.bind(null,"error");function _r(){}function Uu(e,r){return le({},e,{},r)}function ir(e,r,t){var n=r.map(function(l){var a=Uu(t,l.options);return e.addEventListener(l.eventName,l.fn,a),function(){e.removeEventListener(l.eventName,l.fn,a)}});return function(){n.forEach(function(a){a()})}}var qu="Invariant failed";function Ot(e){this.message=e}Ot.prototype.toString=function(){return this.message};function Z(e,r){throw new Ot(qu)}var Vu=function(e){Vi(r,e);function r(){for(var n,l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=_r,n.onWindowError=function(o){var s=n.getCallbacks();s.isDragging()&&s.tryAbort();var f=o.error;f instanceof Ot&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=ir(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(l){if(l instanceof Ot){this.setState({});return}throw l},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r}(ye.Component),Zu=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lt=function(r){return r+1},ju=function(r){return`
  You have lifted an item in position `+Lt(r.source.index)+`
`},Do=function(r,t){var n=r.droppableId===t.droppableId,l=Lt(r.index),a=Lt(t.index);return n?`
      You have moved the item from position `+l+`
      to position `+a+`
    `:`
    You have moved the item from position `+l+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+a+`
  `},So=function(r,t,n){var l=t.droppableId===n.droppableId;return l?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Ku=function(r){var t=r.destination;if(t)return Do(r.source,t);var n=r.combine;return n?So(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},za=function(r){return`
  The item has returned to its starting position
  of `+Lt(r.index)+`
`},Yu=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+za(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+Do(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+So(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+za(r.source)+`
  `},Rt={dragHandleUsageInstructions:Zu,onDragStart:ju,onDragUpdate:Ku,onDragEnd:Yu},He={x:0,y:0},qe=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},Je=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},Ir=function(r,t){return r.x===t.x&&r.y===t.y},Yr=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},Lr=function(r,t,n){var l;return n===void 0&&(n=0),l={},l[r]=t,l[r==="x"?"y":"x"]=n,l},ot=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},Ha=function(r,t){return Math.min.apply(Math,t.map(function(n){return ot(r,n)}))},Co=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},Xu=function(e,r){var t=cr({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t},yt=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Ga=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},Ju={top:0,right:0,bottom:0,left:0},Qu=function(r,t){return t?yt(r,t.scroll.diff.displacement):r},ed=function(r,t,n){if(n&&n.increasedBy){var l;return le({},r,(l={},l[t.end]=r[t.end]+n.increasedBy[t.line],l))}return r},rd=function(r,t){return t&&t.shouldClipSubject?Xu(t.pageMarginBox,r):cr(r)},qr=function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,l=e.frame,a=Qu(r.marginBox,l),i=ed(a,n,t),o=rd(i,l);return{page:r,withPlaceholder:t,active:o}},Kn=function(e,r){e.frame||Z();var t=e.frame,n=Je(r,t.scroll.initial),l=Yr(n),a=le({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:l},max:t.scroll.max}}),i=qr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),o=le({},e,{frame:a,subject:i});return o};function Ft(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function Yn(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function kr(e,r){if(e.find)return e.find(r);var t=Yn(e,r);if(t!==-1)return e[t]}function _o(e){return Array.prototype.slice.call(e)}var Io=ze(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),Eo=ze(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),Kt=ze(function(e){return Ft(e)}),td=ze(function(e){return Ft(e)}),Xr=ze(function(e,r){var t=td(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,l){return n.descriptor.index-l.descriptor.index});return t});function Xn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Yt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Xt=ze(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),nd=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,l=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=Xn(a);if(!i)return null;function o(D){var S={type:"COMBINE",combine:{draggableId:D,droppableId:n.descriptor.id}};return le({},a,{at:S})}var s=a.displaced.all,f=s.length?s[0]:null;if(r)return f?o(f):null;var p=Xt(t,l);if(!f){if(!p.length)return null;var c=p[p.length-1];return o(c.descriptor.id)}var d=Yn(p,function(D){return D.descriptor.id===f});d===-1&&Z();var h=d-1;if(h<0)return null;var v=p[h];return o(v.descriptor.id)},Jr=function(e,r){return e.descriptor.droppableId===r.descriptor.id},Ao={point:He,value:0},lt={invisible:{},visible:{},all:[]},ad={displaced:lt,displacedBy:Ao,at:null},or=function(e,r){return function(t){return e<=t&&t<=r}},ko=function(e){var r=or(e.top,e.bottom),t=or(e.left,e.right);return function(n){var l=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(l)return!0;var a=r(n.top)||r(n.bottom),i=t(n.left)||t(n.right),o=a&&i;if(o)return!0;var s=n.top<e.top&&n.bottom>e.bottom,f=n.left<e.left&&n.right>e.right,p=s&&f;if(p)return!0;var c=s&&i||f&&a;return c}},id=function(e){var r=or(e.top,e.bottom),t=or(e.left,e.right);return function(n){var l=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return l}},Jn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ro={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},od=function(e){return function(r){var t=or(r.top,r.bottom),n=or(r.left,r.right);return function(l){return e===Jn?t(l.top)&&t(l.bottom):n(l.left)&&n(l.right)}}},ld=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:He;return yt(r,n)},sd=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},cd=function(r,t,n){return n(t)(r)},Qn=function(r){var t=r.target,n=r.destination,l=r.viewport,a=r.withDroppableDisplacement,i=r.isVisibleThroughFrameFn,o=a?ld(t,n):t;return sd(o,n,i)&&cd(o,l,i)},ud=function(r){return Qn(le({},r,{isVisibleThroughFrameFn:ko}))},To=function(r){return Qn(le({},r,{isVisibleThroughFrameFn:id}))},dd=function(r){return Qn(le({},r,{isVisibleThroughFrameFn:od(r.destination.axis)}))},fd=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var l=t.invisible,a=t.visible;if(l[r])return!1;var i=a[r];return i?i.shouldAnimate:!0};function pd(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return cr(Zn(t,n))}function st(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,l=e.viewport,a=e.forceShouldAnimate,i=e.last;return r.reduce(function(s,f){var p=pd(f,n),c=f.descriptor.id;s.all.push(c);var d=ud({target:p,destination:t,viewport:l,withDroppableDisplacement:!0});if(!d)return s.invisible[f.descriptor.id]=!0,s;var h=fd(c,i,a),v={draggableId:c,shouldAnimate:h};return s.visible[c]=v,s},{all:[],visible:{},invisible:{}})}function vd(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function Wa(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,l=e.destination,a=vd(r,{inHomeList:t});return{displaced:lt,displacedBy:n,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:a}}}}function zt(e){var r=e.draggable,t=e.insideDestination,n=e.destination,l=e.viewport,a=e.displacedBy,i=e.last,o=e.index,s=e.forceShouldAnimate,f=Jr(r,n);if(o==null)return Wa({insideDestination:t,inHomeList:f,displacedBy:a,destination:n});var p=kr(t,function(D){return D.descriptor.index===o});if(!p)return Wa({insideDestination:t,inHomeList:f,displacedBy:a,destination:n});var c=Xt(r,t),d=t.indexOf(p),h=c.slice(d),v=st({afterDragging:h,destination:n,displacedBy:a,last:i,viewport:l.frame,forceShouldAnimate:s});return{displaced:v,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Ar(e,r){return!!r.effected[e]}var hd=function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,l=e.combine,a=e.afterCritical;if(!t.isCombineEnabled)return null;var i=l.draggableId,o=n[i],s=o.descriptor.index,f=Ar(i,a);return f?r?s:s-1:r?s+1:s},gd=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,l=e.location;if(!n.length)return null;var a=l.index,i=r?a+1:a-1,o=n[0].descriptor.index,s=n[n.length-1].descriptor.index,f=t?s:s+1;return i<o||i>f?null:i},md=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,l=e.draggables,a=e.destination,i=e.insideDestination,o=e.previousImpact,s=e.viewport,f=e.afterCritical,p=o.at;if(p||Z(),p.type==="REORDER"){var c=gd({isMovingForward:r,isInHomeList:t,location:p.destination,insideDestination:i});return c==null?null:zt({draggable:n,insideDestination:i,destination:a,viewport:s,last:o.displaced,displacedBy:o.displacedBy,index:c})}var d=hd({isMovingForward:r,destination:a,displaced:o.displaced,draggables:l,combine:p.combine,afterCritical:f});return d==null?null:zt({draggable:n,insideDestination:i,destination:a,viewport:s,last:o.displaced,displacedBy:o.displacedBy,index:d})},bd=function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,l=e.displacedBy,a=!!(r.visible[n]||r.invisible[n]);return Ar(n,t)?a?He:Yr(l.point):a?l.point:He},yd=function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,l=Yt(t);l||Z();var a=l.draggableId,i=n[a].page.borderBox.center,o=bd({displaced:t.displaced,afterCritical:r,combineWith:a,displacedBy:t.displacedBy});return qe(i,o)},Po=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},wd=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},ea=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},$a=function(r){var t=r.axis,n=r.moveRelativeTo,l=r.isMoving;return Lr(t.line,n.marginBox[t.end]+Po(t,l),ea(t,n.marginBox,l))},Ua=function(r){var t=r.axis,n=r.moveRelativeTo,l=r.isMoving;return Lr(t.line,n.marginBox[t.start]-wd(t,l),ea(t,n.marginBox,l))},xd=function(r){var t=r.axis,n=r.moveInto,l=r.isMoving;return Lr(t.line,n.contentBox[t.start]+Po(t,l),ea(t,n.contentBox,l))},Dd=function(e){var r=e.impact,t=e.draggable,n=e.draggables,l=e.droppable,a=e.afterCritical,i=Xr(l.descriptor.id,n),o=t.page,s=l.axis;if(!i.length)return xd({axis:s,moveInto:l.page,isMoving:o});var f=r.displaced,p=r.displacedBy,c=f.all[0];if(c){var d=n[c];if(Ar(c,a))return Ua({axis:s,moveRelativeTo:d.page,isMoving:o});var h=Nt(d.page,p.point);return Ua({axis:s,moveRelativeTo:h,isMoving:o})}var v=i[i.length-1];if(v.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Ar(v.descriptor.id,a)){var D=Nt(v.page,Yr(a.displacedBy.point));return $a({axis:s,moveRelativeTo:D,isMoving:o})}return $a({axis:s,moveRelativeTo:v.page,isMoving:o})},Tn=function(e,r){var t=e.frame;return t?qe(r,t.scroll.diff.displacement):r},Sd=function(r){var t=r.impact,n=r.draggable,l=r.droppable,a=r.draggables,i=r.afterCritical,o=n.page.borderBox.center,s=t.at;return!l||!s?o:s.type==="REORDER"?Dd({impact:t,draggable:n,draggables:a,droppable:l,afterCritical:i}):yd({impact:t,draggables:a,afterCritical:i})},Jt=function(e){var r=Sd(e),t=e.droppable,n=t?Tn(t,r):r;return n},Bo=function(e,r){var t=Je(r,e.scroll.initial),n=Yr(t),l=cr({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),a={frame:l,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return a};function qa(e,r){return e.map(function(t){return r[t]})}function Cd(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var _d=function(e){var r=e.impact,t=e.viewport,n=e.destination,l=e.draggables,a=e.maxScrollChange,i=Bo(t,qe(t.scroll.current,a)),o=n.frame?Kn(n,qe(n.frame.scroll.current,a)):n,s=r.displaced,f=st({afterDragging:qa(s.all,l),destination:n,displacedBy:r.displacedBy,viewport:i.frame,last:s,forceShouldAnimate:!1}),p=st({afterDragging:qa(s.all,l),destination:o,displacedBy:r.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),c={},d={},h=[s,f,p];s.all.forEach(function(D){var S=Cd(D,h);if(S){d[D]=S;return}c[D]=!0});var v=le({},r,{displaced:{all:s.all,invisible:c,visible:d}});return v},Id=function(e,r){return qe(e.scroll.diff.displacement,r)},ra=function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,l=Id(n,r),a=Je(l,t.page.borderBox.center);return qe(t.client.borderBox.center,a)},No=function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,l=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,o=i===void 0?!1:i,s=Je(n,r.page.borderBox.center),f=yt(r.page.borderBox,s),p={target:f,destination:t,withDroppableDisplacement:a,viewport:l};return o?dd(p):To(p)},Ed=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,l=e.draggables,a=e.previousImpact,i=e.viewport,o=e.previousPageBorderBoxCenter,s=e.previousClientSelection,f=e.afterCritical;if(!n.isEnabled)return null;var p=Xr(n.descriptor.id,l),c=Jr(t,n),d=nd({isMovingForward:r,draggable:t,destination:n,insideDestination:p,previousImpact:a})||md({isMovingForward:r,isInHomeList:c,draggable:t,draggables:l,destination:n,insideDestination:p,previousImpact:a,viewport:i,afterCritical:f});if(!d)return null;var h=Jt({impact:d,draggable:t,droppable:n,draggables:l,afterCritical:f}),v=No({draggable:t,destination:n,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var D=ra({pageBorderBoxCenter:h,draggable:t,viewport:i});return{clientSelection:D,impact:d,scrollJumpRequest:null}}var S=Je(h,o),b=_d({impact:d,viewport:i,destination:n,draggables:l,maxScrollChange:S});return{clientSelection:s,impact:b,scrollJumpRequest:S}},Ke=function(r){var t=r.subject.active;return t||Z(),t},Ad=function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,l=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var o=n.axis,s=or(i[o.start],i[o.end]),f=Kt(l).filter(function(c){return c!==n}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return ko(a.frame)(Ke(c))}).filter(function(c){var d=Ke(c);return r?i[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<i[o.crossAxisStart]}).filter(function(c){var d=Ke(c),h=or(d[o.start],d[o.end]);return s(d[o.start])||s(d[o.end])||h(i[o.start])||h(i[o.end])}).sort(function(c,d){var h=Ke(c)[o.crossAxisStart],v=Ke(d)[o.crossAxisStart];return r?h-v:v-h}).filter(function(c,d,h){return Ke(c)[o.crossAxisStart]===Ke(h[0])[o.crossAxisStart]});if(!f.length)return null;if(f.length===1)return f[0];var p=f.filter(function(c){var d=or(Ke(c)[o.start],Ke(c)[o.end]);return d(t[o.line])});return p.length===1?p[0]:p.length>1?p.sort(function(c,d){return Ke(c)[o.start]-Ke(d)[o.start]})[0]:f.sort(function(c,d){var h=Ha(t,Ga(Ke(c))),v=Ha(t,Ga(Ke(d)));return h!==v?h-v:Ke(c)[o.start]-Ke(d)[o.start]})[0]},Va=function(r,t){var n=r.page.borderBox.center;return Ar(r.descriptor.id,t)?Je(n,t.displacedBy.point):n},kd=function(r,t){var n=r.page.borderBox;return Ar(r.descriptor.id,t)?yt(n,Yr(t.displacedBy.point)):n},Rd=function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,l=e.insideDestination,a=e.afterCritical,i=l.filter(function(o){return To({target:kd(o,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(o,s){var f=ot(r,Tn(n,Va(o,a))),p=ot(r,Tn(n,Va(s,a)));return f<p?-1:p<f?1:o.descriptor.index-s.descriptor.index});return i[0]||null},wt=ze(function(r,t){var n=t[r.line];return{value:n,point:Lr(r.line,n)}}),Td=function(r,t,n){var l=r.axis;if(r.descriptor.mode==="virtual")return Lr(l.line,t[l.line]);var a=r.subject.page.contentBox[l.size],i=Xr(r.descriptor.id,n),o=i.reduce(function(p,c){return p+c.client.marginBox[l.size]},0),s=o+t[l.line],f=s-a;return f<=0?null:Lr(l.line,f)},Mo=function(r,t){return le({},r,{scroll:le({},r.scroll,{max:t})})},Oo=function(r,t,n){var l=r.frame;Jr(t,r)&&Z(),r.subject.withPlaceholder&&Z();var a=wt(r.axis,t.displaceBy).point,i=Td(r,a,n),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!l){var s=qr({page:r.subject.page,withPlaceholder:o,axis:r.axis,frame:r.frame});return le({},r,{subject:s})}var f=i?qe(l.scroll.max,i):l.scroll.max,p=Mo(l,f),c=qr({page:r.subject.page,withPlaceholder:o,axis:r.axis,frame:p});return le({},r,{subject:c,frame:p})},Pd=function(r){var t=r.subject.withPlaceholder;t||Z();var n=r.frame;if(!n){var l=qr({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return le({},r,{subject:l})}var a=t.oldFrameMaxScroll;a||Z();var i=Mo(n,a),o=qr({page:r.subject.page,axis:r.axis,frame:i,withPlaceholder:null});return le({},r,{subject:o,frame:i})},Bd=function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,l=e.draggable,a=e.draggables,i=e.destination,o=e.viewport,s=e.afterCritical;if(!t){if(n.length)return null;var f={displaced:lt,displacedBy:Ao,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=Jt({impact:f,draggable:l,droppable:i,draggables:a,afterCritical:s}),c=Jr(l,i)?i:Oo(i,l,a),d=No({draggable:l,destination:c,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?f:null}var h=r[i.axis.line]<=t.page.borderBox.center[i.axis.line],v=function(){var S=t.descriptor.index;return t.descriptor.id===l.descriptor.id||h?S:S+1}(),D=wt(i.axis,l.displaceBy);return zt({draggable:l,insideDestination:n,destination:i,viewport:o,displacedBy:D,last:lt,index:v})},Nd=function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,l=e.isOver,a=e.draggables,i=e.droppables,o=e.viewport,s=e.afterCritical,f=Ad({isMovingForward:r,pageBorderBoxCenter:t,source:l,droppables:i,viewport:o});if(!f)return null;var p=Xr(f.descriptor.id,a),c=Rd({pageBorderBoxCenter:t,viewport:o,destination:f,insideDestination:p,afterCritical:s}),d=Bd({previousPageBorderBoxCenter:t,destination:f,draggable:n,draggables:a,moveRelativeTo:c,insideDestination:p,viewport:o,afterCritical:s});if(!d)return null;var h=Jt({impact:d,draggable:n,droppable:f,draggables:a,afterCritical:s}),v=ra({pageBorderBoxCenter:h,draggable:n,viewport:o});return{clientSelection:v,impact:d,scrollJumpRequest:null}},Qe=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},Md=function(r,t){var n=Qe(r);return n?t[n]:null},Od=function(e){var r=e.state,t=e.type,n=Md(r.impact,r.dimensions.droppables),l=!!n,a=r.dimensions.droppables[r.critical.droppable.id],i=n||a,o=i.axis.direction,s=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(s&&!l)return null;var f=t==="MOVE_DOWN"||t==="MOVE_RIGHT",p=r.dimensions.draggables[r.critical.draggable.id],c=r.current.page.borderBoxCenter,d=r.dimensions,h=d.draggables,v=d.droppables;return s?Ed({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:p,destination:i,draggables:h,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):Nd({isMovingForward:f,previousPageBorderBoxCenter:c,draggable:p,isOver:i,draggables:h,droppables:v,viewport:r.viewport,afterCritical:r.afterCritical})};function Mr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Lo(e){var r=or(e.top,e.bottom),t=or(e.left,e.right);return function(l){return r(l.y)&&t(l.x)}}function Ld(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function Fd(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,l=t.page.borderBox.center,a=n.map(function(i){var o=i.axis,s=Lr(i.axis.line,r.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:ot(l,s)}}).sort(function(i,o){return o.distance-i.distance});return a[0]?a[0].id:null}function zd(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,l=Kt(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!Ld(r,i))return!1;if(Lo(i)(r.center))return!0;var o=a.axis,s=i.center[o.crossAxisLine],f=r[o.crossAxisStart],p=r[o.crossAxisEnd],c=or(i[o.crossAxisStart],i[o.crossAxisEnd]),d=c(f),h=c(p);return!d&&!h?!0:d?f<s:p>s});return l.length?l.length===1?l[0].descriptor.id:Fd({pageBorderBox:r,draggable:t,candidates:l}):null}var Fo=function(r,t){return cr(yt(r,t))},Hd=function(e,r){var t=e.frame;return t?Fo(r,t.scroll.diff.value):r};function zo(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function Gd(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Wd=function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,l=e.insideDestination,a=e.last,i=e.viewport,o=e.afterCritical,s=n.axis,f=wt(n.axis,t.displaceBy),p=f.value,c=r[s.start],d=r[s.end],h=Xt(t,l),v=kr(h,function(S){var b=S.descriptor.id,w=S.page.borderBox.center[s.line],C=Ar(b,o),I=zo({displaced:a,id:b});return C?I?d<=w:c<w-p:I?d<=w+p:c<w}),D=Gd({draggable:t,closest:v,inHomeList:Jr(t,n)});return zt({draggable:t,insideDestination:l,destination:n,viewport:i,last:a,displacedBy:f,index:D})},$d=4,Ud=function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,l=e.destination,a=e.insideDestination,i=e.afterCritical;if(!l.isCombineEnabled)return null;var o=l.axis,s=wt(l.axis,r.displaceBy),f=s.value,p=t[o.start],c=t[o.end],d=Xt(r,a),h=kr(d,function(D){var S=D.descriptor.id,b=D.page.borderBox,w=b[o.size],C=w/$d,I=Ar(S,i),k=zo({displaced:n.displaced,id:S});return I?k?c>b[o.start]+C&&c<b[o.end]-C:p>b[o.start]-f+C&&p<b[o.end]-f-C:k?c>b[o.start]+f+C&&c<b[o.end]+f-C:p>b[o.start]+C&&p<b[o.end]-C});if(!h)return null;var v={displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:l.descriptor.id}}};return v},Ho=function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,l=e.droppables,a=e.previousImpact,i=e.viewport,o=e.afterCritical,s=Fo(t.page.borderBox,r),f=zd({pageBorderBox:s,draggable:t,droppables:l});if(!f)return ad;var p=l[f],c=Xr(p.descriptor.id,n),d=Hd(p,s);return Ud({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:a,destination:p,insideDestination:c,afterCritical:o})||Wd({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:p,insideDestination:c,last:a.displaced,viewport:i,afterCritical:o})},ta=function(e,r){var t;return le({},e,(t={},t[r.descriptor.id]=r,t))},qd=function(r){var t=r.previousImpact,n=r.impact,l=r.droppables,a=Qe(t),i=Qe(n);if(!a||a===i)return l;var o=l[a];if(!o.subject.withPlaceholder)return l;var s=Pd(o);return ta(l,s)},Vd=function(e){var r=e.draggable,t=e.draggables,n=e.droppables,l=e.previousImpact,a=e.impact,i=qd({previousImpact:l,impact:a,droppables:n}),o=Qe(a);if(!o)return i;var s=n[o];if(Jr(r,s)||s.subject.withPlaceholder)return i;var f=Oo(s,r,t);return ta(i,f)},tt=function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,l=e.viewport,a=e.impact,i=e.scrollJumpRequest,o=l||r.viewport,s=n||r.dimensions,f=t||r.current.client.selection,p=Je(f,r.initial.client.selection),c={offset:p,selection:f,borderBoxCenter:qe(r.initial.client.borderBoxCenter,p)},d={selection:qe(c.selection,o.scroll.current),borderBoxCenter:qe(c.borderBoxCenter,o.scroll.current),offset:qe(c.offset,o.scroll.diff.value)},h={client:c,page:d};if(r.phase==="COLLECTING")return le({phase:"COLLECTING"},r,{dimensions:s,viewport:o,current:h});var v=s.draggables[r.critical.draggable.id],D=a||Ho({pageOffset:d.offset,draggable:v,draggables:s.draggables,droppables:s.droppables,previousImpact:r.impact,viewport:o,afterCritical:r.afterCritical}),S=Vd({draggable:v,impact:D,previousImpact:r.impact,draggables:s.draggables,droppables:s.droppables}),b=le({},r,{current:h,dimensions:{draggables:s.draggables,droppables:S},impact:D,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return b};function Zd(e,r){return e.map(function(t){return r[t]})}var Go=function(e){var r=e.impact,t=e.viewport,n=e.draggables,l=e.destination,a=e.forceShouldAnimate,i=r.displaced,o=Zd(i.all,n),s=st({afterDragging:o,destination:l,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return le({},r,{displaced:s})},Wo=function(e){var r=e.impact,t=e.draggable,n=e.droppable,l=e.draggables,a=e.viewport,i=e.afterCritical,o=Jt({impact:r,draggable:t,draggables:l,droppable:n,afterCritical:i});return ra({pageBorderBoxCenter:o,draggable:t,viewport:a})},$o=function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&Z();var l=r.impact,a=n||r.viewport,i=t||r.dimensions,o=i.draggables,s=i.droppables,f=o[r.critical.draggable.id],p=Qe(l);p||Z();var c=s[p],d=Go({impact:l,viewport:a,destination:c,draggables:o}),h=Wo({impact:d,draggable:f,droppable:c,draggables:o,viewport:a,afterCritical:r.afterCritical});return tt({impact:d,clientSelection:h,state:r,dimensions:i,viewport:a})},jd=function(e){return{index:e.index,droppableId:e.droppableId}},Uo=function(e){var r=e.draggable,t=e.home,n=e.draggables,l=e.viewport,a=wt(t.axis,r.displaceBy),i=Xr(t.descriptor.id,n),o=i.indexOf(r);o===-1&&Z();var s=i.slice(o+1),f=s.reduce(function(h,v){return h[v.descriptor.id]=!0,h},{}),p={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:f},c=st({afterDragging:s,destination:t,displacedBy:a,last:null,viewport:l.frame,forceShouldAnimate:!1}),d={displaced:c,displacedBy:a,at:{type:"REORDER",destination:jd(r.descriptor)}};return{impact:d,afterCritical:p}},Kd=function(e,r){return{draggables:e.draggables,droppables:ta(e.droppables,r)}},Yd=function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,l=Nt(r.client,t),a=Mt(l,n),i=le({},r,{placeholder:le({},r.placeholder,{client:l}),client:l,page:a});return i},Xd=function(e){var r=e.frame;return r||Z(),r},Jd=function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,l=n.scroll.diff.value;return r.map(function(a){var i=a.descriptor.droppableId,o=t[i],s=Xd(o),f=s.scroll.diff.value,p=qe(l,f),c=Yd({draggable:a,offset:p,initialWindowScroll:n.scroll.initial});return c})},Qd=function(e){var r=e.state,t=e.published,n=t.modified.map(function(C){var I=r.dimensions.droppables[C.droppableId],k=Kn(I,C.scroll);return k}),l=le({},r.dimensions.droppables,{},Io(n)),a=Eo(Jd({additions:t.additions,updatedDroppables:l,viewport:r.viewport})),i=le({},r.dimensions.draggables,{},a);t.removals.forEach(function(C){delete i[C]});var o={droppables:l,draggables:i},s=Qe(r.impact),f=s?o.droppables[s]:null,p=o.draggables[r.critical.draggable.id],c=o.droppables[r.critical.droppable.id],d=Uo({draggable:p,home:c,draggables:i,viewport:r.viewport}),h=d.impact,v=d.afterCritical,D=f&&f.isCombineEnabled?r.impact:h,S=Ho({pageOffset:r.current.page.offset,draggable:o.draggables[r.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:D,viewport:r.viewport,afterCritical:v}),b=le({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:S,onLiftImpact:h,dimensions:o,afterCritical:v,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return b;var w=le({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return w},Pn=function(r){return r.movementMode==="SNAP"},ln=function(r,t,n){var l=Kd(r.dimensions,t);return!Pn(r)||n?tt({state:r,dimensions:l}):$o({state:r,dimensions:l})};function sn(e){return e.isDragging&&e.movementMode==="SNAP"?le({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Za={phase:"IDLE",completed:null,shouldFlush:!1},ef=function(e,r){if(e===void 0&&(e=Za),r.type==="FLUSH")return le({},Za,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Z();var t=r.payload,n=t.critical,l=t.clientSelection,a=t.viewport,i=t.dimensions,o=t.movementMode,s=i.draggables[n.draggable.id],f=i.droppables[n.droppable.id],p={selection:l,borderBoxCenter:s.client.borderBox.center,offset:He},c={client:p,page:{selection:qe(p.selection,a.scroll.initial),borderBoxCenter:qe(p.selection,a.scroll.initial),offset:qe(p.selection,a.scroll.diff.value)}},d=Kt(i.droppables).every(function(Me){return!Me.isFixedOnPage}),h=Uo({draggable:s,home:f,draggables:i.draggables,viewport:a}),v=h.impact,D=h.afterCritical,S={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:i,initial:c,current:c,isWindowScrollAllowed:d,impact:v,afterCritical:D,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return S}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Z();var b=le({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Z(),Qd({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Z();var w=r.payload.client;return Ir(w,e.current.client.selection)?e:tt({state:e,clientSelection:w,impact:Pn(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return sn(e);Mr(e)||Z();var C=r.payload,I=C.id,k=C.newScroll,R=e.dimensions.droppables[I];if(!R)return e;var _=Kn(R,k);return ln(e,_,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Z();var B=r.payload,F=B.id,z=B.isEnabled,O=e.dimensions.droppables[F];O||Z(),O.isEnabled===z&&Z();var U=le({},O,{isEnabled:z});return ln(e,U,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Z();var H=r.payload,q=H.id,J=H.isCombineEnabled,K=e.dimensions.droppables[q];K||Z(),K.isCombineEnabled===J&&Z();var j=le({},K,{isCombineEnabled:J});return ln(e,j,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mr(e)||Z(),e.isWindowScrollAllowed||Z();var G=r.payload.newScroll;if(Ir(e.viewport.scroll.current,G))return sn(e);var ee=Bo(e.viewport,G);return Pn(e)?$o({state:e,viewport:ee}):tt({state:e,viewport:ee})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mr(e))return e;var ve=r.payload.maxScroll;if(Ir(ve,e.viewport.scroll.max))return e;var Ie=le({},e.viewport,{scroll:le({},e.viewport.scroll,{max:ve})});return le({phase:"DRAGGING"},e,{viewport:Ie})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Z();var de=Od({state:e,type:r.type});return de?tt({state:e,impact:de.impact,clientSelection:de.clientSelection,scrollJumpRequest:de.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var De=r.payload.reason;e.phase!=="COLLECTING"&&Z();var Ce=le({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:De});return Ce}if(r.type==="DROP_ANIMATE"){var he=r.payload,ce=he.completed,be=he.dropDuration,se=he.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Z();var ne={phase:"DROP_ANIMATING",completed:ce,dropDuration:be,newHomeClientOffset:se,dimensions:e.dimensions};return ne}if(r.type==="DROP_COMPLETE"){var ke=r.payload.completed;return{phase:"IDLE",completed:ke,shouldFlush:!1}}return e},rf=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},tf=function(r){return{type:"LIFT",payload:r}},nf=function(r){return{type:"INITIAL_PUBLISH",payload:r}},af=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},of=function(){return{type:"COLLECTION_STARTING",payload:null}},lf=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},sf=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},cf=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},qo=function(r){return{type:"MOVE",payload:r}},uf=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},df=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},ff=function(){return{type:"MOVE_UP",payload:null}},pf=function(){return{type:"MOVE_DOWN",payload:null}},vf=function(){return{type:"MOVE_RIGHT",payload:null}},hf=function(){return{type:"MOVE_LEFT",payload:null}},na=function(){return{type:"FLUSH",payload:null}},gf=function(r){return{type:"DROP_ANIMATE",payload:r}},aa=function(r){return{type:"DROP_COMPLETE",payload:r}},Vo=function(r){return{type:"DROP",payload:r}},mf=function(r){return{type:"DROP_PENDING",payload:r}},Zo=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},bf=function(e){return function(r){var t=r.getState,n=r.dispatch;return function(l){return function(a){if(a.type!=="LIFT"){l(a);return}var i=a.payload,o=i.id,s=i.clientSelection,f=i.movementMode,p=t();p.phase==="DROP_ANIMATING"&&n(aa({completed:p.completed})),t().phase!=="IDLE"&&Z(),n(na()),n(rf({draggableId:o,movementMode:f}));var c={shouldPublishImmediately:f==="SNAP"},d={draggableId:o,scrollOptions:c},h=e.startPublishing(d),v=h.critical,D=h.dimensions,S=h.viewport;n(nf({critical:v,dimensions:D,clientSelection:s,movementMode:f,viewport:S}))}}}},yf=function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}},ia={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ct={opacity:{drop:0,combining:.7},scale:{drop:.75}},oa={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Tr=oa.outOfTheWay+"s "+ia.outOfTheWay,nt={fluid:"opacity "+Tr,snap:"transform "+Tr+", opacity "+Tr,drop:function(r){var t=r+"s "+ia.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tr,placeholder:"height "+Tr+", width "+Tr+", margin "+Tr},ja=function(r){return Ir(r,He)?null:"translate("+r.x+"px, "+r.y+"px)"},Bn={moveTo:ja,drop:function(r,t){var n=ja(r);return n?t?n+" scale("+ct.scale.drop+")":n:null}},Nn=oa.minDropTime,jo=oa.maxDropTime,wf=jo-Nn,Ka=1500,xf=.6,Df=function(e){var r=e.current,t=e.destination,n=e.reason,l=ot(r,t);if(l<=0)return Nn;if(l>=Ka)return jo;var a=l/Ka,i=Nn+wf*a,o=n==="CANCEL"?i*xf:i;return Number(o.toFixed(2))},Sf=function(e){var r=e.impact,t=e.draggable,n=e.dimensions,l=e.viewport,a=e.afterCritical,i=n.draggables,o=n.droppables,s=Qe(r),f=s?o[s]:null,p=o[t.descriptor.droppableId],c=Wo({impact:r,draggable:t,draggables:i,afterCritical:a,droppable:f||p,viewport:l}),d=Je(c,t.client.borderBox.center);return d},Cf=function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,l=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||t!=="DROP"){var o=Go({draggables:r,impact:i,destination:l,viewport:a,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var s=le({},n,{displaced:lt});return{impact:s,didDropInsideDroppable:!0}},_f=function(e){var r=e.getState,t=e.dispatch;return function(n){return function(l){if(l.type!=="DROP"){n(l);return}var a=r(),i=l.payload.reason;if(a.phase==="COLLECTING"){t(mf({reason:i}));return}if(a.phase!=="IDLE"){var o=a.phase==="DROP_PENDING"&&a.isWaiting;o&&Z(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Z();var s=a.critical,f=a.dimensions,p=f.draggables[a.critical.draggable.id],c=Cf({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=c.impact,h=c.didDropInsideDroppable,v=h?Xn(d):null,D=h?Yt(d):null,S={index:s.draggable.index,droppableId:s.droppable.id},b={draggableId:p.descriptor.id,type:p.descriptor.type,source:S,reason:i,mode:a.movementMode,destination:v,combine:D},w=Sf({impact:d,draggable:p,dimensions:f,viewport:a.viewport,afterCritical:a.afterCritical}),C={critical:a.critical,afterCritical:a.afterCritical,result:b,impact:d},I=!Ir(a.current.client.offset,w)||!!b.combine;if(!I){t(aa({completed:C}));return}var k=Df({current:a.current.client.offset,destination:w,reason:i}),R={newHomeClientOffset:w,dropDuration:k,completed:C};t(gf(R))}}}},Ko=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function If(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function Ef(e){var r=e.onWindowScroll;function t(){r(Ko())}var n=it(t),l=If(n),a=_r;function i(){return a!==_r}function o(){i()&&Z(),a=ir(window,[l])}function s(){i()||Z(),n.cancel(),a(),a=_r}return{start:o,stop:s,isActive:i}}var Af=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},kf=function(e){var r=Ef({onWindowScroll:function(n){e.dispatch(uf({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&Af(n)&&r.stop(),t(n)}}},Rf=function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),l=function(i){r||t||(r=!0,e(i),clearTimeout(n))};return l.wasCalled=function(){return r},l},Tf=function(){var e=[],r=function(a){var i=Yn(e,function(f){return f.timerId===a});i===-1&&Z();var o=e.splice(i,1),s=o[0];s.callback()},t=function(a){var i=setTimeout(function(){return r(i)}),o={timerId:i,callback:a};e.push(o)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:t,flush:n}},Pf=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},Bf=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},Nf=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,l=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&l},Qr=function(r,t){t()},_t=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},cn=function(r,t,n,l){if(!r){n(l(t));return}var a=Rf(n),i={announce:a};r(t,i),a.wasCalled()||n(l(t))},Mf=function(e,r){var t=Tf(),n=null,l=function(d,h){n&&Z(),Qr("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var D={draggableId:d,mode:h};v(D)}})},a=function(d,h){n&&Z(),Qr("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(_t(d,h))})},i=function(d,h){n&&Z();var v=_t(d,h);n={mode:h,lastCritical:d,lastLocation:v.source,lastCombine:null},t.add(function(){Qr("onDragStart",function(){return cn(e().onDragStart,v,r,Rt.onDragStart)})})},o=function(d,h){var v=Xn(h),D=Yt(h);n||Z();var S=!Nf(d,n.lastCritical);S&&(n.lastCritical=d);var b=!Pf(n.lastLocation,v);b&&(n.lastLocation=v);var w=!Bf(n.lastCombine,D);if(w&&(n.lastCombine=D),!(!S&&!b&&!w)){var C=le({},_t(d,n.mode),{combine:D,destination:v});t.add(function(){Qr("onDragUpdate",function(){return cn(e().onDragUpdate,C,r,Rt.onDragUpdate)})})}},s=function(){n||Z(),t.flush()},f=function(d){n||Z(),n=null,Qr("onDragEnd",function(){return cn(e().onDragEnd,d,r,Rt.onDragEnd)})},p=function(){if(n){var d=le({},_t(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});f(d)}};return{beforeCapture:l,beforeStart:a,start:i,update:o,flush:s,drop:f,abort:p}},Of=function(e,r){var t=Mf(e,r);return function(n){return function(l){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;t.beforeStart(i,a.payload.movementMode),l(a),t.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var o=a.payload.completed.result;t.flush(),l(a),t.drop(o);return}if(l(a),a.type==="FLUSH"){t.abort();return}var s=n.getState();s.phase==="DRAGGING"&&t.update(s.critical,s.impact)}}}},Lf=function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&Z(),e.dispatch(aa({completed:n.completed}))}}},Ff=function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(l){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),l(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var s=e.getState();s.phase==="DROP_ANIMATING"&&e.dispatch(Zo())}};t=requestAnimationFrame(function(){t=null,r=ir(window,[i])})}}}},zf=function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}},Hf=function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var l=n.payload.completed.result;l.combine&&e.tryShiftRecord(l.draggableId,l.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Gf=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},Wf=function(e){return function(r){return function(t){return function(n){if(Gf(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var l=r.getState();l.phase!=="DRAGGING"&&Z(),e.start(l);return}t(n),e.scroll(r.getState())}}}},$f=function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Vo({reason:n.reason})))}}}},Uf=ao,qf=function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,l=e.getResponders,a=e.announce,i=e.autoScroller;return no(ef,Uf(Uc(yf(n),zf(r),bf(r),_f,Lf,Ff,$f,Wf(i),kf,Hf(t),Of(l,a))))},un=function(){return{additions:{},removals:{},modified:{}}};function Vf(e){var r=e.registry,t=e.callbacks,n=un(),l=null,a=function(){l||(t.collectionStarting(),l=requestAnimationFrame(function(){l=null;var p=n,c=p.additions,d=p.removals,h=p.modified,v=Object.keys(c).map(function(b){return r.draggable.getById(b).getDimension(He)}).sort(function(b,w){return b.descriptor.index-w.descriptor.index}),D=Object.keys(h).map(function(b){var w=r.droppable.getById(b),C=w.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:C}}),S={additions:v,removals:Object.keys(d),modified:D};n=un(),t.publish(S)}))},i=function(p){var c=p.descriptor.id;n.additions[c]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],a()},o=function(p){var c=p.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],a()},s=function(){l&&(cancelAnimationFrame(l),l=null,n=un())};return{add:i,remove:o,stop:s}}var Yo=function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,l=e.width,a=Je({x:t,y:r},{x:l,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i},Xo=function(){var e=document.documentElement;return e||Z(),e},Jo=function(){var e=Xo(),r=Yo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},Zf=function(){var e=Ko(),r=Jo(),t=e.y,n=e.x,l=Xo(),a=l.clientWidth,i=l.clientHeight,o=n+a,s=t+i,f=cr({top:t,left:n,right:o,bottom:s}),p={frame:f,scroll:{initial:e,current:e,max:r,diff:{value:He,displacement:He}}};return p},jf=function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,l=Zf(),a=l.scroll.current,i=r.droppable,o=n.droppable.getAllByType(i.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(a,t)}),s=n.draggable.getAllByType(r.draggable.type).map(function(c){return c.getDimension(a)}),f={draggables:Eo(s),droppables:Io(o)},p={dimensions:f,critical:r,viewport:l};return p};function Ya(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Kf=function(e,r){var t=null,n=Vf({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),l=function(h,v){e.droppable.exists(h)||Z(),t&&r.updateDroppableIsEnabled({id:h,isEnabled:v})},a=function(h,v){t&&(e.droppable.exists(h)||Z(),r.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:v}))},i=function(h,v){t&&(e.droppable.exists(h)||Z(),r.updateDroppableScroll({id:h,newScroll:v}))},o=function(h,v){t&&e.droppable.getById(h).callbacks.scroll(v)},s=function(){if(t){n.stop();var h=t.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(v){return v.callbacks.dragStopped()}),t.unsubscribe(),t=null}},f=function(h){t||Z();var v=t.critical.draggable;h.type==="ADDITION"&&Ya(e,v,h.value)&&n.add(h.value),h.type==="REMOVAL"&&Ya(e,v,h.value)&&n.remove(h.value)},p=function(h){t&&Z();var v=e.draggable.getById(h.draggableId),D=e.droppable.getById(v.descriptor.droppableId),S={draggable:v.descriptor,droppable:D.descriptor},b=e.subscribe(f);return t={critical:S,unsubscribe:b},jf({critical:S,registry:e,scrollOptions:h.scrollOptions})},c={updateDroppableIsEnabled:l,updateDroppableIsCombineEnabled:a,scrollDroppable:o,updateDroppableScroll:i,startPublishing:p,stopPublishing:s};return c},Qo=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},Yf=function(e){window.scrollBy(e.x,e.y)},Xf=ze(function(e){return Kt(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),Jf=function(r,t){var n=kr(Xf(t),function(l){return l.frame||Z(),Lo(l.frame.pageMarginBox)(r)});return n},Qf=function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var l=n[t];return l.frame?l:null}var a=Jf(r,n);return a},Er={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},ep=function(e,r){var t=e[r.size]*Er.startFromPercentage,n=e[r.size]*Er.maxScrollAtPercentage,l={startScrollingFrom:t,maxScrollValueAt:n};return l},el=function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,l=t-r;if(l===0)return 0;var a=n-r,i=a/l;return i},la=1,rp=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return Er.maxPixelScroll;if(e===r.startScrollingFrom)return la;var t=el({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,l=Er.maxPixelScroll*Er.ease(n);return Math.ceil(l)},Xa=Er.durationDampening.accelerateAt,Ja=Er.durationDampening.stopDampeningAt,tp=function(e,r){var t=r,n=Ja,l=Date.now(),a=l-t;if(a>=Ja)return e;if(a<Xa)return la;var i=el({startOfRange:Xa,endOfRange:n,current:a}),o=e*Er.ease(i);return Math.ceil(o)},Qa=function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,l=e.shouldUseTimeDampening,a=rp(r,t);return a===0?0:l?Math.max(tp(a,n),la):a},ei=function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,l=e.axis,a=e.shouldUseTimeDampening,i=ep(r,l),o=t[l.end]<t[l.start];return o?Qa({distanceToEdge:t[l.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Qa({distanceToEdge:t[l.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})},np=function(e){var r=e.container,t=e.subject,n=e.proposedScroll,l=t.height>r.height,a=t.width>r.width;return!a&&!l?n:a&&l?null:{x:a?0:n.x,y:l?0:n.y}},ap=Co(function(e){return e===0?0:e}),rl=function(e){var r=e.dragStartTime,t=e.container,n=e.subject,l=e.center,a=e.shouldUseTimeDampening,i={top:l.y-t.top,right:t.right-l.x,bottom:t.bottom-l.y,left:l.x-t.left},o=ei({container:t,distanceToEdges:i,dragStartTime:r,axis:Jn,shouldUseTimeDampening:a}),s=ei({container:t,distanceToEdges:i,dragStartTime:r,axis:Ro,shouldUseTimeDampening:a}),f=ap({x:s,y:o});if(Ir(f,He))return null;var p=np({container:t,subject:n,proposedScroll:f});return p?Ir(p,He)?null:p:null},ip=Co(function(e){return e===0?0:e>0?1:-1}),sa=function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,l=r.change,a=qe(t,l),i={x:e(a.x,n.x),y:e(a.y,n.y)};return Ir(i,He)?null:i}}(),tl=function(r){var t=r.max,n=r.current,l=r.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=ip(l),o=sa({max:a,current:n,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},ca=function(r,t){return tl({current:r.scroll.current,max:r.scroll.max,change:t})},op=function(r,t){if(!ca(r,t))return null;var n=r.scroll.max,l=r.scroll.current;return sa({current:l,max:n,change:t})},ua=function(r,t){var n=r.frame;return n?tl({current:n.scroll.current,max:n.scroll.max,change:t}):!1},lp=function(r,t){var n=r.frame;return!n||!ua(r,t)?null:sa({current:n.scroll.current,max:n.scroll.max,change:t})},sp=function(e){var r=e.viewport,t=e.subject,n=e.center,l=e.dragStartTime,a=e.shouldUseTimeDampening,i=rl({dragStartTime:l,container:r.frame,subject:t,center:n,shouldUseTimeDampening:a});return i&&ca(r,i)?i:null},cp=function(e){var r=e.droppable,t=e.subject,n=e.center,l=e.dragStartTime,a=e.shouldUseTimeDampening,i=r.frame;if(!i)return null;var o=rl({dragStartTime:l,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a});return o&&ua(r,o)?o:null},ri=function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,l=e.scrollWindow,a=e.scrollDroppable,i=r.current.page.borderBoxCenter,o=r.dimensions.draggables[r.critical.draggable.id],s=o.page.marginBox;if(r.isWindowScrollAllowed){var f=r.viewport,p=sp({dragStartTime:t,viewport:f,subject:s,center:i,shouldUseTimeDampening:n});if(p){l(p);return}}var c=Qf({center:i,destination:Qe(r.impact),droppables:r.dimensions.droppables});if(c){var d=cp({dragStartTime:t,droppable:c,subject:s,center:i,shouldUseTimeDampening:n});d&&a(c.descriptor.id,d)}},up=function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=it(r),l=it(t),a=null,i=function(p){a||Z();var c=a,d=c.shouldUseTimeDampening,h=c.dragStartTime;ri({state:p,scrollWindow:n,scrollDroppable:l,dragStartTime:h,shouldUseTimeDampening:d})},o=function(p){a&&Z();var c=Date.now(),d=!1,h=function(){d=!0};ri({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),a={dragStartTime:c,shouldUseTimeDampening:d},d&&i(p)},s=function(){a&&(n.cancel(),l.cancel(),a=null)};return{start:o,stop:s,scroll:i}},dp=function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,l=function(f,p){var c=qe(f.current.client.selection,p);r({client:c})},a=function(f,p){if(!ua(f,p))return p;var c=lp(f,p);if(!c)return t(f.descriptor.id,p),null;var d=Je(p,c);t(f.descriptor.id,d);var h=Je(p,d);return h},i=function(f,p,c){if(!f||!ca(p,c))return c;var d=op(p,c);if(!d)return n(c),null;var h=Je(c,d);n(h);var v=Je(c,h);return v},o=function(f){var p=f.scrollJumpRequest;if(p){var c=Qe(f.impact);c||Z();var d=a(f.dimensions.droppables[c],p);if(d){var h=f.viewport,v=i(f.isWindowScrollAllowed,h,d);v&&l(f,v)}}};return o},fp=function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,l=up({scrollWindow:t,scrollDroppable:r}),a=dp({move:n,scrollWindow:t,scrollDroppable:r}),i=function(f){if(f.phase==="DRAGGING"){if(f.movementMode==="FLUID"){l.scroll(f);return}f.scrollJumpRequest&&a(f)}},o={scroll:i,start:l.start,stop:l.stop};return o},Vr="data-rbd",Zr=function(){var e=Vr+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Mn=function(){var e=Vr+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),pp=function(){var e=Vr+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ti={contextId:Vr+"-scroll-container-context-id"},vp=function(r){return function(t){return"["+t+'="'+r+'"]'}},et=function(r,t){return r.map(function(n){var l=n.styles[t];return l?n.selector+" { "+l+" }":""}).join(" ")},hp="pointer-events: none;",gp=function(e){var r=vp(e),t=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Zr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:hp,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+nt.outOfTheWay+`;
    `;return{selector:r(Mn.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),l={selector:r(pp.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,t,l,a];return{always:et(i,"always"),resting:et(i,"resting"),dragging:et(i,"dragging"),dropAnimating:et(i,"dropAnimating"),userCancel:et(i,"userCancel")}},er=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zi:Ae,dn=function(){var r=document.querySelector("head");return r||Z(),r},ni=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function mp(e,r){var t=me(function(){return gp(e)},[e]),n=xe(null),l=xe(null),a=te(ze(function(c){var d=l.current;d||Z(),d.textContent=c}),[]),i=te(function(c){var d=n.current;d||Z(),d.textContent=c},[]);er(function(){!n.current&&!l.current||Z();var c=ni(r),d=ni(r);return n.current=c,l.current=d,c.setAttribute(Vr+"-always",e),d.setAttribute(Vr+"-dynamic",e),dn().appendChild(c),dn().appendChild(d),i(t.always),a(t.resting),function(){var h=function(D){var S=D.current;S||Z(),dn().removeChild(S),D.current=null};h(n),h(l)}},[r,i,a,t.always,t.resting,e]);var o=te(function(){return a(t.dragging)},[a,t.dragging]),s=te(function(c){if(c==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),f=te(function(){l.current&&a(t.resting)},[a,t.resting]),p=me(function(){return{dragging:o,dropping:s,resting:f}},[o,s,f]);return p}var nl=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Qt(e){return e instanceof nl(e).HTMLElement}function bp(e,r){var t="["+Zr.contextId+'="'+e+'"]',n=_o(document.querySelectorAll(t));if(!n.length)return null;var l=kr(n,function(a){return a.getAttribute(Zr.draggableId)===r});return!l||!Qt(l)?null:l}function yp(e){var r=xe({}),t=xe(null),n=xe(null),l=xe(!1),a=te(function(d,h){var v={id:d,focus:h};return r.current[d]=v,function(){var S=r.current,b=S[d];b!==v&&delete S[d]}},[]),i=te(function(d){var h=bp(e,d);h&&h!==document.activeElement&&h.focus()},[e]),o=te(function(d,h){t.current===d&&(t.current=h)},[]),s=te(function(){n.current||l.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=t.current;d&&i(d)}))},[i]),f=te(function(d){t.current=null;var h=document.activeElement;h&&h.getAttribute(Zr.draggableId)===d&&(t.current=d)},[]);er(function(){return l.current=!0,function(){l.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var p=me(function(){return{register:a,tryRecordFocus:f,tryRestoreFocusRecorded:s,tryShiftRecord:o}},[a,f,s,o]);return p}function wp(){var e={draggables:{},droppables:{}},r=[];function t(c){return r.push(c),function(){var h=r.indexOf(c);h!==-1&&r.splice(h,1)}}function n(c){r.length&&r.forEach(function(d){return d(c)})}function l(c){return e.draggables[c]||null}function a(c){var d=l(c);return d||Z(),d}var i={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,h){var v=e.draggables[h.descriptor.id];v&&v.uniqueId===d.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var h=d.descriptor.id,v=l(h);v&&d.uniqueId===v.uniqueId&&(delete e.draggables[h],n({type:"REMOVAL",value:d}))},getById:a,findById:l,exists:function(d){return!!l(d)},getAllByType:function(d){return Ft(e.draggables).filter(function(h){return h.descriptor.type===d})}};function o(c){return e.droppables[c]||null}function s(c){var d=o(c);return d||Z(),d}var f={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var h=o(d.descriptor.id);h&&d.uniqueId===h.uniqueId&&delete e.droppables[d.descriptor.id]},getById:s,findById:o,exists:function(d){return!!o(d)},getAllByType:function(d){return Ft(e.droppables).filter(function(h){return h.descriptor.type===d})}};function p(){e.draggables={},e.droppables={},r.length=0}return{draggable:i,droppable:f,subscribe:t,clean:p}}function xp(){var e=me(wp,[]);return Ae(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var da=ye.createContext(null),Ht=function(){var e=document.body;return e||Z(),e},Dp={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Sp=function(r){return"rbd-announcement-"+r};function Cp(e){var r=me(function(){return Sp(e)},[e]),t=xe(null);Ae(function(){var a=document.createElement("div");return t.current=a,a.id=r,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),le(a.style,Dp),Ht().appendChild(a),function(){setTimeout(function(){var s=Ht();s.contains(a)&&s.removeChild(a),a===t.current&&(t.current=null)})}},[r]);var n=te(function(l){var a=t.current;if(a){a.textContent=l;return}},[]);return n}var _p=0,Ip={separator:"::"};function fa(e,r){return r===void 0&&(r=Ip),me(function(){return""+e+r.separator+_p++},[r.separator,e])}function Ep(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function Ap(e){var r=e.contextId,t=e.text,n=fa("hidden-text",{separator:"-"}),l=me(function(){return Ep({contextId:r,uniqueId:n})},[n,r]);return Ae(function(){var i=document.createElement("div");return i.id=l,i.textContent=t,i.style.display="none",Ht().appendChild(i),function(){var s=Ht();s.contains(i)&&s.removeChild(i)}},[l,t]),l}var en=ye.createContext(null);function al(e){var r=xe(e);return Ae(function(){r.current=e}),r}function kp(){var e=null;function r(){return!!e}function t(i){return i===e}function n(i){e&&Z();var o={abandon:i};return e=o,o}function l(){e||Z(),e=null}function a(){e&&(e.abandon(),l())}return{isClaimed:r,isActive:t,claim:n,release:l,tryAbandon:a}}var Rp=9,Tp=13,pa=27,il=32,Pp=33,Bp=34,Np=35,Mp=36,Op=37,Lp=38,Fp=39,zp=40,It,Hp=(It={},It[Tp]=!0,It[Rp]=!0,It),ol=function(e){Hp[e.keyCode]&&e.preventDefault()},rn=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=kr(r,function(n){return"on"+n in document});return t||e}(),ll=0,ai=5;function Gp(e,r){return Math.abs(r.x-e.x)>=ai||Math.abs(r.y-e.y)>=ai}var ii={type:"IDLE"};function Wp(e){var r=e.cancel,t=e.completed,n=e.getPhase,l=e.setPhase;return[{eventName:"mousemove",fn:function(i){var o=i.button,s=i.clientX,f=i.clientY;if(o===ll){var p={x:s,y:f},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(p);return}c.type!=="PENDING"&&Z();var d=c.point;if(Gp(d,p)){i.preventDefault();var h=c.actions.fluidLift(p);l({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),r()}},{eventName:"keydown",fn:function(i){var o=n();if(o.type==="PENDING"){r();return}if(i.keyCode===pa){i.preventDefault(),r();return}ol(i)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(i){var o=n();if(o.type==="IDLE"&&Z(),o.actions.shouldRespectForcePress()){r();return}i.preventDefault()}},{eventName:rn,fn:r}]}function $p(e){var r=xe(ii),t=xe(_r),n=me(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===ll&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var d=e.findClosestDraggableId(c);if(d){var h=e.tryGetLock(d,i,{sourceEvent:c});if(h){c.preventDefault();var v={x:c.clientX,y:c.clientY};t.current(),f(h,v)}}}}}},[e]),l=me(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var d=e.findClosestDraggableId(c);if(d){var h=e.findOptionsForDraggable(d);h&&(h.shouldRespectForcePress||e.canGetLock(d)&&c.preventDefault())}}}}},[e]),a=te(function(){var c={passive:!1,capture:!0};t.current=ir(window,[l,n],c)},[l,n]),i=te(function(){var p=r.current;p.type!=="IDLE"&&(r.current=ii,t.current(),a())},[a]),o=te(function(){var p=r.current;i(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[i]),s=te(function(){var c={capture:!0,passive:!1},d=Wp({cancel:o,completed:i,getPhase:function(){return r.current},setPhase:function(v){r.current=v}});t.current=ir(window,d,c)},[o,i]),f=te(function(c,d){r.current.type!=="IDLE"&&Z(),r.current={type:"PENDING",point:d,actions:c},s()},[s]);er(function(){return a(),function(){t.current()}},[a])}var Wr;function Up(){}var qp=(Wr={},Wr[Bp]=!0,Wr[Pp]=!0,Wr[Mp]=!0,Wr[Np]=!0,Wr);function Vp(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===pa){a.preventDefault(),t();return}if(a.keyCode===il){a.preventDefault(),n();return}if(a.keyCode===zp){a.preventDefault(),e.moveDown();return}if(a.keyCode===Lp){a.preventDefault(),e.moveUp();return}if(a.keyCode===Fp){a.preventDefault(),e.moveRight();return}if(a.keyCode===Op){a.preventDefault(),e.moveLeft();return}if(qp[a.keyCode]){a.preventDefault();return}ol(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:rn,fn:t}]}function Zp(e){var r=xe(Up),t=me(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==il)return;var i=e.findClosestDraggableId(a);if(!i)return;var o=e.tryGetLock(i,p,{sourceEvent:a});if(!o)return;a.preventDefault();var s=!0,f=o.snapLift();r.current();function p(){s||Z(),s=!1,r.current(),n()}r.current=ir(window,Vp(f,p),{capture:!0,passive:!1})}}},[e]),n=te(function(){var a={passive:!1,capture:!0};r.current=ir(window,[t],a)},[t]);er(function(){return n(),function(){r.current()}},[n])}var fn={type:"IDLE"},jp=120,Kp=.15;function Yp(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(l){l.preventDefault()}},{eventName:"keydown",fn:function(l){if(t().type!=="DRAGGING"){r();return}l.keyCode===pa&&l.preventDefault(),r()}},{eventName:rn,fn:r}]}function Xp(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){r();return}i.hasMoved=!0;var o=a.touches[0],s=o.clientX,f=o.clientY,p={x:s,y:f};a.preventDefault(),i.actions.move(p)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){r();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){r();return}a.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&Z();var o=a.touches[0];if(o){var s=o.force>=Kp;if(s){var f=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){f&&r();return}if(f){if(i.hasMoved){a.preventDefault();return}r();return}a.preventDefault()}}}},{eventName:rn,fn:r}]}function Jp(e){var r=xe(fn),t=xe(_r),n=te(function(){return r.current},[]),l=te(function(h){r.current=h},[]),a=me(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var v=e.findClosestDraggableId(h);if(v){var D=e.tryGetLock(v,o,{sourceEvent:h});if(D){var S=h.touches[0],b=S.clientX,w=S.clientY,C={x:b,y:w};t.current(),c(D,C)}}}}}},[e]),i=te(function(){var h={capture:!0,passive:!1};t.current=ir(window,[a],h)},[a]),o=te(function(){var d=r.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),l(fn),t.current(),i())},[i,l]),s=te(function(){var d=r.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),f=te(function(){var h={capture:!0,passive:!1},v={cancel:s,completed:o,getPhase:n},D=ir(window,Xp(v),h),S=ir(window,Yp(v),h);t.current=function(){D(),S()}},[s,n,o]),p=te(function(){var h=n();h.type!=="PENDING"&&Z();var v=h.actions.fluidLift(h.point);l({type:"DRAGGING",actions:v,hasMoved:!1})},[n,l]),c=te(function(h,v){n().type!=="IDLE"&&Z();var D=setTimeout(p,jp);l({type:"PENDING",point:v,actions:h,longPressTimerId:D}),f()},[f,n,l,p]);er(function(){return i(),function(){t.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),l(fn))}},[n,i,l]),er(function(){var h=ir(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var Qp={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function sl(e,r){if(r==null)return!1;var t=!!Qp[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:sl(e,r.parentElement)}function ev(e,r){var t=r.target;return Qt(t)?sl(e,t):!1}var rv=function(e){return cr(e.getBoundingClientRect()).center};function tv(e){return e instanceof nl(e).Element}var nv=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=kr(r,function(n){return n in Element.prototype});return t||e}();function cl(e,r){return e==null?null:e[nv](r)?e:cl(e.parentElement,r)}function av(e,r){return e.closest?e.closest(r):cl(e,r)}function iv(e){return"["+Zr.contextId+'="'+e+'"]'}function ov(e,r){var t=r.target;if(!tv(t))return null;var n=iv(e),l=av(t,n);return!l||!Qt(l)?null:l}function lv(e,r){var t=ov(e,r);return t?t.getAttribute(Zr.draggableId):null}function sv(e,r){var t="["+Mn.contextId+'="'+e+'"]',n=_o(document.querySelectorAll(t)),l=kr(n,function(a){return a.getAttribute(Mn.id)===r});return!l||!Qt(l)?null:l}function cv(e){e.preventDefault()}function Et(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function ul(e){var r=e.lockAPI,t=e.store,n=e.registry,l=e.draggableId;if(r.isClaimed())return!1;var a=n.draggable.findById(l);return!(!a||!a.options.isEnabled||!Qo(t.getState(),l))}function uv(e){var r=e.lockAPI,t=e.contextId,n=e.store,l=e.registry,a=e.draggableId,i=e.forceSensorStop,o=e.sourceEvent,s=ul({lockAPI:r,store:n,registry:l,draggableId:a});if(!s)return null;var f=l.draggable.getById(a),p=sv(t,f.descriptor.id);if(!p||o&&!f.options.canDragInteractiveElements&&ev(p,o))return null;var c=r.claim(i||_r),d="PRE_DRAG";function h(){return f.options.shouldRespectForcePress}function v(){return r.isActive(c)}function D(R,_){Et({expected:R,phase:d,isLockActive:v,shouldWarn:!0})&&n.dispatch(_())}var S=D.bind(null,"DRAGGING");function b(R){function _(){r.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(_(),d!=="PRE_DRAG"&&Z()),n.dispatch(tf(R.liftActionArgs)),d="DRAGGING";function B(F,z){if(z===void 0&&(z={shouldBlockNextClick:!1}),R.cleanup(),z.shouldBlockNextClick){var O=ir(window,[{eventName:"click",fn:cv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}_(),n.dispatch(Vo({reason:F}))}return le({isActive:function(){return Et({expected:"DRAGGING",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(z){return B("DROP",z)},cancel:function(z){return B("CANCEL",z)}},R.actions)}function w(R){var _=it(function(F){S(function(){return qo({client:F})})}),B=b({liftActionArgs:{id:a,clientSelection:R,movementMode:"FLUID"},cleanup:function(){return _.cancel()},actions:{move:_}});return le({},B,{move:_})}function C(){var R={moveUp:function(){return S(ff)},moveRight:function(){return S(vf)},moveDown:function(){return S(pf)},moveLeft:function(){return S(hf)}};return b({liftActionArgs:{id:a,clientSelection:rv(p),movementMode:"SNAP"},cleanup:_r,actions:R})}function I(){var R=Et({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!0});R&&r.release()}var k={isActive:function(){return Et({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:w,snapLift:C,abort:I};return k}var dv=[$p,Zp,Jp];function fv(e){var r=e.contextId,t=e.store,n=e.registry,l=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?dv:[],l||[]),o=dr(function(){return kp()})[0],s=te(function(w,C){w.isDragging&&!C.isDragging&&o.tryAbandon()},[o]);er(function(){var w=t.getState(),C=t.subscribe(function(){var I=t.getState();s(w,I),w=I});return C},[o,t,s]),er(function(){return o.tryAbandon},[o.tryAbandon]);for(var f=te(function(b){return ul({lockAPI:o,registry:n,store:t,draggableId:b})},[o,n,t]),p=te(function(b,w,C){return uv({lockAPI:o,registry:n,contextId:r,store:t,draggableId:b,forceSensorStop:w,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[r,o,n,t]),c=te(function(b){return lv(r,b)},[r]),d=te(function(b){var w=n.draggable.findById(b);return w?w.options:null},[n.draggable]),h=te(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(na()))},[o,t]),v=te(o.isClaimed,[o]),D=me(function(){return{canGetLock:f,tryGetLock:p,findClosestDraggableId:c,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:v}},[f,p,c,d,h,v]),S=0;S<i.length;S++)i[S](D)}var pv=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function rt(e){return e.current||Z(),e.current}function vv(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,l=e.nonce,a=e.dragHandleUsageInstructions,i=xe(null),o=al(e),s=te(function(){return pv(o.current)},[o]),f=Cp(r),p=Ap({contextId:r,text:a}),c=mp(r,l),d=te(function(F){rt(i).dispatch(F)},[]),h=me(function(){return Pa({publishWhileDragging:af,updateDroppableScroll:lf,updateDroppableIsEnabled:sf,updateDroppableIsCombineEnabled:cf,collectionStarting:of},d)},[d]),v=xp(),D=me(function(){return Kf(v,h)},[v,h]),S=me(function(){return fp(le({scrollWindow:Yf,scrollDroppable:D.scrollDroppable},Pa({move:qo},d)))},[D.scrollDroppable,d]),b=yp(r),w=me(function(){return qf({announce:f,autoScroller:S,dimensionMarshal:D,focusMarshal:b,getResponders:s,styleMarshal:c})},[f,S,D,b,s,c]);i.current=w;var C=te(function(){var F=rt(i),z=F.getState();z.phase!=="IDLE"&&F.dispatch(na())},[]),I=te(function(){var F=rt(i).getState();return F.isDragging||F.phase==="DROP_ANIMATING"},[]),k=me(function(){return{isDragging:I,tryAbort:C}},[I,C]);t(k);var R=te(function(F){return Qo(rt(i).getState(),F)},[]),_=te(function(){return Mr(rt(i).getState())},[]),B=me(function(){return{marshal:D,focus:b,contextId:r,canLift:R,isMovementAllowed:_,dragHandleUsageInstructionsId:p,registry:v}},[r,D,p,b,R,_,v]);return fv({contextId:r,store:w,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),Ae(function(){return C},[C]),ye.createElement(en.Provider,{value:B},ye.createElement(Kc,{context:da,store:w},e.children))}var hv=0;function gv(){return me(function(){return""+hv++},[])}function dl(e){var r=gv(),t=e.dragHandleUsageInstructions||Rt.dragHandleUsageInstructions;return ye.createElement(Vu,null,function(n){return ye.createElement(vv,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var fl=function(r){return function(t){return r===t}},mv=fl("scroll"),bv=fl("auto"),oi=function(r,t){return t(r.overflowX)||t(r.overflowY)},yv=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return oi(n,mv)||oi(n,bv)},wv=function(){return!1},xv=function e(r){return r==null?null:r===document.body?wv()?r:null:r===document.documentElement?null:yv(r)?r:e(r.parentElement)},On=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Dv=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},Sv=function(e){var r=xv(e),t=Dv(e);return{closestScrollable:r,isFixedOnPage:t}},Cv=function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,l=e.isFixedOnPage,a=e.direction,i=e.client,o=e.page,s=e.closest,f=function(){if(!s)return null;var h=s.scrollSize,v=s.client,D=Yo({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:v,scrollSize:h,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:D,diff:{value:He,displacement:He}}}}(),p=a==="vertical"?Jn:Ro,c=qr({page:o,withPlaceholder:null,axis:p,frame:f}),d={descriptor:r,isCombineEnabled:n,isFixedOnPage:l,axis:p,isEnabled:t,client:i,page:o,frame:f,subject:c};return d},_v=function(r,t){var n=wo(r);if(!t||r!==t)return n;var l=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=l+t.scrollHeight,o=a+t.scrollWidth,s={top:l,right:o,bottom:i,left:a},f=Zn(s,n.border),p=jn({borderBox:f,margin:n.margin,border:n.border,padding:n.padding});return p},Iv=function(e){var r=e.ref,t=e.descriptor,n=e.env,l=e.windowScroll,a=e.direction,i=e.isDropDisabled,o=e.isCombineEnabled,s=e.shouldClipSubject,f=n.closestScrollable,p=_v(r,f),c=Mt(p,l),d=function(){if(!f)return null;var v=wo(f),D={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:v,page:Mt(v,l),scroll:On(f),scrollSize:D,shouldClipSubject:s}}(),h=Cv({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:a,client:p,page:c,closest:d});return h},Ev={passive:!1},Av={passive:!0},li=function(e){return e.shouldPublishImmediately?Ev:Av};function Gt(e){var r=zn(e);return r||Z(),r}var At=function(r){return r&&r.env.closestScrollable||null};function kv(e){var r=xe(null),t=Gt(en),n=fa("droppable"),l=t.registry,a=t.marshal,i=al(e),o=me(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),s=xe(o),f=me(function(){return ze(function(I,k){r.current||Z();var R={x:I,y:k};a.updateDroppableScroll(o.id,R)})},[o.id,a]),p=te(function(){var I=r.current;return!I||!I.env.closestScrollable?He:On(I.env.closestScrollable)},[]),c=te(function(){var I=p();f(I.x,I.y)},[p,f]),d=me(function(){return it(c)},[c]),h=te(function(){var I=r.current,k=At(I);I&&k||Z();var R=I.scrollOptions;if(R.shouldPublishImmediately){c();return}d()},[d,c]),v=te(function(I,k){r.current&&Z();var R=i.current,_=R.getDroppableRef();_||Z();var B=Sv(_),F={ref:_,descriptor:o,env:B,scrollOptions:k};r.current=F;var z=Iv({ref:_,descriptor:o,env:B,windowScroll:I,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),O=B.closestScrollable;return O&&(O.setAttribute(ti.contextId,t.contextId),O.addEventListener("scroll",h,li(F.scrollOptions))),z},[t.contextId,o,h,i]),D=te(function(){var I=r.current,k=At(I);return I&&k||Z(),On(k)},[]),S=te(function(){var I=r.current;I||Z();var k=At(I);r.current=null,k&&(d.cancel(),k.removeAttribute(ti.contextId),k.removeEventListener("scroll",h,li(I.scrollOptions)))},[h,d]),b=te(function(I){var k=r.current;k||Z();var R=At(k);R||Z(),R.scrollTop+=I.y,R.scrollLeft+=I.x},[]),w=me(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:D,dragStopped:S,scroll:b}},[S,v,D,b]),C=me(function(){return{uniqueId:n,descriptor:o,callbacks:w}},[w,o,n]);er(function(){return s.current=C.descriptor,l.droppable.register(C),function(){r.current&&S(),l.droppable.unregister(C)}},[w,o,S,C,a,l.droppable]),er(function(){r.current&&a.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),er(function(){r.current&&a.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function pn(){}var si={width:0,height:0,margin:Ju},Rv=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,l=r.animate;return t||l==="close"?si:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Tv=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,l=r.animate,a=Rv({isAnimatingOpenOnMount:t,placeholder:n,animate:l});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:l!=="none"?nt.placeholder:null}};function Pv(e){var r=xe(null),t=te(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,l=e.onTransitionEnd,a=e.onClose,i=e.contextId,o=dr(e.animate==="open"),s=o[0],f=o[1];Ae(function(){return s?n!=="open"?(t(),f(!1),pn):r.current?pn:(r.current=setTimeout(function(){r.current=null,f(!1)}),t):pn},[n,s,t]);var p=te(function(d){d.propertyName==="height"&&(l(),n==="close"&&a())},[n,a,l]),c=Tv({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return ye.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":i,onTransitionEnd:p,ref:e.innerRef})}var Bv=ye.memo(Pv),va=ye.createContext(null),Nv=function(e){Vi(r,e);function r(){for(var n,l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(l,a){return l.shouldAnimate?l.on?{isVisible:!0,data:l.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!l.on,data:l.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var l={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(l)},r}(ye.PureComponent),ci={dragging:5e3,dropAnimating:4500},Mv=function(r,t){return t?nt.drop(t.duration):r?nt.snap:nt.fluid},Ov=function(r,t){return r?t?ct.opacity.drop:ct.opacity.combining:null},Lv=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function Fv(e){var r=e.dimension,t=r.client,n=e.offset,l=e.combineWith,a=e.dropping,i=!!l,o=Lv(e),s=!!a,f=s?Bn.drop(n,i):Bn.moveTo(n),p={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Mv(o,a),transform:f,opacity:Ov(i,s),zIndex:s?ci.dropAnimating:ci.dragging,pointerEvents:"none"};return p}function zv(e){return{transform:Bn.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Hv(e){return e.type==="DRAGGING"?Fv(e):zv(e)}function Gv(e,r,t){t===void 0&&(t=He);var n=window.getComputedStyle(r),l=r.getBoundingClientRect(),a=yo(l,n),i=Mt(a,t),o={client:a,tagName:r.tagName.toLowerCase(),display:n.display},s={x:a.marginBox.width,y:a.marginBox.height},f={descriptor:e,placeholder:o,displaceBy:s,client:a,page:i};return f}function Wv(e){var r=fa("draggable"),t=e.descriptor,n=e.registry,l=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,o=e.isEnabled,s=me(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:o}},[a,o,i]),f=te(function(h){var v=l();return v||Z(),Gv(t,v,h)},[t,l]),p=me(function(){return{uniqueId:r,descriptor:t,options:s,getDimension:f}},[t,f,s,r]),c=xe(p),d=xe(!0);er(function(){return n.draggable.register(c.current),function(){return n.draggable.unregister(c.current)}},[n.draggable]),er(function(){if(d.current){d.current=!1;return}var h=c.current;c.current=p,n.draggable.update(p,h)},[p,n.draggable])}function $v(e){e.preventDefault()}function Uv(e){var r=xe(null),t=te(function(F){r.current=F},[]),n=te(function(){return r.current},[]),l=Gt(en),a=l.contextId,i=l.dragHandleUsageInstructionsId,o=l.registry,s=Gt(va),f=s.type,p=s.droppableId,c=me(function(){return{id:e.draggableId,index:e.index,type:f,droppableId:p}},[e.draggableId,e.index,f,p]),d=e.children,h=e.draggableId,v=e.isEnabled,D=e.shouldRespectForcePress,S=e.canDragInteractiveElements,b=e.isClone,w=e.mapped,C=e.dropAnimationFinished;if(!b){var I=me(function(){return{descriptor:c,registry:o,getDraggableRef:n,canDragInteractiveElements:S,shouldRespectForcePress:D,isEnabled:v}},[c,o,n,S,D,v]);Wv(I)}var k=me(function(){return v?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:$v}:null},[a,i,h,v]),R=te(function(F){w.type==="DRAGGING"&&w.dropping&&F.propertyName==="transform"&&C()},[C,w]),_=me(function(){var F=Hv(w),z=w.type==="DRAGGING"&&w.dropping?R:null,O={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:F,onTransitionEnd:z},dragHandleProps:k};return O},[a,k,h,w,R,t]),B=me(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return d(_,w.snapshot,B)}var pl=function(e,r){return e===r},vl=function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null},qv=function(r){return r.combine?r.combine.draggableId:null},Vv=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function Zv(){var e=ze(function(l,a){return{x:l,y:a}}),r=ze(function(l,a,i,o,s){return{isDragging:!0,isClone:a,isDropAnimating:!!s,dropAnimation:s,mode:l,draggingOver:i,combineWith:o,combineTargetFor:null}}),t=ze(function(l,a,i,o,s,f,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:f,mode:a,offset:l,dimension:i,forceShouldAnimate:p,snapshot:r(a,o,s,f,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var o=a.current.client.offset,s=a.dimensions.draggables[i.draggableId],f=Qe(a.impact),p=Vv(a.impact),c=a.forceShouldAnimate;return t(e(o.x,o.y),a.movementMode,s,i.isClone,f,p,c)}if(a.phase==="DROP_ANIMATING"){var d=a.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,v=a.dimensions.draggables[i.draggableId],D=d.result,S=D.mode,b=vl(D),w=qv(D),C=a.dropDuration,I={duration:C,curve:ia.drop,moveTo:a.newHomeClientOffset,opacity:w?ct.opacity.drop:null,scale:w?ct.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:v,dropping:I,draggingOver:b,combineWith:w,mode:S,forceShouldAnimate:null,snapshot:r(S,h,b,w,I)}}}return null};return n}function hl(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var jv={mapped:{type:"SECONDARY",offset:He,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:hl(null)}};function Kv(){var e=ze(function(i,o){return{x:i,y:o}}),r=ze(hl),t=ze(function(i,o,s){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:o,shouldAnimateDisplacement:s,snapshot:r(o)}}}),n=function(o){return o?t(He,o,!0):null},l=function(o,s,f,p){var c=f.displaced.visible[o],d=!!(p.inVirtualList&&p.effected[o]),h=Yt(f),v=h&&h.draggableId===o?s:null;if(!c){if(!d)return n(v);if(f.displaced.invisible[o])return null;var D=Yr(p.displacedBy.point),S=e(D.x,D.y);return t(S,v,!0)}if(d)return n(v);var b=f.displacedBy.point,w=e(b.x,b.y);return t(w,v,c.shouldAnimate)},a=function(o,s){if(o.isDragging)return o.critical.draggable.id===s.draggableId?null:l(s.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var f=o.completed;return f.result.draggableId===s.draggableId?null:l(s.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null};return a}var Yv=function(){var r=Zv(),t=Kv(),n=function(a,i){return r(a,i)||t(a,i)||jv};return n},Xv={dropAnimationFinished:Zo},Jv=mo(Yv,Xv,null,{context:da,pure:!0,areStatePropsEqual:pl})(Uv);function gl(e){var r=Gt(va),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:ye.createElement(Jv,e)}function ml(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ye.createElement(gl,le({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Qv(e){var r=zn(en);r||Z();var t=r.contextId,n=r.isMovementAllowed,l=xe(null),a=xe(null),i=e.children,o=e.droppableId,s=e.type,f=e.mode,p=e.direction,c=e.ignoreContainerClipping,d=e.isDropDisabled,h=e.isCombineEnabled,v=e.snapshot,D=e.useClone,S=e.updateViewportMaxScroll,b=e.getContainerForClone,w=te(function(){return l.current},[]),C=te(function(O){l.current=O},[]);te(function(){return a.current},[]);var I=te(function(O){a.current=O},[]),k=te(function(){n()&&S({maxScroll:Jo()})},[n,S]);kv({droppableId:o,type:s,mode:f,direction:p,isDropDisabled:d,isCombineEnabled:h,ignoreContainerClipping:c,getDroppableRef:w});var R=ye.createElement(Nv,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(O){var U=O.onClose,H=O.data,q=O.animate;return ye.createElement(Bv,{placeholder:H,onClose:U,innerRef:I,animate:q,contextId:t,onTransitionEnd:k})}),_=me(function(){return{innerRef:C,placeholder:R,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":t}}},[t,o,R,C]),B=D?D.dragging.draggableId:null,F=me(function(){return{droppableId:o,type:s,isUsingCloneFor:B}},[o,B,s]);function z(){if(!D)return null;var O=D.dragging,U=D.render,H=ye.createElement(gl,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(q,J){return U(q,J,O)});return ye.createPortal(H,b())}return ye.createElement(va.Provider,{value:F},i(_,v),z())}var vn=function(r,t){return r===t.droppable.type},ui=function(r,t){return t.draggables[r.draggable.id]},eh=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=le({},r,{shouldAnimatePlaceholder:!1}),n=ze(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),l=ze(function(i,o,s,f,p,c){var d=p.descriptor.id,h=p.descriptor.droppableId===i;if(h){var v=c?{render:c,dragging:n(p.descriptor)}:null,D={isDraggingOver:s,draggingOverWith:s?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:v}}if(!o)return t;if(!f)return r;var S={isDraggingOver:s,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}}),a=function(o,s){var f=s.droppableId,p=s.type,c=!s.isDropDisabled,d=s.renderClone;if(o.isDragging){var h=o.critical;if(!vn(p,h))return t;var v=ui(h,o.dimensions),D=Qe(o.impact)===f;return l(f,c,D,D,v,d)}if(o.phase==="DROP_ANIMATING"){var S=o.completed;if(!vn(p,S.critical))return t;var b=ui(S.critical,o.dimensions);return l(f,c,vl(S.result)===f,Qe(S.impact)===f,b,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var w=o.completed;if(!vn(p,w.critical))return t;var C=Qe(w.impact)===f,I=!!(w.impact.at&&w.impact.at.type==="COMBINE"),k=w.critical.droppable.id===f;return C?I?r:t:k?r:t}return t};return a},rh={updateViewportMaxScroll:df};function th(){return document.body||Z(),document.body}var nh={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:th},ha=mo(eh,rh,null,{context:da,pure:!0,areStatePropsEqual:pl})(Qv);ha.defaultProps=nh;const ah=[{value:1,label:"Dot"},{value:2,label:"Ellipse"},{value:3,label:"Line"},{value:4,label:"Square"}],ih={bloom:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"threshold",label:"Threshold",title:"Brightness threshold to start applying effect",type:"slider",min:0,max:1,step:.05},{propName:"strength",label:"Strength",title:"Strength of the effect",type:"slider",min:0,max:2,step:.05},{propName:"radius",label:"Radius",title:"Blur radius",type:"number",step:.5}],pixel:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"size",label:"Pixel Size",type:"number",min:1,step:1}],afterimage:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"damp",label:"Damp",type:"slider",min:.01,max:.99,step:.01}],smaa:[{propName:"enabled",label:"Enabled",type:"boolean"}],sobel:[{propName:"enabled",label:"Enabled",type:"boolean"}],halftone:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"greyscale",label:"Grayscale",type:"boolean"},{propName:"radius",label:"Radius",type:"number",min:1,step:.2},{propName:"scatter",label:"Scatter",type:"slider",min:0,max:5,step:.1},{propName:"shape",label:"Shape",type:"select",options:ah}],dotscreen:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"scale",label:"Scale",type:"number",min:1,step:.5}],bokeh:[{propName:"enabled",label:"Enabled",type:"boolean"},{propName:"focus",label:"Focus",type:"number",step:.1},{propName:"aperture",label:"Aperture",type:"number",step:.01}]};function oh({target:e,index:r}){const[t,n]=ys(e.open??!1),{type:l}=e,{name:a}=zl[l],i=()=>{e.open=!t,n()},s=g(mr,{title:"Remove",className:"closeButton",onClick:c=>{c.stopPropagation(),e.remove()},children:g(Gn,{})}),f=ih[l],p=c=>g("div",{className:`EffectController ${t?"open":""}`,...c.draggableProps,ref:c.innerRef,children:[g("div",{className:"EffectController-summary",onClick:i,children:[t?g(us,{}):g(ds,{}),g("div",{className:"EffectController-name",...c.dragHandleProps,children:a}),s]}),t&&g("div",{className:"EffectController-details",children:g(ur,{target:e.params,propList:f})})]});return g(ml,{draggableId:e.id,index:r,children:p})}const lh={propName:"enabled",label:"Enabled",type:"boolean"};function sh(){const[e,r]=br(),{passes:t}=L.postProcessing;Ae(()=>{const i=t.addEventListener("change",r);return()=>t.removeEventListener("change",i)},[]);const n=i=>void L.postProcessing.addPass(i),l=i=>{const{destination:o,source:s}=i;if(!o||o.index===s.index)return;const f=[...t],p=f.splice(s.index,1)[0];f.splice(o.index,0,p),L.postProcessing.updatePasses(f)},a=i=>g("div",{ref:i.innerRef,...i.droppableProps,children:[t.map((o,s)=>g(oh,{index:s,target:o},o.id)),i.placeholder]});return g(Ve,{disableGutters:!0,className:"PostProcessingControl SettingGroup",children:[g(ae,{children:[g("div",{children:"Post-Processing"}),g(ro,{onClick:n,options:Hl,title:"Add Pass",children:g(Ut,{})})]}),g(ye.Fragment,{children:[g(ur,{target:L.postProcessing,propList:[lh]}),t.length?g(dl,{onDragEnd:l,children:g(ha,{droppableId:"postprocessing",children:a})}):"Click + to add pass"]},e)]})}const ch=[{propName:"near",label:"Near",type:"number",min:.01,step:.01,onChange:()=>L.camera.updateProjectionMatrix()},{propName:"far",label:"Far",type:"number",min:.01,step:20,onChange:()=>L.camera.updateProjectionMatrix()},{propName:"fov",label:"FOV",type:"slider",title:"Field of View",min:5,max:175,step:5,onChange:()=>L.camera.updateProjectionMatrix()},{propName:"position",label:"Position",type:"vector",title:"Where the camera is",step:.1,onChange:()=>L.camera.updateProjectionMatrix()}],uh=[{propName:"target",label:"Target",type:"vector",title:"Camera target, where the camera looks at",step:.1,onChange:()=>L.controls.update()}];function dh(){const{camera:e}=L,[r,t]=br();return g(Ve,{disableGutters:!0,className:"SettingGroup DisplayControl",children:[g(ae,{children:[g("div",{className:"title",children:[g(Ys,{}),"Camera"]}),g(fe,{onClick:l=>{l.stopPropagation(),["near","far","fov"].forEach(a=>e[a]=Gl[a]),e.updateProjectionMatrix(),t()},title:"Reset camera settings",variant:"contained",children:"Reset"})]}),g(ae,{children:[g(ur,{target:e,propList:ch},r),g(ur,{target:L.controls,propList:uh})]})]})}function fh(){const e=Be(a=>a.sidebar.modal.open),{showTimeControl:r,toggleTimeControl:t,showFrameRate:n,toggleFrameRate:l}=Be();return g(ae,{children:[g(Nc,{}),g(dh,{}),g(Oc,{}),g("span",{className:"break"}),g(fe,{variant:"contained",onClick:l,startIcon:g(ic,{}),children:n?"Hide Frame Rate":"Show Frame Rate"}),g(fe,{variant:"contained",onClick:t,startIcon:r?g(sc,{}):g(lc,{}),children:r?"Hide Time Control":"Show Time Control"}),g("span",{className:"break"}),g(fe,{variant:"contained",onClick:()=>e("background"),startIcon:g(Ji,{}),children:"Background Settings"}),g(zc,{}),g(sh,{})]})}async function ph(e,r={}){const{GLTFExporter:t}=await Wt(async()=>{const{GLTFExporter:i}=await import("./f_BuUjBobZ-GLTFExporter.js");return{GLTFExporter:i}},__vite__mapDeps([0,1])),l=await new t().parseAsync(e,r);return r.binary?new Blob([l]):new Blob([JSON.stringify(l)],{type:"application/json"})}async function vh({binary:e=!1}){var s;const r=_e.getState().activeModel;if(!r)return;const{model:t}=r,n=e?"glb":"gltf",l=`${((s=r.userData)==null?void 0:s.name)??r.id}.${n}`,a=r.animation.current.chainName,i=r.animation.chain[a].clips??[],o=await ph(t,{binary:e,animations:i,onlyVisible:!0});xr.saveAs(o,l)}function hh(){const e=r=>{r.stopPropagation();const t=!!r.currentTarget.dataset.binary;vh({binary:t})};return g(Ve,{className:"SettingGroup",children:[g(ae,{children:[g("div",{children:"glTF"}),g(fe,{onClick:e,title:"Download current model as glTF",variant:"contained",children:g(Or,{})})]}),g(ae,{children:g("div",{children:[g(fe,{onClick:e,title:"Download current model as glTF",children:[g(Or,{}),"glTF"]}),g(fe,{"data-binary":!0,onClick:e,title:"Download current model as glb (binary glTF)",children:[g(Or,{}),"glb"]})]})})]})}const gh=()=>{const{activeModel:{animation:e}}=_e.getState(),{record:r}=L;e.stop(),e.addCountedEventListener("ChainFinished",()=>r.stop()),e.play(),r.start()},mh=[{propName:"fileName",label:"File Name",type:"string",fullWidth:!0},{propName:"appendDate",label:"Append Date",type:"boolean"},{propName:"frameRate",label:"Frame Rate",type:"slider",min:10,max:60,step:5}];function bh(){const[e,r]=dr(L.record.state),t=o=>{var f,p;const{action:s}=o.currentTarget.dataset;(p=(f=L.record)[s])==null||p.call(f),r(s==="stop"?"idle":L.record.state)},n=g(fe,{onClick:t,"data-action":e==="idle"?"start":"resume",title:e==="idle"?"Start recording":"Resume recording",children:g(Vt,{})}),l=g(fe,{onClick:t,"data-action":"pause",title:"Pause Recording",children:g(Is,{})}),a=g(fe,{onClick:t,"data-action":"stop",title:"Finish Recording",children:g(oc,{})}),i={idle:n,recording:g(ae,{children:[l,a]}),paused:g(ae,{children:[n,a]})};return g(ae,{children:[g("div",{children:`Status: ${Wl(e)}`}),g("div",{children:i[e]})]})}function yh(){const{activeModel:e}=_e(),{record:r}=L;return r?g(Ve,{className:"SettingGroup",children:[g(ae,{children:[g("div",{children:"Record"}),g(fe,{onClick:n=>{n.stopPropagation();const{clipDuration:l}=e.animation.current;if(l===0||l===1/0){alert("Can't record");return}gh()},title:"Record current animation",variant:"contained",children:g(Vt,{})})]}),g(ae,{children:[g(ur,{target:r.settings,propList:mh}),g(Ve,{disableGutters:!0,className:"SettingGroup-extra",children:[g(ae,{children:"Manual Record"}),g(bh,{})]})]})]}):g(ae,{})}const wh=[{propName:"fileName",label:"File Name",type:"string",fullWidth:!0},{propName:"noBackground",label:"Remove BG",type:"boolean"},{propName:"frameRate",label:"Frame Rate",type:"number",fullWidth:!0,min:1,max:120,step:10}],xh=e=>{const[r,t]=e.split(","),n=r.split(";")[0].split(":")[1],l=window.atob(t),a=l.length,i=new Array(a).fill().map((s,f)=>l.charCodeAt(f)),o=new Uint8Array(i);return new Blob([o],{type:n})};function Dh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bl={exports:{}},hn={},di;function Rr(){return di||(di=1,function(e){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(a,i){return Object.prototype.hasOwnProperty.call(a,i)}e.assign=function(a){for(var i=Array.prototype.slice.call(arguments,1);i.length;){var o=i.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var s in o)t(o,s)&&(a[s]=o[s])}}return a},e.shrinkBuf=function(a,i){return a.length===i?a:a.subarray?a.subarray(0,i):(a.length=i,a)};var n={arraySet:function(a,i,o,s,f){if(i.subarray&&a.subarray){a.set(i.subarray(o,o+s),f);return}for(var p=0;p<s;p++)a[f+p]=i[o+p]},flattenChunks:function(a){var i,o,s,f,p,c;for(s=0,i=0,o=a.length;i<o;i++)s+=a[i].length;for(c=new Uint8Array(s),f=0,i=0,o=a.length;i<o;i++)p=a[i],c.set(p,f),f+=p.length;return c}},l={arraySet:function(a,i,o,s,f){for(var p=0;p<s;p++)a[f+p]=i[o+p]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,l))},e.setTyped(r)}(hn)),hn}var $r={},sr={},Pr={},fi;function Sh(){if(fi)return Pr;fi=1;var e=Rr(),r=4,t=0,n=1,l=2;function a(x){for(var W=x.length;--W>=0;)x[W]=0}var i=0,o=1,s=2,f=3,p=258,c=29,d=256,h=d+1+c,v=30,D=19,S=2*h+1,b=15,w=16,C=7,I=256,k=16,R=17,_=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=512,H=new Array((h+2)*2);a(H);var q=new Array(v*2);a(q);var J=new Array(U);a(J);var K=new Array(p-f+1);a(K);var j=new Array(c);a(j);var G=new Array(v);a(G);function ee(x,W,V,Q,A){this.static_tree=x,this.extra_bits=W,this.extra_base=V,this.elems=Q,this.max_length=A,this.has_stree=x&&x.length}var ve,Ie,de;function De(x,W){this.dyn_tree=x,this.max_code=0,this.stat_desc=W}function Ce(x){return x<256?J[x]:J[256+(x>>>7)]}function he(x,W){x.pending_buf[x.pending++]=W&255,x.pending_buf[x.pending++]=W>>>8&255}function ce(x,W,V){x.bi_valid>w-V?(x.bi_buf|=W<<x.bi_valid&65535,he(x,x.bi_buf),x.bi_buf=W>>w-x.bi_valid,x.bi_valid+=V-w):(x.bi_buf|=W<<x.bi_valid&65535,x.bi_valid+=V)}function be(x,W,V){ce(x,V[W*2],V[W*2+1])}function se(x,W){var V=0;do V|=x&1,x>>>=1,V<<=1;while(--W>0);return V>>>1}function ne(x){x.bi_valid===16?(he(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):x.bi_valid>=8&&(x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8)}function ke(x,W){var V=W.dyn_tree,Q=W.max_code,A=W.stat_desc.static_tree,M=W.stat_desc.has_stree,m=W.stat_desc.extra_bits,$=W.stat_desc.extra_base,oe=W.stat_desc.max_length,u,P,N,y,E,T,re=0;for(y=0;y<=b;y++)x.bl_count[y]=0;for(V[x.heap[x.heap_max]*2+1]=0,u=x.heap_max+1;u<S;u++)P=x.heap[u],y=V[V[P*2+1]*2+1]+1,y>oe&&(y=oe,re++),V[P*2+1]=y,!(P>Q)&&(x.bl_count[y]++,E=0,P>=$&&(E=m[P-$]),T=V[P*2],x.opt_len+=T*(y+E),M&&(x.static_len+=T*(A[P*2+1]+E)));if(re!==0){do{for(y=oe-1;x.bl_count[y]===0;)y--;x.bl_count[y]--,x.bl_count[y+1]+=2,x.bl_count[oe]--,re-=2}while(re>0);for(y=oe;y!==0;y--)for(P=x.bl_count[y];P!==0;)N=x.heap[--u],!(N>Q)&&(V[N*2+1]!==y&&(x.opt_len+=(y-V[N*2+1])*V[N*2],V[N*2+1]=y),P--)}}function Me(x,W,V){var Q=new Array(b+1),A=0,M,m;for(M=1;M<=b;M++)Q[M]=A=A+V[M-1]<<1;for(m=0;m<=W;m++){var $=x[m*2+1];$!==0&&(x[m*2]=se(Q[$]++,$))}}function ie(){var x,W,V,Q,A,M=new Array(b+1);for(V=0,Q=0;Q<c-1;Q++)for(j[Q]=V,x=0;x<1<<B[Q];x++)K[V++]=Q;for(K[V-1]=Q,A=0,Q=0;Q<16;Q++)for(G[Q]=A,x=0;x<1<<F[Q];x++)J[A++]=Q;for(A>>=7;Q<v;Q++)for(G[Q]=A<<7,x=0;x<1<<F[Q]-7;x++)J[256+A++]=Q;for(W=0;W<=b;W++)M[W]=0;for(x=0;x<=143;)H[x*2+1]=8,x++,M[8]++;for(;x<=255;)H[x*2+1]=9,x++,M[9]++;for(;x<=279;)H[x*2+1]=7,x++,M[7]++;for(;x<=287;)H[x*2+1]=8,x++,M[8]++;for(Me(H,h+1,M),x=0;x<v;x++)q[x*2+1]=5,q[x*2]=se(x,5);ve=new ee(H,B,d+1,h,b),Ie=new ee(q,F,0,v,b),de=new ee(new Array(0),z,0,D,C)}function Ee(x){var W;for(W=0;W<h;W++)x.dyn_ltree[W*2]=0;for(W=0;W<v;W++)x.dyn_dtree[W*2]=0;for(W=0;W<D;W++)x.bl_tree[W*2]=0;x.dyn_ltree[I*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function Ge(x){x.bi_valid>8?he(x,x.bi_buf):x.bi_valid>0&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function We(x,W,V,Q){Ge(x),he(x,V),he(x,~V),e.arraySet(x.pending_buf,x.window,W,V,x.pending),x.pending+=V}function Te(x,W,V,Q){var A=W*2,M=V*2;return x[A]<x[M]||x[A]===x[M]&&Q[W]<=Q[V]}function we(x,W,V){for(var Q=x.heap[V],A=V<<1;A<=x.heap_len&&(A<x.heap_len&&Te(W,x.heap[A+1],x.heap[A],x.depth)&&A++,!Te(W,Q,x.heap[A],x.depth));)x.heap[V]=x.heap[A],V=A,A<<=1;x.heap[V]=Q}function ue(x,W,V){var Q,A,M=0,m,$;if(x.last_lit!==0)do Q=x.pending_buf[x.d_buf+M*2]<<8|x.pending_buf[x.d_buf+M*2+1],A=x.pending_buf[x.l_buf+M],M++,Q===0?be(x,A,W):(m=K[A],be(x,m+d+1,W),$=B[m],$!==0&&(A-=j[m],ce(x,A,$)),Q--,m=Ce(Q),be(x,m,V),$=F[m],$!==0&&(Q-=G[m],ce(x,Q,$)));while(M<x.last_lit);be(x,I,W)}function Le(x,W){var V=W.dyn_tree,Q=W.stat_desc.static_tree,A=W.stat_desc.has_stree,M=W.stat_desc.elems,m,$,oe=-1,u;for(x.heap_len=0,x.heap_max=S,m=0;m<M;m++)V[m*2]!==0?(x.heap[++x.heap_len]=oe=m,x.depth[m]=0):V[m*2+1]=0;for(;x.heap_len<2;)u=x.heap[++x.heap_len]=oe<2?++oe:0,V[u*2]=1,x.depth[u]=0,x.opt_len--,A&&(x.static_len-=Q[u*2+1]);for(W.max_code=oe,m=x.heap_len>>1;m>=1;m--)we(x,V,m);u=M;do m=x.heap[1],x.heap[1]=x.heap[x.heap_len--],we(x,V,1),$=x.heap[1],x.heap[--x.heap_max]=m,x.heap[--x.heap_max]=$,V[u*2]=V[m*2]+V[$*2],x.depth[u]=(x.depth[m]>=x.depth[$]?x.depth[m]:x.depth[$])+1,V[m*2+1]=V[$*2+1]=u,x.heap[1]=u++,we(x,V,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],ke(x,W),Me(V,oe,x.bl_count)}function pr(x,W,V){var Q,A=-1,M,m=W[0*2+1],$=0,oe=7,u=4;for(m===0&&(oe=138,u=3),W[(V+1)*2+1]=65535,Q=0;Q<=V;Q++)M=m,m=W[(Q+1)*2+1],!(++$<oe&&M===m)&&($<u?x.bl_tree[M*2]+=$:M!==0?(M!==A&&x.bl_tree[M*2]++,x.bl_tree[k*2]++):$<=10?x.bl_tree[R*2]++:x.bl_tree[_*2]++,$=0,A=M,m===0?(oe=138,u=3):M===m?(oe=6,u=3):(oe=7,u=4))}function Dr(x,W,V){var Q,A=-1,M,m=W[0*2+1],$=0,oe=7,u=4;for(m===0&&(oe=138,u=3),Q=0;Q<=V;Q++)if(M=m,m=W[(Q+1)*2+1],!(++$<oe&&M===m)){if($<u)do be(x,M,x.bl_tree);while(--$!==0);else M!==0?(M!==A&&(be(x,M,x.bl_tree),$--),be(x,k,x.bl_tree),ce(x,$-3,2)):$<=10?(be(x,R,x.bl_tree),ce(x,$-3,3)):(be(x,_,x.bl_tree),ce(x,$-11,7));$=0,A=M,m===0?(oe=138,u=3):M===m?(oe=6,u=3):(oe=7,u=4)}}function rr(x){var W;for(pr(x,x.dyn_ltree,x.l_desc.max_code),pr(x,x.dyn_dtree,x.d_desc.max_code),Le(x,x.bl_desc),W=D-1;W>=3&&x.bl_tree[O[W]*2+1]===0;W--);return x.opt_len+=3*(W+1)+5+5+4,W}function zr(x,W,V,Q){var A;for(ce(x,W-257,5),ce(x,V-1,5),ce(x,Q-4,4),A=0;A<Q;A++)ce(x,x.bl_tree[O[A]*2+1],3);Dr(x,x.dyn_ltree,W-1),Dr(x,x.dyn_dtree,V-1)}function Sr(x){var W=4093624447,V;for(V=0;V<=31;V++,W>>>=1)if(W&1&&x.dyn_ltree[V*2]!==0)return t;if(x.dyn_ltree[9*2]!==0||x.dyn_ltree[10*2]!==0||x.dyn_ltree[13*2]!==0)return n;for(V=32;V<d;V++)if(x.dyn_ltree[V*2]!==0)return n;return t}var lr=!1;function Hr(x){lr||(ie(),lr=!0),x.l_desc=new De(x.dyn_ltree,ve),x.d_desc=new De(x.dyn_dtree,Ie),x.bl_desc=new De(x.bl_tree,de),x.bi_buf=0,x.bi_valid=0,Ee(x)}function Cr(x,W,V,Q){ce(x,(i<<1)+(Q?1:0),3),We(x,W,V)}function Ze(x){ce(x,o<<1,3),be(x,I,H),ne(x)}function vr(x,W,V,Q){var A,M,m=0;x.level>0?(x.strm.data_type===l&&(x.strm.data_type=Sr(x)),Le(x,x.l_desc),Le(x,x.d_desc),m=rr(x),A=x.opt_len+3+7>>>3,M=x.static_len+3+7>>>3,M<=A&&(A=M)):A=M=V+5,V+4<=A&&W!==-1?Cr(x,W,V,Q):x.strategy===r||M===A?(ce(x,(o<<1)+(Q?1:0),3),ue(x,H,q)):(ce(x,(s<<1)+(Q?1:0),3),zr(x,x.l_desc.max_code+1,x.d_desc.max_code+1,m+1),ue(x,x.dyn_ltree,x.dyn_dtree)),Ee(x),Q&&Ge(x)}function Gr(x,W,V){return x.pending_buf[x.d_buf+x.last_lit*2]=W>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=W&255,x.pending_buf[x.l_buf+x.last_lit]=V&255,x.last_lit++,W===0?x.dyn_ltree[V*2]++:(x.matches++,W--,x.dyn_ltree[(K[V]+d+1)*2]++,x.dyn_dtree[Ce(W)*2]++),x.last_lit===x.lit_bufsize-1}return Pr._tr_init=Hr,Pr._tr_stored_block=Cr,Pr._tr_flush_block=vr,Pr._tr_tally=Gr,Pr._tr_align=Ze,Pr}var gn,pi;function yl(){if(pi)return gn;pi=1;function e(r,t,n,l){for(var a=r&65535|0,i=r>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[l++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0}return gn=e,gn}var mn,vi;function wl(){if(vi)return mn;vi=1;function e(){for(var n,l=[],a=0;a<256;a++){n=a;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;l[a]=n}return l}var r=e();function t(n,l,a,i){var o=r,s=i+a;n^=-1;for(var f=i;f<s;f++)n=n>>>8^o[(n^l[f])&255];return n^-1}return mn=t,mn}var bn,hi;function ga(){return hi||(hi=1,bn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),bn}var gi;function Ch(){if(gi)return sr;gi=1;var e=Rr(),r=Sh(),t=yl(),n=wl(),l=ga(),a=0,i=1,o=3,s=4,f=5,p=0,c=1,d=-2,h=-3,v=-5,D=-1,S=1,b=2,w=3,C=4,I=0,k=2,R=8,_=9,B=15,F=8,z=29,O=256,U=O+1+z,H=30,q=19,J=2*U+1,K=15,j=3,G=258,ee=G+j+1,ve=32,Ie=42,de=69,De=73,Ce=91,he=103,ce=113,be=666,se=1,ne=2,ke=3,Me=4,ie=3;function Ee(u,P){return u.msg=l[P],P}function Ge(u){return(u<<1)-(u>4?9:0)}function We(u){for(var P=u.length;--P>=0;)u[P]=0}function Te(u){var P=u.state,N=P.pending;N>u.avail_out&&(N=u.avail_out),N!==0&&(e.arraySet(u.output,P.pending_buf,P.pending_out,N,u.next_out),u.next_out+=N,P.pending_out+=N,u.total_out+=N,u.avail_out-=N,P.pending-=N,P.pending===0&&(P.pending_out=0))}function we(u,P){r._tr_flush_block(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,P),u.block_start=u.strstart,Te(u.strm)}function ue(u,P){u.pending_buf[u.pending++]=P}function Le(u,P){u.pending_buf[u.pending++]=P>>>8&255,u.pending_buf[u.pending++]=P&255}function pr(u,P,N,y){var E=u.avail_in;return E>y&&(E=y),E===0?0:(u.avail_in-=E,e.arraySet(P,u.input,u.next_in,E,N),u.state.wrap===1?u.adler=t(u.adler,P,E,N):u.state.wrap===2&&(u.adler=n(u.adler,P,E,N)),u.next_in+=E,u.total_in+=E,E)}function Dr(u,P){var N=u.max_chain_length,y=u.strstart,E,T,re=u.prev_length,Y=u.nice_match,X=u.strstart>u.w_size-ee?u.strstart-(u.w_size-ee):0,pe=u.window,yr=u.w_mask,Re=u.prev,ge=u.strstart+G,Oe=pe[y+re-1],je=pe[y+re];u.prev_length>=u.good_match&&(N>>=2),Y>u.lookahead&&(Y=u.lookahead);do if(E=P,!(pe[E+re]!==je||pe[E+re-1]!==Oe||pe[E]!==pe[y]||pe[++E]!==pe[y+1])){y+=2,E++;do;while(pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&pe[++y]===pe[++E]&&y<ge);if(T=G-(ge-y),y=ge-G,T>re){if(u.match_start=P,re=T,T>=Y)break;Oe=pe[y+re-1],je=pe[y+re]}}while((P=Re[P&yr])>X&&--N!==0);return re<=u.lookahead?re:u.lookahead}function rr(u){var P=u.w_size,N,y,E,T,re;do{if(T=u.window_size-u.lookahead-u.strstart,u.strstart>=P+(P-ee)){e.arraySet(u.window,u.window,P,P,0),u.match_start-=P,u.strstart-=P,u.block_start-=P,y=u.hash_size,N=y;do E=u.head[--N],u.head[N]=E>=P?E-P:0;while(--y);y=P,N=y;do E=u.prev[--N],u.prev[N]=E>=P?E-P:0;while(--y);T+=P}if(u.strm.avail_in===0)break;if(y=pr(u.strm,u.window,u.strstart+u.lookahead,T),u.lookahead+=y,u.lookahead+u.insert>=j)for(re=u.strstart-u.insert,u.ins_h=u.window[re],u.ins_h=(u.ins_h<<u.hash_shift^u.window[re+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[re+j-1])&u.hash_mask,u.prev[re&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=re,re++,u.insert--,!(u.lookahead+u.insert<j)););}while(u.lookahead<ee&&u.strm.avail_in!==0)}function zr(u,P){var N=65535;for(N>u.pending_buf_size-5&&(N=u.pending_buf_size-5);;){if(u.lookahead<=1){if(rr(u),u.lookahead===0&&P===a)return se;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var y=u.block_start+N;if((u.strstart===0||u.strstart>=y)&&(u.lookahead=u.strstart-y,u.strstart=y,we(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-ee&&(we(u,!1),u.strm.avail_out===0))return se}return u.insert=0,P===s?(we(u,!0),u.strm.avail_out===0?ke:Me):(u.strstart>u.block_start&&(we(u,!1),u.strm.avail_out===0),se)}function Sr(u,P){for(var N,y;;){if(u.lookahead<ee){if(rr(u),u.lookahead<ee&&P===a)return se;if(u.lookahead===0)break}if(N=0,u.lookahead>=j&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+j-1])&u.hash_mask,N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),N!==0&&u.strstart-N<=u.w_size-ee&&(u.match_length=Dr(u,N)),u.match_length>=j)if(y=r._tr_tally(u,u.strstart-u.match_start,u.match_length-j),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=j){u.match_length--;do u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+j-1])&u.hash_mask,N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else y=r._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(y&&(we(u,!1),u.strm.avail_out===0))return se}return u.insert=u.strstart<j-1?u.strstart:j-1,P===s?(we(u,!0),u.strm.avail_out===0?ke:Me):u.last_lit&&(we(u,!1),u.strm.avail_out===0)?se:ne}function lr(u,P){for(var N,y,E;;){if(u.lookahead<ee){if(rr(u),u.lookahead<ee&&P===a)return se;if(u.lookahead===0)break}if(N=0,u.lookahead>=j&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+j-1])&u.hash_mask,N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=j-1,N!==0&&u.prev_length<u.max_lazy_match&&u.strstart-N<=u.w_size-ee&&(u.match_length=Dr(u,N),u.match_length<=5&&(u.strategy===S||u.match_length===j&&u.strstart-u.match_start>4096)&&(u.match_length=j-1)),u.prev_length>=j&&u.match_length<=u.prev_length){E=u.strstart+u.lookahead-j,y=r._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-j),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=E&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+j-1])&u.hash_mask,N=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=j-1,u.strstart++,y&&(we(u,!1),u.strm.avail_out===0))return se}else if(u.match_available){if(y=r._tr_tally(u,0,u.window[u.strstart-1]),y&&we(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return se}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(y=r._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<j-1?u.strstart:j-1,P===s?(we(u,!0),u.strm.avail_out===0?ke:Me):u.last_lit&&(we(u,!1),u.strm.avail_out===0)?se:ne}function Hr(u,P){for(var N,y,E,T,re=u.window;;){if(u.lookahead<=G){if(rr(u),u.lookahead<=G&&P===a)return se;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=j&&u.strstart>0&&(E=u.strstart-1,y=re[E],y===re[++E]&&y===re[++E]&&y===re[++E])){T=u.strstart+G;do;while(y===re[++E]&&y===re[++E]&&y===re[++E]&&y===re[++E]&&y===re[++E]&&y===re[++E]&&y===re[++E]&&y===re[++E]&&E<T);u.match_length=G-(T-E),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=j?(N=r._tr_tally(u,1,u.match_length-j),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(N=r._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),N&&(we(u,!1),u.strm.avail_out===0))return se}return u.insert=0,P===s?(we(u,!0),u.strm.avail_out===0?ke:Me):u.last_lit&&(we(u,!1),u.strm.avail_out===0)?se:ne}function Cr(u,P){for(var N;;){if(u.lookahead===0&&(rr(u),u.lookahead===0)){if(P===a)return se;break}if(u.match_length=0,N=r._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,N&&(we(u,!1),u.strm.avail_out===0))return se}return u.insert=0,P===s?(we(u,!0),u.strm.avail_out===0?ke:Me):u.last_lit&&(we(u,!1),u.strm.avail_out===0)?se:ne}function Ze(u,P,N,y,E){this.good_length=u,this.max_lazy=P,this.nice_length=N,this.max_chain=y,this.func=E}var vr;vr=[new Ze(0,0,0,0,zr),new Ze(4,4,8,4,Sr),new Ze(4,5,16,8,Sr),new Ze(4,6,32,32,Sr),new Ze(4,4,16,16,lr),new Ze(8,16,32,32,lr),new Ze(8,16,128,128,lr),new Ze(8,32,128,256,lr),new Ze(32,128,258,1024,lr),new Ze(32,258,258,4096,lr)];function Gr(u){u.window_size=2*u.w_size,We(u.head),u.max_lazy_match=vr[u.level].max_lazy,u.good_match=vr[u.level].good_length,u.nice_match=vr[u.level].nice_length,u.max_chain_length=vr[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=j-1,u.match_available=0,u.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(J*2),this.dyn_dtree=new e.Buf16((2*H+1)*2),this.bl_tree=new e.Buf16((2*q+1)*2),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(K+1),this.heap=new e.Buf16(2*U+1),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*U+1),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(u){var P;return!u||!u.state?Ee(u,d):(u.total_in=u.total_out=0,u.data_type=k,P=u.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?Ie:ce,u.adler=P.wrap===2?0:1,P.last_flush=a,r._tr_init(P),p)}function V(u){var P=W(u);return P===p&&Gr(u.state),P}function Q(u,P){return!u||!u.state||u.state.wrap!==2?d:(u.state.gzhead=P,p)}function A(u,P,N,y,E,T){if(!u)return d;var re=1;if(P===D&&(P=6),y<0?(re=0,y=-y):y>15&&(re=2,y-=16),E<1||E>_||N!==R||y<8||y>15||P<0||P>9||T<0||T>C)return Ee(u,d);y===8&&(y=9);var Y=new x;return u.state=Y,Y.strm=u,Y.wrap=re,Y.gzhead=null,Y.w_bits=y,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=E+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+j-1)/j),Y.window=new e.Buf8(Y.w_size*2),Y.head=new e.Buf16(Y.hash_size),Y.prev=new e.Buf16(Y.w_size),Y.lit_bufsize=1<<E+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new e.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=P,Y.strategy=T,Y.method=N,V(u)}function M(u,P){return A(u,P,R,B,F,I)}function m(u,P){var N,y,E,T;if(!u||!u.state||P>f||P<0)return u?Ee(u,d):d;if(y=u.state,!u.output||!u.input&&u.avail_in!==0||y.status===be&&P!==s)return Ee(u,u.avail_out===0?v:d);if(y.strm=u,N=y.last_flush,y.last_flush=P,y.status===Ie)if(y.wrap===2)u.adler=0,ue(y,31),ue(y,139),ue(y,8),y.gzhead?(ue(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),ue(y,y.gzhead.time&255),ue(y,y.gzhead.time>>8&255),ue(y,y.gzhead.time>>16&255),ue(y,y.gzhead.time>>24&255),ue(y,y.level===9?2:y.strategy>=b||y.level<2?4:0),ue(y,y.gzhead.os&255),y.gzhead.extra&&y.gzhead.extra.length&&(ue(y,y.gzhead.extra.length&255),ue(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(u.adler=n(u.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=de):(ue(y,0),ue(y,0),ue(y,0),ue(y,0),ue(y,0),ue(y,y.level===9?2:y.strategy>=b||y.level<2?4:0),ue(y,ie),y.status=ce);else{var re=R+(y.w_bits-8<<4)<<8,Y=-1;y.strategy>=b||y.level<2?Y=0:y.level<6?Y=1:y.level===6?Y=2:Y=3,re|=Y<<6,y.strstart!==0&&(re|=ve),re+=31-re%31,y.status=ce,Le(y,re),y.strstart!==0&&(Le(y,u.adler>>>16),Le(y,u.adler&65535)),u.adler=1}if(y.status===de)if(y.gzhead.extra){for(E=y.pending;y.gzindex<(y.gzhead.extra.length&65535)&&!(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),Te(u),E=y.pending,y.pending===y.pending_buf_size));)ue(y,y.gzhead.extra[y.gzindex]&255),y.gzindex++;y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=De)}else y.status=De;if(y.status===De)if(y.gzhead.name){E=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),Te(u),E=y.pending,y.pending===y.pending_buf_size)){T=1;break}y.gzindex<y.gzhead.name.length?T=y.gzhead.name.charCodeAt(y.gzindex++)&255:T=0,ue(y,T)}while(T!==0);y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),T===0&&(y.gzindex=0,y.status=Ce)}else y.status=Ce;if(y.status===Ce)if(y.gzhead.comment){E=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),Te(u),E=y.pending,y.pending===y.pending_buf_size)){T=1;break}y.gzindex<y.gzhead.comment.length?T=y.gzhead.comment.charCodeAt(y.gzindex++)&255:T=0,ue(y,T)}while(T!==0);y.gzhead.hcrc&&y.pending>E&&(u.adler=n(u.adler,y.pending_buf,y.pending-E,E)),T===0&&(y.status=he)}else y.status=he;if(y.status===he&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&Te(u),y.pending+2<=y.pending_buf_size&&(ue(y,u.adler&255),ue(y,u.adler>>8&255),u.adler=0,y.status=ce)):y.status=ce),y.pending!==0){if(Te(u),u.avail_out===0)return y.last_flush=-1,p}else if(u.avail_in===0&&Ge(P)<=Ge(N)&&P!==s)return Ee(u,v);if(y.status===be&&u.avail_in!==0)return Ee(u,v);if(u.avail_in!==0||y.lookahead!==0||P!==a&&y.status!==be){var X=y.strategy===b?Cr(y,P):y.strategy===w?Hr(y,P):vr[y.level].func(y,P);if((X===ke||X===Me)&&(y.status=be),X===se||X===ke)return u.avail_out===0&&(y.last_flush=-1),p;if(X===ne&&(P===i?r._tr_align(y):P!==f&&(r._tr_stored_block(y,0,0,!1),P===o&&(We(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),Te(u),u.avail_out===0))return y.last_flush=-1,p}return P!==s?p:y.wrap<=0?c:(y.wrap===2?(ue(y,u.adler&255),ue(y,u.adler>>8&255),ue(y,u.adler>>16&255),ue(y,u.adler>>24&255),ue(y,u.total_in&255),ue(y,u.total_in>>8&255),ue(y,u.total_in>>16&255),ue(y,u.total_in>>24&255)):(Le(y,u.adler>>>16),Le(y,u.adler&65535)),Te(u),y.wrap>0&&(y.wrap=-y.wrap),y.pending!==0?p:c)}function $(u){var P;return!u||!u.state?d:(P=u.state.status,P!==Ie&&P!==de&&P!==De&&P!==Ce&&P!==he&&P!==ce&&P!==be?Ee(u,d):(u.state=null,P===ce?Ee(u,h):p))}function oe(u,P){var N=P.length,y,E,T,re,Y,X,pe,yr;if(!u||!u.state||(y=u.state,re=y.wrap,re===2||re===1&&y.status!==Ie||y.lookahead))return d;for(re===1&&(u.adler=t(u.adler,P,N,0)),y.wrap=0,N>=y.w_size&&(re===0&&(We(y.head),y.strstart=0,y.block_start=0,y.insert=0),yr=new e.Buf8(y.w_size),e.arraySet(yr,P,N-y.w_size,y.w_size,0),P=yr,N=y.w_size),Y=u.avail_in,X=u.next_in,pe=u.input,u.avail_in=N,u.next_in=0,u.input=P,rr(y);y.lookahead>=j;){E=y.strstart,T=y.lookahead-(j-1);do y.ins_h=(y.ins_h<<y.hash_shift^y.window[E+j-1])&y.hash_mask,y.prev[E&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=E,E++;while(--T);y.strstart=E,y.lookahead=j-1,rr(y)}return y.strstart+=y.lookahead,y.block_start=y.strstart,y.insert=y.lookahead,y.lookahead=0,y.match_length=y.prev_length=j-1,y.match_available=0,u.next_in=X,u.input=pe,u.avail_in=Y,y.wrap=re,p}return sr.deflateInit=M,sr.deflateInit2=A,sr.deflateReset=V,sr.deflateResetKeep=W,sr.deflateSetHeader=Q,sr.deflate=m,sr.deflateEnd=$,sr.deflateSetDictionary=oe,sr.deflateInfo="pako deflate (from Nodeca project)",sr}var Br={},mi;function xl(){if(mi)return Br;mi=1;var e=Rr(),r=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var n=new e.Buf8(256),l=0;l<256;l++)n[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;n[254]=n[254]=1,Br.string2buf=function(i){var o,s,f,p,c,d=i.length,h=0;for(p=0;p<d;p++)s=i.charCodeAt(p),(s&64512)===55296&&p+1<d&&(f=i.charCodeAt(p+1),(f&64512)===56320&&(s=65536+(s-55296<<10)+(f-56320),p++)),h+=s<128?1:s<2048?2:s<65536?3:4;for(o=new e.Buf8(h),c=0,p=0;c<h;p++)s=i.charCodeAt(p),(s&64512)===55296&&p+1<d&&(f=i.charCodeAt(p+1),(f&64512)===56320&&(s=65536+(s-55296<<10)+(f-56320),p++)),s<128?o[c++]=s:s<2048?(o[c++]=192|s>>>6,o[c++]=128|s&63):s<65536?(o[c++]=224|s>>>12,o[c++]=128|s>>>6&63,o[c++]=128|s&63):(o[c++]=240|s>>>18,o[c++]=128|s>>>12&63,o[c++]=128|s>>>6&63,o[c++]=128|s&63);return o};function a(i,o){if(o<65534&&(i.subarray&&t||!i.subarray&&r))return String.fromCharCode.apply(null,e.shrinkBuf(i,o));for(var s="",f=0;f<o;f++)s+=String.fromCharCode(i[f]);return s}return Br.buf2binstring=function(i){return a(i,i.length)},Br.binstring2buf=function(i){for(var o=new e.Buf8(i.length),s=0,f=o.length;s<f;s++)o[s]=i.charCodeAt(s);return o},Br.buf2string=function(i,o){var s,f,p,c,d=o||i.length,h=new Array(d*2);for(f=0,s=0;s<d;){if(p=i[s++],p<128){h[f++]=p;continue}if(c=n[p],c>4){h[f++]=65533,s+=c-1;continue}for(p&=c===2?31:c===3?15:7;c>1&&s<d;)p=p<<6|i[s++]&63,c--;if(c>1){h[f++]=65533;continue}p<65536?h[f++]=p:(p-=65536,h[f++]=55296|p>>10&1023,h[f++]=56320|p&1023)}return a(h,f)},Br.utf8border=function(i,o){var s;for(o=o||i.length,o>i.length&&(o=i.length),s=o-1;s>=0&&(i[s]&192)===128;)s--;return s<0||s===0?o:s+n[i[s]]>o?s:o},Br}var yn,bi;function Dl(){if(bi)return yn;bi=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return yn=e,yn}var yi;function _h(){if(yi)return $r;yi=1;var e=Ch(),r=Rr(),t=xl(),n=ga(),l=Dl(),a=Object.prototype.toString,i=0,o=4,s=0,f=1,p=2,c=-1,d=0,h=8;function v(w){if(!(this instanceof v))return new v(w);this.options=r.assign({level:c,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},w||{});var C=this.options;C.raw&&C.windowBits>0?C.windowBits=-C.windowBits:C.gzip&&C.windowBits>0&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var I=e.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(I!==s)throw new Error(n[I]);if(C.header&&e.deflateSetHeader(this.strm,C.header),C.dictionary){var k;if(typeof C.dictionary=="string"?k=t.string2buf(C.dictionary):a.call(C.dictionary)==="[object ArrayBuffer]"?k=new Uint8Array(C.dictionary):k=C.dictionary,I=e.deflateSetDictionary(this.strm,k),I!==s)throw new Error(n[I]);this._dict_set=!0}}v.prototype.push=function(w,C){var I=this.strm,k=this.options.chunkSize,R,_;if(this.ended)return!1;_=C===~~C?C:C===!0?o:i,typeof w=="string"?I.input=t.string2buf(w):a.call(w)==="[object ArrayBuffer]"?I.input=new Uint8Array(w):I.input=w,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new r.Buf8(k),I.next_out=0,I.avail_out=k),R=e.deflate(I,_),R!==f&&R!==s)return this.onEnd(R),this.ended=!0,!1;(I.avail_out===0||I.avail_in===0&&(_===o||_===p))&&(this.options.to==="string"?this.onData(t.buf2binstring(r.shrinkBuf(I.output,I.next_out))):this.onData(r.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&R!==f);return _===o?(R=e.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===s):(_===p&&(this.onEnd(s),I.avail_out=0),!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===s&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function D(w,C){var I=new v(C);if(I.push(w,!0),I.err)throw I.msg||n[I.err];return I.result}function S(w,C){return C=C||{},C.raw=!0,D(w,C)}function b(w,C){return C=C||{},C.gzip=!0,D(w,C)}return $r.Deflate=v,$r.deflate=D,$r.deflateRaw=S,$r.gzip=b,$r}var Ur={},ar={},wn,wi;function Ih(){if(wi)return wn;wi=1;var e=30,r=12;return wn=function(n,l){var a,i,o,s,f,p,c,d,h,v,D,S,b,w,C,I,k,R,_,B,F,z,O,U,H;a=n.state,i=n.next_in,U=n.input,o=i+(n.avail_in-5),s=n.next_out,H=n.output,f=s-(l-n.avail_out),p=s+(n.avail_out-257),c=a.dmax,d=a.wsize,h=a.whave,v=a.wnext,D=a.window,S=a.hold,b=a.bits,w=a.lencode,C=a.distcode,I=(1<<a.lenbits)-1,k=(1<<a.distbits)-1;e:do{b<15&&(S+=U[i++]<<b,b+=8,S+=U[i++]<<b,b+=8),R=w[S&I];r:for(;;){if(_=R>>>24,S>>>=_,b-=_,_=R>>>16&255,_===0)H[s++]=R&65535;else if(_&16){B=R&65535,_&=15,_&&(b<_&&(S+=U[i++]<<b,b+=8),B+=S&(1<<_)-1,S>>>=_,b-=_),b<15&&(S+=U[i++]<<b,b+=8,S+=U[i++]<<b,b+=8),R=C[S&k];t:for(;;){if(_=R>>>24,S>>>=_,b-=_,_=R>>>16&255,_&16){if(F=R&65535,_&=15,b<_&&(S+=U[i++]<<b,b+=8,b<_&&(S+=U[i++]<<b,b+=8)),F+=S&(1<<_)-1,F>c){n.msg="invalid distance too far back",a.mode=e;break e}if(S>>>=_,b-=_,_=s-f,F>_){if(_=F-_,_>h&&a.sane){n.msg="invalid distance too far back",a.mode=e;break e}if(z=0,O=D,v===0){if(z+=d-_,_<B){B-=_;do H[s++]=D[z++];while(--_);z=s-F,O=H}}else if(v<_){if(z+=d+v-_,_-=v,_<B){B-=_;do H[s++]=D[z++];while(--_);if(z=0,v<B){_=v,B-=_;do H[s++]=D[z++];while(--_);z=s-F,O=H}}}else if(z+=v-_,_<B){B-=_;do H[s++]=D[z++];while(--_);z=s-F,O=H}for(;B>2;)H[s++]=O[z++],H[s++]=O[z++],H[s++]=O[z++],B-=3;B&&(H[s++]=O[z++],B>1&&(H[s++]=O[z++]))}else{z=s-F;do H[s++]=H[z++],H[s++]=H[z++],H[s++]=H[z++],B-=3;while(B>2);B&&(H[s++]=H[z++],B>1&&(H[s++]=H[z++]))}}else if(_&64){n.msg="invalid distance code",a.mode=e;break e}else{R=C[(R&65535)+(S&(1<<_)-1)];continue t}break}}else if(_&64)if(_&32){a.mode=r;break e}else{n.msg="invalid literal/length code",a.mode=e;break e}else{R=w[(R&65535)+(S&(1<<_)-1)];continue r}break}}while(i<o&&s<p);B=b>>3,i-=B,b-=B<<3,S&=(1<<b)-1,n.next_in=i,n.next_out=s,n.avail_in=i<o?5+(o-i):5-(i-o),n.avail_out=s<p?257+(p-s):257-(s-p),a.hold=S,a.bits=b},wn}var xn,xi;function Eh(){if(xi)return xn;xi=1;var e=Rr(),r=15,t=852,n=592,l=0,a=1,i=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return xn=function(d,h,v,D,S,b,w,C){var I=C.bits,k=0,R=0,_=0,B=0,F=0,z=0,O=0,U=0,H=0,q=0,J,K,j,G,ee,ve=null,Ie=0,de,De=new e.Buf16(r+1),Ce=new e.Buf16(r+1),he=null,ce=0,be,se,ne;for(k=0;k<=r;k++)De[k]=0;for(R=0;R<D;R++)De[h[v+R]]++;for(F=I,B=r;B>=1&&De[B]===0;B--);if(F>B&&(F=B),B===0)return S[b++]=1<<24|64<<16|0,S[b++]=1<<24|64<<16|0,C.bits=1,0;for(_=1;_<B&&De[_]===0;_++);for(F<_&&(F=_),U=1,k=1;k<=r;k++)if(U<<=1,U-=De[k],U<0)return-1;if(U>0&&(d===l||B!==1))return-1;for(Ce[1]=0,k=1;k<r;k++)Ce[k+1]=Ce[k]+De[k];for(R=0;R<D;R++)h[v+R]!==0&&(w[Ce[h[v+R]]++]=R);if(d===l?(ve=he=w,de=19):d===a?(ve=o,Ie-=257,he=s,ce-=257,de=256):(ve=f,he=p,de=-1),q=0,R=0,k=_,ee=b,z=F,O=0,j=-1,H=1<<F,G=H-1,d===a&&H>t||d===i&&H>n)return 1;for(;;){be=k-O,w[R]<de?(se=0,ne=w[R]):w[R]>de?(se=he[ce+w[R]],ne=ve[Ie+w[R]]):(se=96,ne=0),J=1<<k-O,K=1<<z,_=K;do K-=J,S[ee+(q>>O)+K]=be<<24|se<<16|ne|0;while(K!==0);for(J=1<<k-1;q&J;)J>>=1;if(J!==0?(q&=J-1,q+=J):q=0,R++,--De[k]===0){if(k===B)break;k=h[v+w[R]]}if(k>F&&(q&G)!==j){for(O===0&&(O=F),ee+=_,z=k-O,U=1<<z;z+O<B&&(U-=De[z+O],!(U<=0));)z++,U<<=1;if(H+=1<<z,d===a&&H>t||d===i&&H>n)return 1;j=q&G,S[j]=F<<24|z<<16|ee-b|0}}return q!==0&&(S[ee+q]=k-O<<24|64<<16|0),C.bits=F,0},xn}var Di;function Ah(){if(Di)return ar;Di=1;var e=Rr(),r=yl(),t=wl(),n=Ih(),l=Eh(),a=0,i=1,o=2,s=4,f=5,p=6,c=0,d=1,h=2,v=-2,D=-3,S=-4,b=-5,w=8,C=1,I=2,k=3,R=4,_=5,B=6,F=7,z=8,O=9,U=10,H=11,q=12,J=13,K=14,j=15,G=16,ee=17,ve=18,Ie=19,de=20,De=21,Ce=22,he=23,ce=24,be=25,se=26,ne=27,ke=28,Me=29,ie=30,Ee=31,Ge=32,We=852,Te=592,we=15,ue=we;function Le(A){return(A>>>24&255)+(A>>>8&65280)+((A&65280)<<8)+((A&255)<<24)}function pr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Dr(A){var M;return!A||!A.state?v:(M=A.state,A.total_in=A.total_out=M.total=0,A.msg="",M.wrap&&(A.adler=M.wrap&1),M.mode=C,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new e.Buf32(We),M.distcode=M.distdyn=new e.Buf32(Te),M.sane=1,M.back=-1,c)}function rr(A){var M;return!A||!A.state?v:(M=A.state,M.wsize=0,M.whave=0,M.wnext=0,Dr(A))}function zr(A,M){var m,$;return!A||!A.state||($=A.state,M<0?(m=0,M=-M):(m=(M>>4)+1,M<48&&(M&=15)),M&&(M<8||M>15))?v:($.window!==null&&$.wbits!==M&&($.window=null),$.wrap=m,$.wbits=M,rr(A))}function Sr(A,M){var m,$;return A?($=new pr,A.state=$,$.window=null,m=zr(A,M),m!==c&&(A.state=null),m):v}function lr(A){return Sr(A,ue)}var Hr=!0,Cr,Ze;function vr(A){if(Hr){var M;for(Cr=new e.Buf32(512),Ze=new e.Buf32(32),M=0;M<144;)A.lens[M++]=8;for(;M<256;)A.lens[M++]=9;for(;M<280;)A.lens[M++]=7;for(;M<288;)A.lens[M++]=8;for(l(i,A.lens,0,288,Cr,0,A.work,{bits:9}),M=0;M<32;)A.lens[M++]=5;l(o,A.lens,0,32,Ze,0,A.work,{bits:5}),Hr=!1}A.lencode=Cr,A.lenbits=9,A.distcode=Ze,A.distbits=5}function Gr(A,M,m,$){var oe,u=A.state;return u.window===null&&(u.wsize=1<<u.wbits,u.wnext=0,u.whave=0,u.window=new e.Buf8(u.wsize)),$>=u.wsize?(e.arraySet(u.window,M,m-u.wsize,u.wsize,0),u.wnext=0,u.whave=u.wsize):(oe=u.wsize-u.wnext,oe>$&&(oe=$),e.arraySet(u.window,M,m-$,oe,u.wnext),$-=oe,$?(e.arraySet(u.window,M,m-$,$,0),u.wnext=$,u.whave=u.wsize):(u.wnext+=oe,u.wnext===u.wsize&&(u.wnext=0),u.whave<u.wsize&&(u.whave+=oe))),0}function x(A,M){var m,$,oe,u,P,N,y,E,T,re,Y,X,pe,yr,Re=0,ge,Oe,je,Ye,xt,Dt,Pe,tr,$e=new e.Buf8(4),wr,hr,ba=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return v;m=A.state,m.mode===q&&(m.mode=J),P=A.next_out,oe=A.output,y=A.avail_out,u=A.next_in,$=A.input,N=A.avail_in,E=m.hold,T=m.bits,re=N,Y=y,tr=c;e:for(;;)switch(m.mode){case C:if(m.wrap===0){m.mode=J;break}for(;T<16;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(m.wrap&2&&E===35615){m.check=0,$e[0]=E&255,$e[1]=E>>>8&255,m.check=t(m.check,$e,2,0),E=0,T=0,m.mode=I;break}if(m.flags=0,m.head&&(m.head.done=!1),!(m.wrap&1)||(((E&255)<<8)+(E>>8))%31){A.msg="incorrect header check",m.mode=ie;break}if((E&15)!==w){A.msg="unknown compression method",m.mode=ie;break}if(E>>>=4,T-=4,Pe=(E&15)+8,m.wbits===0)m.wbits=Pe;else if(Pe>m.wbits){A.msg="invalid window size",m.mode=ie;break}m.dmax=1<<Pe,A.adler=m.check=1,m.mode=E&512?U:q,E=0,T=0;break;case I:for(;T<16;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(m.flags=E,(m.flags&255)!==w){A.msg="unknown compression method",m.mode=ie;break}if(m.flags&57344){A.msg="unknown header flags set",m.mode=ie;break}m.head&&(m.head.text=E>>8&1),m.flags&512&&($e[0]=E&255,$e[1]=E>>>8&255,m.check=t(m.check,$e,2,0)),E=0,T=0,m.mode=k;case k:for(;T<32;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.head&&(m.head.time=E),m.flags&512&&($e[0]=E&255,$e[1]=E>>>8&255,$e[2]=E>>>16&255,$e[3]=E>>>24&255,m.check=t(m.check,$e,4,0)),E=0,T=0,m.mode=R;case R:for(;T<16;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.head&&(m.head.xflags=E&255,m.head.os=E>>8),m.flags&512&&($e[0]=E&255,$e[1]=E>>>8&255,m.check=t(m.check,$e,2,0)),E=0,T=0,m.mode=_;case _:if(m.flags&1024){for(;T<16;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.length=E,m.head&&(m.head.extra_len=E),m.flags&512&&($e[0]=E&255,$e[1]=E>>>8&255,m.check=t(m.check,$e,2,0)),E=0,T=0}else m.head&&(m.head.extra=null);m.mode=B;case B:if(m.flags&1024&&(X=m.length,X>N&&(X=N),X&&(m.head&&(Pe=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),e.arraySet(m.head.extra,$,u,X,Pe)),m.flags&512&&(m.check=t(m.check,$,X,u)),N-=X,u+=X,m.length-=X),m.length))break e;m.length=0,m.mode=F;case F:if(m.flags&2048){if(N===0)break e;X=0;do Pe=$[u+X++],m.head&&Pe&&m.length<65536&&(m.head.name+=String.fromCharCode(Pe));while(Pe&&X<N);if(m.flags&512&&(m.check=t(m.check,$,X,u)),N-=X,u+=X,Pe)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=z;case z:if(m.flags&4096){if(N===0)break e;X=0;do Pe=$[u+X++],m.head&&Pe&&m.length<65536&&(m.head.comment+=String.fromCharCode(Pe));while(Pe&&X<N);if(m.flags&512&&(m.check=t(m.check,$,X,u)),N-=X,u+=X,Pe)break e}else m.head&&(m.head.comment=null);m.mode=O;case O:if(m.flags&512){for(;T<16;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(E!==(m.check&65535)){A.msg="header crc mismatch",m.mode=ie;break}E=0,T=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),A.adler=m.check=0,m.mode=q;break;case U:for(;T<32;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}A.adler=m.check=Le(E),E=0,T=0,m.mode=H;case H:if(m.havedict===0)return A.next_out=P,A.avail_out=y,A.next_in=u,A.avail_in=N,m.hold=E,m.bits=T,h;A.adler=m.check=1,m.mode=q;case q:if(M===f||M===p)break e;case J:if(m.last){E>>>=T&7,T-=T&7,m.mode=ne;break}for(;T<3;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}switch(m.last=E&1,E>>>=1,T-=1,E&3){case 0:m.mode=K;break;case 1:if(vr(m),m.mode=de,M===p){E>>>=2,T-=2;break e}break;case 2:m.mode=ee;break;case 3:A.msg="invalid block type",m.mode=ie}E>>>=2,T-=2;break;case K:for(E>>>=T&7,T-=T&7;T<32;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if((E&65535)!==(E>>>16^65535)){A.msg="invalid stored block lengths",m.mode=ie;break}if(m.length=E&65535,E=0,T=0,m.mode=j,M===p)break e;case j:m.mode=G;case G:if(X=m.length,X){if(X>N&&(X=N),X>y&&(X=y),X===0)break e;e.arraySet(oe,$,u,X,P),N-=X,u+=X,y-=X,P+=X,m.length-=X;break}m.mode=q;break;case ee:for(;T<14;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(m.nlen=(E&31)+257,E>>>=5,T-=5,m.ndist=(E&31)+1,E>>>=5,T-=5,m.ncode=(E&15)+4,E>>>=4,T-=4,m.nlen>286||m.ndist>30){A.msg="too many length or distance symbols",m.mode=ie;break}m.have=0,m.mode=ve;case ve:for(;m.have<m.ncode;){for(;T<3;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.lens[ba[m.have++]]=E&7,E>>>=3,T-=3}for(;m.have<19;)m.lens[ba[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,wr={bits:m.lenbits},tr=l(a,m.lens,0,19,m.lencode,0,m.work,wr),m.lenbits=wr.bits,tr){A.msg="invalid code lengths set",m.mode=ie;break}m.have=0,m.mode=Ie;case Ie:for(;m.have<m.nlen+m.ndist;){for(;Re=m.lencode[E&(1<<m.lenbits)-1],ge=Re>>>24,Oe=Re>>>16&255,je=Re&65535,!(ge<=T);){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(je<16)E>>>=ge,T-=ge,m.lens[m.have++]=je;else{if(je===16){for(hr=ge+2;T<hr;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(E>>>=ge,T-=ge,m.have===0){A.msg="invalid bit length repeat",m.mode=ie;break}Pe=m.lens[m.have-1],X=3+(E&3),E>>>=2,T-=2}else if(je===17){for(hr=ge+3;T<hr;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}E>>>=ge,T-=ge,Pe=0,X=3+(E&7),E>>>=3,T-=3}else{for(hr=ge+7;T<hr;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}E>>>=ge,T-=ge,Pe=0,X=11+(E&127),E>>>=7,T-=7}if(m.have+X>m.nlen+m.ndist){A.msg="invalid bit length repeat",m.mode=ie;break}for(;X--;)m.lens[m.have++]=Pe}}if(m.mode===ie)break;if(m.lens[256]===0){A.msg="invalid code -- missing end-of-block",m.mode=ie;break}if(m.lenbits=9,wr={bits:m.lenbits},tr=l(i,m.lens,0,m.nlen,m.lencode,0,m.work,wr),m.lenbits=wr.bits,tr){A.msg="invalid literal/lengths set",m.mode=ie;break}if(m.distbits=6,m.distcode=m.distdyn,wr={bits:m.distbits},tr=l(o,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,wr),m.distbits=wr.bits,tr){A.msg="invalid distances set",m.mode=ie;break}if(m.mode=de,M===p)break e;case de:m.mode=De;case De:if(N>=6&&y>=258){A.next_out=P,A.avail_out=y,A.next_in=u,A.avail_in=N,m.hold=E,m.bits=T,n(A,Y),P=A.next_out,oe=A.output,y=A.avail_out,u=A.next_in,$=A.input,N=A.avail_in,E=m.hold,T=m.bits,m.mode===q&&(m.back=-1);break}for(m.back=0;Re=m.lencode[E&(1<<m.lenbits)-1],ge=Re>>>24,Oe=Re>>>16&255,je=Re&65535,!(ge<=T);){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(Oe&&!(Oe&240)){for(Ye=ge,xt=Oe,Dt=je;Re=m.lencode[Dt+((E&(1<<Ye+xt)-1)>>Ye)],ge=Re>>>24,Oe=Re>>>16&255,je=Re&65535,!(Ye+ge<=T);){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}E>>>=Ye,T-=Ye,m.back+=Ye}if(E>>>=ge,T-=ge,m.back+=ge,m.length=je,Oe===0){m.mode=se;break}if(Oe&32){m.back=-1,m.mode=q;break}if(Oe&64){A.msg="invalid literal/length code",m.mode=ie;break}m.extra=Oe&15,m.mode=Ce;case Ce:if(m.extra){for(hr=m.extra;T<hr;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.length+=E&(1<<m.extra)-1,E>>>=m.extra,T-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=he;case he:for(;Re=m.distcode[E&(1<<m.distbits)-1],ge=Re>>>24,Oe=Re>>>16&255,je=Re&65535,!(ge<=T);){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(!(Oe&240)){for(Ye=ge,xt=Oe,Dt=je;Re=m.distcode[Dt+((E&(1<<Ye+xt)-1)>>Ye)],ge=Re>>>24,Oe=Re>>>16&255,je=Re&65535,!(Ye+ge<=T);){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}E>>>=Ye,T-=Ye,m.back+=Ye}if(E>>>=ge,T-=ge,m.back+=ge,Oe&64){A.msg="invalid distance code",m.mode=ie;break}m.offset=je,m.extra=Oe&15,m.mode=ce;case ce:if(m.extra){for(hr=m.extra;T<hr;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}m.offset+=E&(1<<m.extra)-1,E>>>=m.extra,T-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){A.msg="invalid distance too far back",m.mode=ie;break}m.mode=be;case be:if(y===0)break e;if(X=Y-y,m.offset>X){if(X=m.offset-X,X>m.whave&&m.sane){A.msg="invalid distance too far back",m.mode=ie;break}X>m.wnext?(X-=m.wnext,pe=m.wsize-X):pe=m.wnext-X,X>m.length&&(X=m.length),yr=m.window}else yr=oe,pe=P-m.offset,X=m.length;X>y&&(X=y),y-=X,m.length-=X;do oe[P++]=yr[pe++];while(--X);m.length===0&&(m.mode=De);break;case se:if(y===0)break e;oe[P++]=m.length,y--,m.mode=De;break;case ne:if(m.wrap){for(;T<32;){if(N===0)break e;N--,E|=$[u++]<<T,T+=8}if(Y-=y,A.total_out+=Y,m.total+=Y,Y&&(A.adler=m.check=m.flags?t(m.check,oe,Y,P-Y):r(m.check,oe,Y,P-Y)),Y=y,(m.flags?E:Le(E))!==m.check){A.msg="incorrect data check",m.mode=ie;break}E=0,T=0}m.mode=ke;case ke:if(m.wrap&&m.flags){for(;T<32;){if(N===0)break e;N--,E+=$[u++]<<T,T+=8}if(E!==(m.total&4294967295)){A.msg="incorrect length check",m.mode=ie;break}E=0,T=0}m.mode=Me;case Me:tr=d;break e;case ie:tr=D;break e;case Ee:return S;case Ge:default:return v}return A.next_out=P,A.avail_out=y,A.next_in=u,A.avail_in=N,m.hold=E,m.bits=T,(m.wsize||Y!==A.avail_out&&m.mode<ie&&(m.mode<ne||M!==s))&&Gr(A,A.output,A.next_out,Y-A.avail_out),re-=A.avail_in,Y-=A.avail_out,A.total_in+=re,A.total_out+=Y,m.total+=Y,m.wrap&&Y&&(A.adler=m.check=m.flags?t(m.check,oe,Y,A.next_out-Y):r(m.check,oe,Y,A.next_out-Y)),A.data_type=m.bits+(m.last?64:0)+(m.mode===q?128:0)+(m.mode===de||m.mode===j?256:0),(re===0&&Y===0||M===s)&&tr===c&&(tr=b),tr}function W(A){if(!A||!A.state)return v;var M=A.state;return M.window&&(M.window=null),A.state=null,c}function V(A,M){var m;return!A||!A.state||(m=A.state,!(m.wrap&2))?v:(m.head=M,M.done=!1,c)}function Q(A,M){var m=M.length,$,oe,u;return!A||!A.state||($=A.state,$.wrap!==0&&$.mode!==H)?v:$.mode===H&&(oe=1,oe=r(oe,M,m,0),oe!==$.check)?D:(u=Gr(A,M,m,m),u?($.mode=Ee,S):($.havedict=1,c))}return ar.inflateReset=rr,ar.inflateReset2=zr,ar.inflateResetKeep=Dr,ar.inflateInit=lr,ar.inflateInit2=Sr,ar.inflate=x,ar.inflateEnd=W,ar.inflateGetHeader=V,ar.inflateSetDictionary=Q,ar.inflateInfo="pako inflate (from Nodeca project)",ar}var Dn,Si;function Sl(){return Si||(Si=1,Dn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Dn}var Sn,Ci;function kh(){if(Ci)return Sn;Ci=1;function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Sn=e,Sn}var _i;function Rh(){if(_i)return Ur;_i=1;var e=Ah(),r=Rr(),t=xl(),n=Sl(),l=ga(),a=Dl(),i=kh(),o=Object.prototype.toString;function s(c){if(!(this instanceof s))return new s(c);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},c||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(c&&c.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var h=e.inflateInit2(this.strm,d.windowBits);if(h!==n.Z_OK)throw new Error(l[h]);if(this.header=new i,e.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=t.string2buf(d.dictionary):o.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(h=e.inflateSetDictionary(this.strm,d.dictionary),h!==n.Z_OK)))throw new Error(l[h])}s.prototype.push=function(c,d){var h=this.strm,v=this.options.chunkSize,D=this.options.dictionary,S,b,w,C,I,k=!1;if(this.ended)return!1;b=d===~~d?d:d===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof c=="string"?h.input=t.binstring2buf(c):o.call(c)==="[object ArrayBuffer]"?h.input=new Uint8Array(c):h.input=c,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new r.Buf8(v),h.next_out=0,h.avail_out=v),S=e.inflate(h,n.Z_NO_FLUSH),S===n.Z_NEED_DICT&&D&&(S=e.inflateSetDictionary(this.strm,D)),S===n.Z_BUF_ERROR&&k===!0&&(S=n.Z_OK,k=!1),S!==n.Z_STREAM_END&&S!==n.Z_OK)return this.onEnd(S),this.ended=!0,!1;h.next_out&&(h.avail_out===0||S===n.Z_STREAM_END||h.avail_in===0&&(b===n.Z_FINISH||b===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(w=t.utf8border(h.output,h.next_out),C=h.next_out-w,I=t.buf2string(h.output,w),h.next_out=C,h.avail_out=v-C,C&&r.arraySet(h.output,h.output,w,C,0),this.onData(I)):this.onData(r.shrinkBuf(h.output,h.next_out))),h.avail_in===0&&h.avail_out===0&&(k=!0)}while((h.avail_in>0||h.avail_out===0)&&S!==n.Z_STREAM_END);return S===n.Z_STREAM_END&&(b=n.Z_FINISH),b===n.Z_FINISH?(S=e.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===n.Z_OK):(b===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),h.avail_out=0),!0)},s.prototype.onData=function(c){this.chunks.push(c)},s.prototype.onEnd=function(c){c===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg};function f(c,d){var h=new s(d);if(h.push(c,!0),h.err)throw h.msg||l[h.err];return h.result}function p(c,d){return d=d||{},d.raw=!0,f(c,d)}return Ur.Inflate=s,Ur.inflate=f,Ur.inflateRaw=p,Ur.ungzip=f,Ur}var Cn,Ii;function Th(){if(Ii)return Cn;Ii=1;var e=Rr().assign,r=_h(),t=Rh(),n=Sl(),l={};return e(l,r,t,n),Cn=l,Cn}(function(e){(function(){var r={},t;e.exports=r,typeof Dh=="function"?t=Th():t=window.pako,function(n,l){n.toRGBA8=function(a){var i=a.width,o=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,i,o,a).buffer];var s=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var f,p=new Uint8Array(i*o*4),c=0;c<a.frames.length;c++){var d=a.frames[c],h=d.rect.x,v=d.rect.y,D=d.rect.width,S=d.rect.height,b=n.toRGBA8.decodeImage(d.data,D,S,a);if(c==0?f=b:d.blend==0?n._copyTile(b,D,S,f,i,o,h,v,0):d.blend==1&&n._copyTile(b,D,S,f,i,o,h,v,1),s.push(f.buffer),f=f.slice(0),d.dispose!=0){if(d.dispose==1)n._copyTile(p,D,S,f,i,o,h,v,0);else if(d.dispose==2){for(var w=c-1;a.frames[w].dispose==2;)w--;f=new Uint8Array(s[w]).slice(0)}}}return s},n.toRGBA8.decodeImage=function(a,i,o,s){var f=i*o,p=n.decode._getBPP(s),c=Math.ceil(i*p/8),d=new Uint8Array(f*4),h=new Uint32Array(d.buffer),v=s.ctype,D=s.depth,S=n._bin.readUshort;if(v==6){var b=f<<2;if(D==8)for(var w=0;w<b;w++)d[w]=a[w];if(D==16)for(var w=0;w<b;w++)d[w]=a[w<<1]}else if(v==2){var C=s.tabs.tRNS,I=-1,k=-1,R=-1;if(C&&(I=C[0],k=C[1],R=C[2]),D==8)for(var w=0;w<f;w++){var _=w<<2,B=w*3;d[_]=a[B],d[_+1]=a[B+1],d[_+2]=a[B+2],d[_+3]=255,I!=-1&&a[B]==I&&a[B+1]==k&&a[B+2]==R&&(d[_+3]=0)}if(D==16)for(var w=0;w<f;w++){var _=w<<2,B=w*6;d[_]=a[B],d[_+1]=a[B+2],d[_+2]=a[B+4],d[_+3]=255,I!=-1&&S(a,B)==I&&S(a,B+2)==k&&S(a,B+4)==R&&(d[_+3]=0)}}else if(v==3){var F=s.tabs.PLTE,z=s.tabs.tRNS,O=z?z.length:0;if(D==1)for(var U=0;U<o;U++)for(var H=U*c,q=U*i,w=0;w<i;w++){var _=q+w<<2,J=a[H+(w>>3)]>>7-((w&7)<<0)&1,K=3*J;d[_]=F[K],d[_+1]=F[K+1],d[_+2]=F[K+2],d[_+3]=J<O?z[J]:255}if(D==2)for(var U=0;U<o;U++)for(var H=U*c,q=U*i,w=0;w<i;w++){var _=q+w<<2,J=a[H+(w>>2)]>>6-((w&3)<<1)&3,K=3*J;d[_]=F[K],d[_+1]=F[K+1],d[_+2]=F[K+2],d[_+3]=J<O?z[J]:255}if(D==4)for(var U=0;U<o;U++)for(var H=U*c,q=U*i,w=0;w<i;w++){var _=q+w<<2,J=a[H+(w>>1)]>>4-((w&1)<<2)&15,K=3*J;d[_]=F[K],d[_+1]=F[K+1],d[_+2]=F[K+2],d[_+3]=J<O?z[J]:255}if(D==8)for(var w=0;w<f;w++){var _=w<<2,J=a[w],K=3*J;d[_]=F[K],d[_+1]=F[K+1],d[_+2]=F[K+2],d[_+3]=J<O?z[J]:255}}else if(v==4){if(D==8)for(var w=0;w<f;w++){var _=w<<2,j=w<<1,G=a[j];d[_]=G,d[_+1]=G,d[_+2]=G,d[_+3]=a[j+1]}if(D==16)for(var w=0;w<f;w++){var _=w<<2,j=w<<2,G=a[j];d[_]=G,d[_+1]=G,d[_+2]=G,d[_+3]=a[j+2]}}else if(v==0){var I=s.tabs.tRNS?s.tabs.tRNS:-1;if(D==1)for(var w=0;w<f;w++){var G=255*(a[w>>3]>>7-(w&7)&1),ee=G==I*255?0:255;h[w]=ee<<24|G<<16|G<<8|G}if(D==2)for(var w=0;w<f;w++){var G=85*(a[w>>2]>>6-((w&3)<<1)&3),ee=G==I*85?0:255;h[w]=ee<<24|G<<16|G<<8|G}if(D==4)for(var w=0;w<f;w++){var G=17*(a[w>>1]>>4-((w&1)<<2)&15),ee=G==I*17?0:255;h[w]=ee<<24|G<<16|G<<8|G}if(D==8)for(var w=0;w<f;w++){var G=a[w],ee=G==I?0:255;h[w]=ee<<24|G<<16|G<<8|G}if(D==16)for(var w=0;w<f;w++){var G=a[w<<1],ee=S(a,w<<1)==I?0:255;h[w]=ee<<24|G<<16|G<<8|G}}return d},n.decode=function(a){for(var i=new Uint8Array(a),o=8,s=n._bin,f=s.readUshort,p=s.readUint,c={tabs:{},frames:[]},d=new Uint8Array(i.length),h=0,v,D=0,S=[137,80,78,71,13,10,26,10],b=0;b<8;b++)if(i[b]!=S[b])throw"The input is not a PNG file!";for(;o<i.length;){var w=s.readUint(i,o);o+=4;var C=s.readASCII(i,o,4);if(o+=4,C=="IHDR")n.decode._IHDR(i,o,c);else if(C=="IDAT"){for(var b=0;b<w;b++)d[h+b]=i[o+b];h+=w}else if(C=="acTL")c.tabs[C]={num_frames:p(i,o),num_plays:p(i,o+4)},v=new Uint8Array(i.length);else if(C=="fcTL"){if(D!=0){var I=c.frames[c.frames.length-1];I.data=n.decode._decompress(c,v.slice(0,D),I.rect.width,I.rect.height),D=0}var k={x:p(i,o+12),y:p(i,o+16),width:p(i,o+4),height:p(i,o+8)},R=f(i,o+22);R=f(i,o+20)/(R==0?100:R);var _={rect:k,delay:Math.round(R*1e3),dispose:i[o+24],blend:i[o+25]};c.frames.push(_)}else if(C=="fdAT"){for(var b=0;b<w-4;b++)v[D+b]=i[o+b+4];D+=w-4}else if(C=="pHYs")c.tabs[C]=[s.readUint(i,o),s.readUint(i,o+4),i[o+8]];else if(C=="cHRM"){c.tabs[C]=[];for(var b=0;b<8;b++)c.tabs[C].push(s.readUint(i,o+b*4))}else if(C=="tEXt"){c.tabs[C]==null&&(c.tabs[C]={});var B=s.nextZero(i,o),F=s.readASCII(i,o,B-o),z=s.readASCII(i,B+1,o+w-B-1);c.tabs[C][F]=z}else if(C=="iTXt"){c.tabs[C]==null&&(c.tabs[C]={});var B=0,O=o;B=s.nextZero(i,O);var F=s.readASCII(i,O,B-O);O=B+1,i[O],i[O+1],O+=2,B=s.nextZero(i,O),s.readASCII(i,O,B-O),O=B+1,B=s.nextZero(i,O),s.readUTF8(i,O,B-O),O=B+1;var z=s.readUTF8(i,O,w-(O-o));c.tabs[C][F]=z}else if(C=="PLTE")c.tabs[C]=s.readBytes(i,o,w);else if(C=="hIST"){var U=c.tabs.PLTE.length/3;c.tabs[C]=[];for(var b=0;b<U;b++)c.tabs[C].push(f(i,o+b*2))}else if(C=="tRNS")c.ctype==3?c.tabs[C]=s.readBytes(i,o,w):c.ctype==0?c.tabs[C]=f(i,o):c.ctype==2&&(c.tabs[C]=[f(i,o),f(i,o+2),f(i,o+4)]);else if(C=="gAMA")c.tabs[C]=s.readUint(i,o)/1e5;else if(C=="sRGB")c.tabs[C]=i[o];else if(C=="bKGD")c.ctype==0||c.ctype==4?c.tabs[C]=[f(i,o)]:c.ctype==2||c.ctype==6?c.tabs[C]=[f(i,o),f(i,o+2),f(i,o+4)]:c.ctype==3&&(c.tabs[C]=i[o]);else if(C=="IEND"){if(D!=0){var I=c.frames[c.frames.length-1];I.data=n.decode._decompress(c,v.slice(0,D),I.rect.width,I.rect.height),D=0}c.data=n.decode._decompress(c,d,c.width,c.height);break}o+=w,s.readUint(i,o),o+=4}return delete c.compress,delete c.interlace,delete c.filter,c},n.decode._decompress=function(a,i,o,s){return a.compress==0&&(i=n.decode._inflate(i)),a.interlace==0?i=n.decode._filterZero(i,a,0,o,s):a.interlace==1&&(i=n.decode._readInterlace(i,a)),i},n.decode._inflate=function(a){return l.inflate(a)},n.decode._readInterlace=function(a,i){for(var o=i.width,s=i.height,f=n.decode._getBPP(i),p=f>>3,c=Math.ceil(o*f/8),d=new Uint8Array(s*c),h=0,v=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],S=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1],w=0;w<7;){for(var C=S[w],I=b[w],k=0,R=0,_=v[w];_<s;)_+=C,R++;for(var B=D[w];B<o;)B+=I,k++;var F=Math.ceil(k*f/8);n.decode._filterZero(a,i,h,k,R);for(var z=0,O=v[w];O<s;){for(var U=D[w],H=h+z*F<<3;U<o;){if(f==1){var q=a[H>>3];q=q>>7-(H&7)&1,d[O*c+(U>>3)]|=q<<7-((U&3)<<0)}if(f==2){var q=a[H>>3];q=q>>6-(H&7)&3,d[O*c+(U>>2)]|=q<<6-((U&3)<<1)}if(f==4){var q=a[H>>3];q=q>>4-(H&7)&15,d[O*c+(U>>1)]|=q<<4-((U&1)<<2)}if(f>=8)for(var J=O*c+U*p,K=0;K<p;K++)d[J+K]=a[(H>>3)+K];H+=f,U+=I}z++,O+=C}k*R!=0&&(h+=R*(1+F)),w=w+1}return d},n.decode._getBPP=function(a){var i=[1,null,3,1,2,null,4][a.ctype];return i*a.depth},n.decode._filterZero=function(a,i,o,s,f){var p=n.decode._getBPP(i),c=Math.ceil(s*p/8),d=n.decode._paeth;p=Math.ceil(p/8);for(var h=0;h<f;h++){var v=o+h*c,D=v+h+1,S=a[D-1];if(S==0)for(var b=0;b<c;b++)a[v+b]=a[D+b];else if(S==1){for(var b=0;b<p;b++)a[v+b]=a[D+b];for(var b=p;b<c;b++)a[v+b]=a[D+b]+a[v+b-p]&255}else if(h==0){for(var b=0;b<p;b++)a[v+b]=a[D+b];if(S==2)for(var b=p;b<c;b++)a[v+b]=a[D+b]&255;if(S==3)for(var b=p;b<c;b++)a[v+b]=a[D+b]+(a[v+b-p]>>1)&255;if(S==4)for(var b=p;b<c;b++)a[v+b]=a[D+b]+d(a[v+b-p],0,0)&255}else{if(S==2)for(var b=0;b<c;b++)a[v+b]=a[D+b]+a[v+b-c]&255;if(S==3){for(var b=0;b<p;b++)a[v+b]=a[D+b]+(a[v+b-c]>>1)&255;for(var b=p;b<c;b++)a[v+b]=a[D+b]+(a[v+b-c]+a[v+b-p]>>1)&255}if(S==4){for(var b=0;b<p;b++)a[v+b]=a[D+b]+d(0,a[v+b-c],0)&255;for(var b=p;b<c;b++)a[v+b]=a[D+b]+d(a[v+b-p],a[v+b-c],a[v+b-p-c])&255}}}return a},n.decode._paeth=function(a,i,o){var s=a+i-o,f=Math.abs(s-a),p=Math.abs(s-i),c=Math.abs(s-o);return f<=p&&f<=c?a:p<=c?i:o},n.decode._IHDR=function(a,i,o){var s=n._bin;o.width=s.readUint(a,i),i+=4,o.height=s.readUint(a,i),i+=4,o.depth=a[i],i++,o.ctype=a[i],i++,o.compress=a[i],i++,o.filter=a[i],i++,o.interlace=a[i],i++},n._bin={nextZero:function(a,i){for(;a[i]!=0;)i++;return i},readUshort:function(a,i){return a[i]<<8|a[i+1]},writeUshort:function(a,i,o){a[i]=o>>8&255,a[i+1]=o&255},readUint:function(a,i){return a[i]*(256*256*256)+(a[i+1]<<16|a[i+2]<<8|a[i+3])},writeUint:function(a,i,o){a[i]=o>>24&255,a[i+1]=o>>16&255,a[i+2]=o>>8&255,a[i+3]=o&255},readASCII:function(a,i,o){for(var s="",f=0;f<o;f++)s+=String.fromCharCode(a[i+f]);return s},writeASCII:function(a,i,o){for(var s=0;s<o.length;s++)a[i+s]=o.charCodeAt(s)},readBytes:function(a,i,o){for(var s=[],f=0;f<o;f++)s.push(a[i+f]);return s},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,i,o){for(var s="",f,p=0;p<o;p++)s+="%"+n._bin.pad(a[i+p].toString(16));try{f=decodeURIComponent(s)}catch{return n._bin.readASCII(a,i,o)}return f}},n._copyTile=function(a,i,o,s,f,p,c,d,h){for(var v=Math.min(i,f),D=Math.min(o,p),S=0,b=0,w=0;w<D;w++)for(var C=0;C<v;C++)if(c>=0&&d>=0?(S=w*i+C<<2,b=(d+w)*f+c+C<<2):(S=(-d+w)*i-c+C<<2,b=w*f+C<<2),h==0)s[b]=a[S],s[b+1]=a[S+1],s[b+2]=a[S+2],s[b+3]=a[S+3];else if(h==1){var I=a[S+3]*.00392156862745098,k=a[S]*I,R=a[S+1]*I,_=a[S+2]*I,B=s[b+3]*(1/255),F=s[b]*B,z=s[b+1]*B,O=s[b+2]*B,U=1-I,H=I+B*U,q=H==0?0:1/H;s[b+3]=255*H,s[b+0]=(k+F*U)*q,s[b+1]=(R+z*U)*q,s[b+2]=(_+O*U)*q}else if(h==2){var I=a[S+3],k=a[S],R=a[S+1],_=a[S+2],B=s[b+3],F=s[b],z=s[b+1],O=s[b+2];I==B&&k==F&&R==z&&_==O?(s[b]=0,s[b+1]=0,s[b+2]=0,s[b+3]=0):(s[b]=k,s[b+1]=R,s[b+2]=_,s[b+3]=I)}else if(h==3){var I=a[S+3],k=a[S],R=a[S+1],_=a[S+2],B=s[b+3],F=s[b],z=s[b+1],O=s[b+2];if(I==B&&k==F&&R==z&&_==O)continue;if(I<220&&B>20)return!1}return!0},n.encode=function(a,i,o,s,f,p){s==null&&(s=0),p==null&&(p=!1);for(var c=new Uint8Array(a[0].byteLength*a.length+100),d=[137,80,78,71,13,10,26,10],h=0;h<8;h++)c[h]=d[h];var v=8,D=n._bin,S=n.crc.crc,b=D.writeUint,w=D.writeUshort,C=D.writeASCII,I=n.encode.compressPNG(a,i,o,s,p);b(c,v,13),v+=4,C(c,v,"IHDR"),v+=4,b(c,v,i),v+=4,b(c,v,o),v+=4,c[v]=I.depth,v++,c[v]=I.ctype,v++,c[v]=0,v++,c[v]=0,v++,c[v]=0,v++,b(c,v,S(c,v-17,17)),v+=4,b(c,v,1),v+=4,C(c,v,"sRGB"),v+=4,c[v]=1,v++,b(c,v,S(c,v-5,5)),v+=4;var k=a.length>1;if(k&&(b(c,v,8),v+=4,C(c,v,"acTL"),v+=4,b(c,v,a.length),v+=4,b(c,v,0),v+=4,b(c,v,S(c,v-12,12)),v+=4),I.ctype==3){var R=I.plte.length;b(c,v,R*3),v+=4,C(c,v,"PLTE"),v+=4;for(var h=0;h<R;h++){var _=h*3,B=I.plte[h],F=B&255,z=B>>8&255,O=B>>16&255;c[v+_+0]=F,c[v+_+1]=z,c[v+_+2]=O}if(v+=R*3,b(c,v,S(c,v-R*3-4,R*3+4)),v+=4,I.gotAlpha){b(c,v,R),v+=4,C(c,v,"tRNS"),v+=4;for(var h=0;h<R;h++)c[v+h]=I.plte[h]>>24&255;v+=R,b(c,v,S(c,v-R-4,R+4)),v+=4}}for(var U=0,H=0;H<I.frames.length;H++){var q=I.frames[H];k&&(b(c,v,26),v+=4,C(c,v,"fcTL"),v+=4,b(c,v,U++),v+=4,b(c,v,q.rect.width),v+=4,b(c,v,q.rect.height),v+=4,b(c,v,q.rect.x),v+=4,b(c,v,q.rect.y),v+=4,w(c,v,f[H]),v+=2,w(c,v,1e3),v+=2,c[v]=q.dispose,v++,c[v]=q.blend,v++,b(c,v,S(c,v-30,30)),v+=4);var J=q.cimg,R=J.length;b(c,v,R+(H==0?0:4)),v+=4;var K=v;C(c,v,H==0?"IDAT":"fdAT"),v+=4,H!=0&&(b(c,v,U++),v+=4);for(var h=0;h<R;h++)c[v+h]=J[h];v+=R,b(c,v,S(c,K,v-K)),v+=4}return b(c,v,0),v+=4,C(c,v,"IEND"),v+=4,b(c,v,S(c,v-4,4)),v+=4,c.buffer.slice(0,v)},n.encode.compressPNG=function(a,i,o,s,f){for(var p=n.encode.compress(a,i,o,s,!1,f),c=0;c<a.length;c++){var d=p.frames[c];d.rect.width;var h=d.rect.height,v=d.bpl,D=d.bpp,S=new Uint8Array(h*v+h);d.cimg=n.encode._filterZero(d.img,h,D,v,S)}return p},n.encode.compress=function(a,i,o,s,f,p){p==null&&(p=!1);for(var c=6,d=8,h=4,v=255,D=0;D<a.length;D++)for(var S=new Uint8Array(a[D]),b=S.length,w=0;w<b;w+=4)v&=S[w+3];var C=v!=255,I={},k=[];if(a.length!=0&&(I[0]=0,k.push(0),s!=0&&s--),s!=0){var R=n.quantize(a,s,f);a=R.bufs;for(var w=0;w<R.plte.length;w++){var _=R.plte[w].est.rgba;I[_]==null&&(I[_]=k.length,k.push(_))}}else for(var D=0;D<a.length;D++)for(var B=new Uint32Array(a[D]),b=B.length,w=0;w<b;w++){var _=B[w];if((w<i||_!=B[w-1]&&_!=B[w-i])&&I[_]==null&&(I[_]=k.length,k.push(_),k.length>=300))break}var F=C?f:!1,z=k.length;z<=256&&p==!1&&(z<=2?d=1:z<=4?d=2:z<=16?d=4:d=8,f&&(d=8),C=!0);for(var O=[],D=0;D<a.length;D++){var U=new Uint8Array(a[D]),H=new Uint32Array(U.buffer),q=0,J=0,K=i,j=o,G=0;if(D!=0&&!F){for(var ee=f||D==1||O[O.length-2].dispose==2?1:2,ve=0,Ie=1e9,de=0;de<ee;de++){for(var Me=new Uint8Array(a[D-1-de]),De=new Uint32Array(a[D-1-de]),Ce=i,he=o,ce=-1,be=-1,se=0;se<o;se++)for(var ne=0;ne<i;ne++){var w=se*i+ne;H[w]!=De[w]&&(ne<Ce&&(Ce=ne),ne>ce&&(ce=ne),se<he&&(he=se),se>be&&(be=se))}var ke=ce==-1?1:(ce-Ce+1)*(be-he+1);ke<Ie&&(Ie=ke,ve=de,ce==-1?(q=J=0,K=j=1):(q=Ce,J=he,K=ce-Ce+1,j=be-he+1))}var Me=new Uint8Array(a[D-1-ve]);ve==1&&(O[O.length-1].dispose=2);var ie=new Uint8Array(K*j*4);new Uint32Array(ie.buffer),n._copyTile(Me,i,o,ie,K,j,-q,-J,0),n._copyTile(U,i,o,ie,K,j,-q,-J,3)?(n._copyTile(U,i,o,ie,K,j,-q,-J,2),G=1):(n._copyTile(U,i,o,ie,K,j,-q,-J,0),G=0),U=ie,H=new Uint32Array(U.buffer)}var Ee=4*K;if(z<=256&&p==!1){Ee=Math.ceil(d*K/8);for(var ie=new Uint8Array(Ee*j),se=0;se<j;se++){var w=se*Ee,Ge=se*K;if(d==8)for(var ne=0;ne<K;ne++)ie[w+ne]=I[H[Ge+ne]];else if(d==4)for(var ne=0;ne<K;ne++)ie[w+(ne>>1)]|=I[H[Ge+ne]]<<4-(ne&1)*4;else if(d==2)for(var ne=0;ne<K;ne++)ie[w+(ne>>2)]|=I[H[Ge+ne]]<<6-(ne&3)*2;else if(d==1)for(var ne=0;ne<K;ne++)ie[w+(ne>>3)]|=I[H[Ge+ne]]<<7-(ne&7)*1}U=ie,c=3,h=1}else if(C==!1&&a.length==1){for(var ie=new Uint8Array(K*j*3),We=K*j,w=0;w<We;w++){var Te=w*3,we=w*4;ie[Te]=U[we],ie[Te+1]=U[we+1],ie[Te+2]=U[we+2]}U=ie,c=2,h=3,Ee=3*K}O.push({rect:{x:q,y:J,width:K,height:j},img:U,bpl:Ee,bpp:h,blend:G,dispose:F?1:0})}return{ctype:c,depth:d,plte:k,gotAlpha:C,frames:O}},n.encode._filterZero=function(a,i,o,s,f){for(var p=[],c=0;c<5;c++)if(!(i*s>5e5&&(c==2||c==3||c==4))){for(var d=0;d<i;d++)n.encode._filterLine(f,a,d,s,o,c);if(p.push(l.deflate(f)),o==1)break}for(var h,v=1e9,D=0;D<p.length;D++)p[D].length<v&&(h=D,v=p[D].length);return p[h]},n.encode._filterLine=function(a,i,o,s,f,p){var c=o*s,d=c+o,h=n.decode._paeth;if(a[d]=p,d++,p==0)for(var v=0;v<s;v++)a[d+v]=i[c+v];else if(p==1){for(var v=0;v<f;v++)a[d+v]=i[c+v];for(var v=f;v<s;v++)a[d+v]=i[c+v]-i[c+v-f]+256&255}else if(o==0){for(var v=0;v<f;v++)a[d+v]=i[c+v];if(p==2)for(var v=f;v<s;v++)a[d+v]=i[c+v];if(p==3)for(var v=f;v<s;v++)a[d+v]=i[c+v]-(i[c+v-f]>>1)+256&255;if(p==4)for(var v=f;v<s;v++)a[d+v]=i[c+v]-h(i[c+v-f],0,0)+256&255}else{if(p==2)for(var v=0;v<s;v++)a[d+v]=i[c+v]+256-i[c+v-s]&255;if(p==3){for(var v=0;v<f;v++)a[d+v]=i[c+v]+256-(i[c+v-s]>>1)&255;for(var v=f;v<s;v++)a[d+v]=i[c+v]+256-(i[c+v-s]+i[c+v-f]>>1)&255}if(p==4){for(var v=0;v<f;v++)a[d+v]=i[c+v]+256-h(0,i[c+v-s],0)&255;for(var v=f;v<s;v++)a[d+v]=i[c+v]+256-h(i[c+v-f],i[c+v-s],i[c+v-f-s])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),i=0;i<256;i++){for(var o=i,s=0;s<8;s++)o&1?o=3988292384^o>>>1:o=o>>>1;a[i]=o}return a}(),update:function(a,i,o,s){for(var f=0;f<s;f++)a=n.crc.table[(a^i[o+f])&255]^a>>>8;return a},crc:function(a,i,o){return n.crc.update(4294967295,a,i,o)^4294967295}},n.quantize=function(a,i,o){for(var s=[],f=0,p=0;p<a.length;p++)s.push(n.encode.alphaMul(new Uint8Array(a[p]),o)),f+=a[p].byteLength;for(var c=new Uint8Array(f),d=new Uint32Array(c.buffer),h=0,p=0;p<s.length;p++){for(var v=s[p],D=v.length,S=0;S<D;S++)c[h+S]=v[S];h+=D}var b={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};b.bst=n.quantize.stats(c,b.i0,b.i1),b.est=n.quantize.estats(b.bst);for(var w=[b];w.length<i;){for(var C=0,I=0,p=0;p<w.length;p++)w[p].est.L>C&&(C=w[p].est.L,I=p);if(C<.001)break;var k=w[I],R=n.quantize.splitPixels(c,d,k.i0,k.i1,k.est.e,k.est.eMq255),_={i0:k.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};_.bst=n.quantize.stats(c,_.i0,_.i1),_.est=n.quantize.estats(_.bst);var B={i0:R,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};B.bst={R:[],m:[],N:k.bst.N-_.bst.N};for(var p=0;p<16;p++)B.bst.R[p]=k.bst.R[p]-_.bst.R[p];for(var p=0;p<4;p++)B.bst.m[p]=k.bst.m[p]-_.bst.m[p];B.est=n.quantize.estats(B.bst),k.left=_,k.right=B,w[I]=_,w.push(B)}w.sort(function(ee,ve){return ve.bst.N-ee.bst.N});for(var F=0;F<s.length;F++){for(var z=n.quantize.planeDst,O=new Uint8Array(s[F].buffer),U=new Uint32Array(s[F].buffer),H=O.length,p=0;p<H;p+=4){for(var q=O[p]*.00392156862745098,J=O[p+1]*(1/255),K=O[p+2]*(1/255),j=O[p+3]*(1/255),G=b;G.left;)G=z(G.est,q,J,K,j)<=0?G.left:G.right;U[p>>2]=G.est.rgba}s[F]=U.buffer}return{bufs:s,plte:w}},n.quantize.getNearest=function(a,i,o,s,f){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,i,o,s,f),a;var p=n.quantize.planeDst(a.est,i,o,s,f),c=a.left,d=a.right;p>0&&(c=a.right,d=a.left);var h=n.quantize.getNearest(c,i,o,s,f);if(h.tdst<=p*p)return h;var v=n.quantize.getNearest(d,i,o,s,f);return v.tdst<h.tdst?v:h},n.quantize.planeDst=function(a,i,o,s,f){var p=a.e;return p[0]*i+p[1]*o+p[2]*s+p[3]*f-a.eMq},n.quantize.dist=function(a,i,o,s,f){var p=i-a[0],c=o-a[1],d=s-a[2],h=f-a[3];return p*p+c*c+d*d+h*h},n.quantize.splitPixels=function(a,i,o,s,f,p){var c=n.quantize.vecDot;for(s-=4;o<s;){for(;c(a,o,f)<=p;)o+=4;for(;c(a,s,f)>p;)s-=4;if(o>=s)break;var d=i[o>>2];i[o>>2]=i[s>>2],i[s>>2]=d,o+=4,s-=4}for(;c(a,o,f)>p;)o-=4;return o+4},n.quantize.vecDot=function(a,i,o){return a[i]*o[0]+a[i+1]*o[1]+a[i+2]*o[2]+a[i+3]*o[3]},n.quantize.stats=function(a,i,o){for(var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=[0,0,0,0],p=o-i>>2,c=i;c<o;c+=4){var d=a[c]*.00392156862745098,h=a[c+1]*(1/255),v=a[c+2]*(1/255),D=a[c+3]*(1/255);f[0]+=d,f[1]+=h,f[2]+=v,f[3]+=D,s[0]+=d*d,s[1]+=d*h,s[2]+=d*v,s[3]+=d*D,s[5]+=h*h,s[6]+=h*v,s[7]+=h*D,s[10]+=v*v,s[11]+=v*D,s[15]+=D*D}return s[4]=s[1],s[8]=s[2],s[12]=s[3],s[9]=s[6],s[13]=s[7],s[14]=s[11],{R:s,m:f,N:p}},n.quantize.estats=function(a){var i=a.R,o=a.m,s=a.N,f=o[0],p=o[1],c=o[2],d=o[3],h=s==0?0:1/s,v=[i[0]-f*f*h,i[1]-f*p*h,i[2]-f*c*h,i[3]-f*d*h,i[4]-p*f*h,i[5]-p*p*h,i[6]-p*c*h,i[7]-p*d*h,i[8]-c*f*h,i[9]-c*p*h,i[10]-c*c*h,i[11]-c*d*h,i[12]-d*f*h,i[13]-d*p*h,i[14]-d*c*h,i[15]-d*d*h],D=v,S=n.M4,b=[.5,.5,.5,.5],w=0,C=0;if(s!=0)for(var I=0;I<10&&(b=S.multVec(D,b),C=Math.sqrt(S.dot(b,b)),b=S.sml(1/C,b),!(Math.abs(C-w)<1e-9));I++)w=C;var k=[f*h,p*h,c*h,d*h],R=S.dot(S.sml(255,k),b),_=k[3]<.001?0:1/k[3];return{Cov:v,q:k,e:b,L:w,eMq255:R,eMq:S.dot(b,k),rgba:(Math.round(255*k[3])<<24|Math.round(255*k[2]*_)<<16|Math.round(255*k[1]*_)<<8|Math.round(255*k[0]*_)<<0)>>>0}},n.M4={multVec:function(a,i){return[a[0]*i[0]+a[1]*i[1]+a[2]*i[2]+a[3]*i[3],a[4]*i[0]+a[5]*i[1]+a[6]*i[2]+a[7]*i[3],a[8]*i[0]+a[9]*i[1]+a[10]*i[2]+a[11]*i[3],a[12]*i[0]+a[13]*i[1]+a[14]*i[2]+a[15]*i[3]]},dot:function(a,i){return a[0]*i[0]+a[1]*i[1]+a[2]*i[2]+a[3]*i[3]},sml:function(a,i){return[a*i[0],a*i[1],a*i[2],a*i[3]]}},n.encode.alphaMul=function(a,i){for(var o=new Uint8Array(a.length),s=a.length>>2,f=0;f<s;f++){var p=f<<2,c=a[p+3];i&&(c=c<128?0:255);var d=c*(1/255);o[p+0]=a[p+0]*d,o[p+1]=a[p+1]*d,o[p+2]=a[p+2]*d,o[p+3]=c}return o}}(r,t)})()})(bl);var Cl=bl.exports;function Ph(){const{setLoadingMsg:e}=Be(),{activeModel:r}=_e(),{screenshot:t}=L,n=async o=>{o.stopPropagation();const s=t.getFrame(),f=xh(s);navigator.clipboard.write([new ClipboardItem({"image/png":f})])},l=()=>{if(!r){e("No model"),setTimeout(()=>e(""),2e3);return}e("Generating frames..."),setTimeout(async()=>{const o=t.getAllFrames(r);if(!o){e("Invalid animation..."),setTimeout(()=>e(""),2e3);return}e("Creating zip...");const s=t.settings.fileName||"frames",f=await Hi(o,s);e("Finished"),xr.saveAs(f,`${s}.zip`),setTimeout(()=>e(""),1e3)})},a=()=>{if(!r){e("No model"),setTimeout(()=>e(""),2e3);return}e("Generating frames..."),setTimeout(async()=>{const o=t.getAllFrames(r);if(!o){e("Invalid animation"),setTimeout(()=>e(""),2e3);return}e(`Creating gif from ${o.length} frames...`);const{frameRate:s}=t.settings,{makeGif:f}=await Wt(async()=>{const{makeGif:d}=await import("./f_DOqUXJZN-index.js");return{makeGif:d}},[]),p=await f({frames:o,width:L.viewport.width,height:L.viewport.height,delay:Math.ceil(1e3/s)});e("Finished");const c=r.userData.name??r.id??"ani";xr.saveAs(p,`${c}.gif`),setTimeout(()=>e(""),1e3)})},i=()=>{if(!r){e("No model"),setTimeout(()=>e(""),2e3);return}e("Generating frames..."),setTimeout(async()=>{const o=t.getAllFramesAsArrayBuffer(r);if(!o){e("Invalid animation"),setTimeout(()=>e(""),2e3);return}e(`Creating apng from ${o.length} frames...`);const{frameRate:s}=t.settings,f=Math.ceil(1e3/s),p=Array(o.length-1).fill(f),{width:c,height:d}=L.viewport,h=Cl.encode(o,c,d,0,p),v=new Blob([h],{type:"image/apng"});e("Finished");const D=r.userData.name??r.id??"ani";xr.saveAs(v,`${D}.png`),setTimeout(()=>e(""),1e3)})};return g(Ve,{className:"SettingGroup",children:[g(ae,{children:[g("div",{children:"Screenshot/GIF/APNG"}),g(fe,{onClick:n,title:"Copy screenshot to clipboard",variant:"contained",children:g(Xs,{})})]}),g(ae,{children:[g(ur,{target:t.settings,propList:wh}),g(fe,{onClick:l,title:"Get all frames as zip",startIcon:g(Or,{}),children:"Get All Frames"}),g(fe,{title:"Create GIF of current animation",startIcon:g(Un,{viewBox:"4 4 16 16"}),onClick:a,children:"Create GIF"}),g(fe,{onClick:i,title:"Create APNG of current animation",startIcon:g(Or,{}),children:"Create APNG"})]})]})}const{setLoadingMsg:Fe}=Be.getState(),Ei=e=>()=>{Fe("Generating frames..."),setTimeout(async()=>{const r=await e();Fe("Creating zip...");const t="frames",n=await Hi(r,t);Fe("Finished"),xr.saveAs(n,`${t}.zip`),setTimeout(()=>Fe(""),1e3)})},Ai=e=>async()=>{Fe("Generating frames...");const{frameRate:r}=L.screenshot.settings;setTimeout(async()=>{const t=await e();Fe("Creating gif...");const{makeGif:n}=await Wt(async()=>{const{makeGif:a}=await import("./f_DOqUXJZN-index.js");return{makeGif:a}},[]),l=await n({frames:t,width:L.viewport.width,height:L.viewport.height,delay:Math.ceil(1e3/r)});Fe("Finished"),xr.saveAs(l,"spCapture.gif"),setTimeout(()=>Fe(""),1e3)})},_l=[{value:"rotate",label:"Rotate",frames:Ei(ki),gif:Ai(ki),clip:Bh,preview:Nh},{value:"speedDraw",label:"Speed Draw",frames:Ei(Ri),gif:Ai(Ri),clip:Oh,preview:Lh}];async function ki(){const{frameRate:e=30,duration:r=5}=L.userData.specialCapture??{};let t=L.scene.background;L.scene.background=null;const{sqrt:n,sin:l,cos:a,atan:i,PI:o}=Math;let{x:s,y:f,z:p}=L.camera.position;const{x:c,z:d}=L.controls.target,h=n((s-c)**2+(p-d)**2);if(h===0){Fe("Invalid camera settings"),setTimeout(()=>Fe(""),1e3);return}const v=r*e,D=2*o/v,S=p===d?o/4:i((s-c)/(p-d)),b=[];let w=S;for(let C=0;C<v;C++){L.update(1/e),s=c+h*l(w),p=d+h*a(w),L.camera.position.set(s,f,p),L.controls.update(),L.render();const I=L.canvas.toDataURL();b.push(I),w+=D}return L.scene.background=t,b}function Bh(){Fe("Recording...");const{frameRate:e=30,duration:r=5}=L.userData.specialCapture??{},t=L.loop.paused,n=L.record.settings.frameRate;L.record.settings.frameRate=e;let l=0;const{sqrt:a,sin:i,cos:o,atan:s,PI:f}=Math;let{x:p,y:c,z:d}=L.camera.position;const{x:h,z:v}=L.controls.target,D=a((p-h)**2+(d-v)**2);if(D===0){Fe("Invalid camera settings"),setTimeout(()=>Fe(""),1e3);return}const S=2*f/r;let w=d===v?f/4:s((p-h)/(d-v));const C=L.addEventListener("timeUpdate",({dt:I})=>{l+=I,l>r&&(L.record.stop(),setTimeout(()=>Fe(""),1e3),L.removeEventListener("timeUpdate",C),t&&L.loop.pause(),L.record.settings.frameRate=n),p=h+D*i(w),d=v+D*o(w),L.camera.position.set(p,c,d),w+=S*I});t&&L.loop.resume(),L.record.start()}function Nh(){const{duration:e=5}=L.userData.specialCapture??{},r=L.loop.paused;let t=0;const{sqrt:n,sin:l,cos:a,atan:i,PI:o}=Math;let{x:s,y:f,z:p}=L.camera.position;const{x:c,z:d}=L.controls.target,h=n((s-c)**2+(p-d)**2);if(h===0){Fe("Invalid camera settings"),setTimeout(()=>Fe(""),1e3);return}const v=2*o/e;let S=p===d?o/4:i((s-c)/(p-d));const b=L.addEventListener("timeUpdate",({dt:w})=>{t+=w,t>e&&(L.removeEventListener("timeUpdate",b),r&&L.loop.pause()),s=c+h*l(S),p=d+h*a(S),L.camera.position.set(s,f,p),S+=v*w});r&&L.loop.resume()}const Mh=e=>{const{geometry:r}=e,{start:t,count:n}=r.groups.at(-1);return{geometry:r,count:t+n}},ma=e=>{const r=e.meshes.visible,t=e.attachment.list.flatMap(n=>n.meshes.visible);return[...r,...t].map(Mh)};async function Ri(){const e=_e.getState().activeModel,r=ma(e).sort((d,h)=>h.count-d.count),t=r.map(({count:d})=>d),n=t.map((d,h)=>t.slice(0,h+1).reduce((v,D)=>v+D,0));n.unshift(0);const l=n.at(-1),{frameRate:a=30,duration:i=5}=L.userData.specialCapture??{};let o=L.scene.background;L.scene.background=null;const s=i*a,f=[];let p=0,c=0;r.forEach(({geometry:d})=>d.drawRange.count=0);for(let d=0;d<=s;d++){e.update(1/a),c=Math.ceil(l*d/s),r[p].geometry.drawRange.count=c-n[p];const h=c-n[p+1];h>=0&&(r[p++].geometry.drawRange.count=1/0,p<r.length&&(r[p].geometry.drawRange.count=h)),L.render();const v=L.canvas.toDataURL();f.push(v)}return L.scene.background=o,f}function Oh(){const e=_e.getState().activeModel;Fe("Recording...");const r=ma(e).sort((v,D)=>D.count-v.count),t=r.map(({count:v})=>v),n=t.map((v,D)=>t.slice(0,D+1).reduce((S,b)=>S+b,0));n.unshift(0);const l=n.at(-1),{frameRate:a=30,duration:i=5}=L.userData.specialCapture??{},o=L.loop.paused,s=L.record.settings.frameRate;L.record.settings.frameRate=a;let f=0,p=0;r.forEach(({geometry:v})=>v.drawRange.count=0);const{ceil:c,max:d}=Math,h=L.addEventListener("timeUpdate",({dt:v})=>{const D=c(l*v/i);p+=d(D,1),r[f].geometry.drawRange.count=p-n[f],p-n[f+1]>=0&&(r[f++].geometry.drawRange.count=1/0,f>=r.length&&(L.removeEventListener("timeUpdate",h),setTimeout(()=>{Fe(""),L.record.stop(),o&&L.loop.pause(),L.record.settings.frameRate=s},1e3)))});o&&L.loop.resume(),L.record.start()}function Lh(){const e=_e.getState().activeModel,r=ma(e).sort((d,h)=>h.count-d.count),t=r.map(({count:d})=>d),n=t.map((d,h)=>t.slice(0,h+1).reduce((v,D)=>v+D,0));n.unshift(0);const l=n.at(-1),{duration:a=5}=L.userData.specialCapture??{},i=L.loop.paused;let o=0,s=0;r.forEach(({geometry:d})=>d.drawRange.count=0);const{ceil:f,max:p}=Math,c=L.addEventListener("timeUpdate",({dt:d})=>{const h=f(l*d/a);s+=p(h,1),r[o].geometry.drawRange.count=s-n[o],s-n[o+1]>=0&&(r[o++].geometry.drawRange.count=1/0,o>=r.length&&(L.removeEventListener("timeUpdate",c),setTimeout(()=>{i&&L.loop.pause()},1e3)))});i&&L.loop.resume()}const Fh=[{propName:"program",label:"Program",type:"select",options:_l},{propName:"frameRate",label:"Frame Rate",type:"slider",min:10,max:60,step:10},{propName:"duration",label:"Duration (s)",type:"number",min:1,max:60,step:.5}];function zh(){const e=r=>{var l,a;const{type:t}=r.currentTarget.dataset,{program:n="rotate"}=L.userData.specialCapture??{};(a=(l=_l.find(i=>i.value===n))==null?void 0:l[t])==null||a.call(l)};return g(Ve,{className:"SpecialCapture SettingGroup",children:[g(ae,{children:g("div",{children:"Special Capture"})}),g(ae,{children:[g(ur,{target:L.userData.specialCapture,propList:Fh}),g("div",{className:"SpecialCapture-actions",children:[g(fe,{"data-type":"preview",onClick:e,title:"Preview",startIcon:g($n,{}),children:"Preview"}),g(fe,{"data-type":"frames",onClick:e,title:"Get all frames as zip",startIcon:g(Or,{}),children:"Get Frames"}),g(fe,{"data-type":"gif",onClick:e,title:"Download as GIF",startIcon:g(Un,{}),children:"Get GIF"}),L.record&&g(fe,{"data-type":"clip",onClick:e,startIcon:g(Vt,{}),title:"Record Clip",children:"Get Clip"})]})]})]})}function Hh(){return g(ae,{children:[g(eo,{}),g("span",{className:"break"}),g(yh,{}),g(Ph,{}),g("span",{className:"break"}),g(zh,{}),g("span",{className:"break"}),g(hh,{})]})}function Gh(e,r){return new Promise(function(t,n){let l=new XMLHttpRequest;l.open(e,r),l.onload=function(){this.status>=200&&this.status<300?t(l.response):n({status:this.status,statusText:l.statusText})},l.onerror=function(){n({status:this.status,statusText:l.statusText})},l.send()})}const Wh=e=>Gh("GET",e),$h=async e=>{const r=`https://api.github.com/repos/dgk3593/dl-model/contents/public/fbx/${e}`,t=await Wh(r);return JSON.parse(t).map(l=>l.name)},Uh=async e=>await(await fetch(e)).arrayBuffer(),qh=async e=>{const t=(await $h(e)).map(l=>{const a=`https://dgk3593.github.io/dl-model/fbx/${e}/${l}`,i=Uh(a);return{name:l,data:i}}),n=await $l(t);xr.saveAs(n,`${e}.zip`)},Vh=()=>{const{activeModel:e}=_e.getState(),{setLoadingMsg:r}=Be.getState(),{screenshot:t}=L;if(!e){r("No model"),setTimeout(()=>r(""),2e3);return}r("Generating frames..."),setTimeout(async()=>{const n=t.getAllFrames(e);if(!n){r("Invalid animation"),setTimeout(()=>r(""),2e3);return}r(`Creating gif from ${n.length} frames...`);const{frameRate:l}=t.settings,{makeGif:a}=await Wt(async()=>{const{makeGif:s}=await import("./f_DOqUXJZN-index.js");return{makeGif:s}},[]),i=await a({frames:n,width:L.viewport.width,height:L.viewport.height,delay:Math.ceil(1e3/l)});r("Finished");const o=e.userData.name??e.id??"ani";xr.saveAs(i,`${o}.gif`),setTimeout(()=>r(""),1e3)})},Zh=()=>{const{activeModel:e}=_e.getState(),{setLoadingMsg:r}=Be.getState(),{screenshot:t}=L;if(!e){r("No model"),setTimeout(()=>r(""),2e3);return}r("Generating frames..."),setTimeout(async()=>{const n=t.getAllFramesAsArrayBuffer(e);if(!n){r("Invalid animation"),setTimeout(()=>r(""),2e3);return}r(`Creating apng from ${n.length} frames...`);const{frameRate:l}=t.settings,a=Math.ceil(1e3/l),i=Array(n.length-1).fill(a),{width:o,height:s}=L.viewport,f=Cl.encode(n,o,s,0,i),p=new Blob([f],{type:"image/apng"});r("Finished");const c=e.userData.name??e.id??"ani";xr.saveAs(p,`${c}.png`),setTimeout(()=>r(""),1e3)})};window.quickApng=Zh;function jh(){const{activeModel:e}=_e(),{record:r,screenshot:t}=L,n=Be(o=>o.sidebar.modal.open);return g("div",{className:"QuickAction",children:[g(mr,{title:"Change Background",onClick:()=>n("background"),children:g(Ji,{})}),g(mr,{title:"Get Screenshot",onClick:o=>{o.stopPropagation(),t.downloadFrame()},children:g(Ks,{})}),g(mr,{title:"Create GIF",onClick:Vh,children:g(Un,{fontSize:"large"})}),r&&g(mr,{title:"Record Current Animation",onClick:o=>{o.stopPropagation();const{clipDuration:s}=e.animation.current;if(s===0||s===1/0){alert("Can't record");return}const{animation:f}=e;f.stop(),f.addCountedEventListener("ChainFinished",()=>r.stop()),f.play(),r.start()},children:g(Vt,{})}),g(mr,{title:"Download Current Model",onClick:()=>qh(e.id),children:g(Or,{})})]})}const Kh=["Model","Scene","Export"].map(e=>({name:e})),Yh={Model:Tc,Scene:fh,Export:Hh};function Xh(){const{tab:e,setTab:r}=Be(l=>l.sidebar.settings),t=(l,a)=>r(a),n=Yh[e];return g(ae,{children:[g(jh,{}),g(ks,{value:e,tabs:Kh,onChange:t}),g(n,{}),g("span",{className:"bottom-space"})]})}function Jh(){var f;const{target:e,setTarget:r}=Fr();if(!e)return null;const{inputTarget:t}=$t(),{loadState:n}=jr(),l=e==null?void 0:e.id,[a,i]=dr((f=e==null?void 0:e.userData)==null?void 0:f.name);Ae(()=>{var p;i((p=e==null?void 0:e.userData)==null?void 0:p.name),!(a||!e)&&Fi(l).then(c=>{i(c.name),e.userData.name=c.name})},[e]);const o=a??l;return e&&g("div",{className:"ChainMaker-target",children:["Target",g(fe,{onClick:async()=>{var d;const p=await t();if(!p)return;const c=p[0];n((d=c.userData)==null?void 0:d.aniSelectState),r(c)},title:"Click to change",children:[g(Ui,{modelId:l,alt:o}),g("span",{className:"name",children:o})]})]})}function Qh({target:e}){var s;const{toggle:r}=Fr(),{inputAni:t}=$t(),{activeModel:n}=_e(),l=((s=e==null?void 0:e.userData)==null?void 0:s.chain)??[];return g("div",{className:"ChainMaker-header",children:[g("div",{className:"ChainMaker-title",children:[g(Es,{disabled:!e,children:[g(fe,{variant:"contained",title:"Play All",onClick:()=>{const f=Gi(l);e==null||e.animation.addChain(f)},children:g($n,{})}),g(fe,{variant:"contained",title:"Add",onClick:async()=>{var v;const f=await t();if(!f)return;const[p,c,d]=f,h=Fn(p,c);(v=e.userData)==null||v.chain.push(...h),e.userData.aniSelectState=d},children:g(Ut,{})})]}),"ChainMaker"]}),g(Jh,{}),g(qt,{onClick:()=>{var f;r(),jr.getState().loadState((f=n==null?void 0:n.userData)==null?void 0:f.aniSelectState)},color:"white",title:"Close Chain Maker"})]})}function eg({ani:e}){const[r,t]=dr({timeScale:e.timeScale,reps:e.reps}),n=l=>{const{name:a,value:i}=l.target,o=a==="reps"?parseInt(i):parseFloat(i),s=isNaN(o)?1:o;e[a]=s,t(f=>({...f,[a]:s}))};return g("div",{className:"ChainAni-advanced",children:[g(Tt,{onChange:n,label:"Speed",size:"small",margin:"dense",variant:"filled",inputProps:{type:"number",step:.25,name:"timeScale"},value:r.timeScale}),g(Tt,{onChange:n,label:"Repetitions",size:"small",margin:"dense",variant:"filled",inputProps:{type:"number",name:"reps"},value:r.reps})]})}const rg={type:"number",min:0,max:100,step:.25};function Ti({value:e,label:r,onChange:t,index:n}){return g(Tt,{className:"SetNumbers-number",onChange:a=>{const i=a.currentTarget.getAttribute("index"),o=parseFloat(a.currentTarget.value);t(o,i)},value:e,label:r,size:"small",margin:"dense",variant:"outlined",inputProps:{...rg,index:n}})}const tg=({value:e,onChange:r,reset:t})=>g("div",{className:"SetNumbers",children:[g(Ti,{value:e[0],label:"Start (%)",onChange:r,index:"0"}),g(Ti,{value:e[1],label:"End (%)",onChange:r,index:"1"}),g(mr,{onClick:t,title:"Reset",children:g(js,{})})]});function ng({ani:e}){const[r,t]=dr(e.duration??[0,100]),n=o=>{t(o),e.duration=o};return g(Ve,{disableGutters:!0,className:"ChainAni-duration",children:[g(ae,{children:" Duration"}),g(ae,{children:[g(tg,{value:r,onChange:(o,s)=>{const f=[...r];f[s]=o,n(f)},reset:()=>n([0,100])}),g("div",{className:"duration-slider",children:g(As,{size:"small",value:r,onChange:(o,s)=>n(s)})})]})]})}const _n=1024,Nr=64;function ag({index:e,part:r}){var I;const{activeModel:t}=_e(),n=(I=t==null?void 0:t.face)==null?void 0:I[`${r}List`];if(!n)return g(ae,{children:"N/A"});const l=t.userData[`${r}Uv`]??hs(n);if(t.userData[`${r}Uv`]=l,!l[e-1])return g(ae,{children:"N/A"});const a=gs(t.id),[i,o]=l[0].u,[s,f]=l[0].v,p=o-i,c=f-s,d=p*_n,h=c*_n,v=d/Nr,D=_n/v,S=h/v,b={width:Nr,height:S,position:"relative"},w={content:'""',position:"absolute",backgroundImage:`url(${a})`,backgroundSize:`${D}px ${D}px`,width:Nr,height:S};return g("div",{style:b,children:g(Kr,{sx:(({u:k,v:R})=>{const _=k[1]-k[0]!==p,B=k[0],F=R[0],z=B*D,O=F*D,U=_?(Nr-S)/2:0;return _?{width:S,height:Nr,"&::after":{...w,width:S,height:Nr,backgroundPosition:`left -${z}px bottom -${O}px`,transform:`rotate(90deg) translate(-${U}px, -${U}px)`,position:"absolute"}}:{width:Nr,height:S,position:"relative","&::after":{...w,backgroundPosition:`left -${z}px bottom -${O}px`}}})(l[e-1])})})}const ig=({part:e,...r})=>e==="eye"?g(ms,{...r}):g(bs,{...r});function Pi({part:e,index:r,...t}){var a;const{target:n}=Fr(),l=n==null?void 0:n.face;switch(l==null?void 0:l.type){case"uv":return g("div",{...t,"data-part":e,children:r?g(ig,{part:e,texture:l[`${e}Texture`],index:r}):g(ae,{children:"Set"})});case"meshes":return!((a=l==null?void 0:l[`${e}List`])!=null&&a.length)?g("div",{style:{cursor:"default"},children:"N/A"}):g("div",{...t,"data-part":e,children:r?g(ag,{part:e,index:r}):g(ae,{children:"Set"})});default:return g(ae,{})}}const og={type:"number",min:0,max:100,step:1},lg={marginTop:"0.2rem"};function sg({details:e,onUpdate:r,onRemove:t}){const{id:n,time:l,eyeIdx:a,mouthIdx:i}=e,[o,s]=dr(l),{inputEye:f,inputMouth:p}=$t(),c=()=>t(n),d=v=>{const D=parseFloat(v.target.value);s(D);const S={...e,time:D};r(S)},h=async v=>{const{part:D}=v.currentTarget.dataset,S=D==="eye"?await f():await p();if(!S)return;const b=S[0]?S[0]:void 0,w={...e,[`${D}Idx`]:b};r(w)};return g(ae,{children:[g("div",{onClick:c,children:g(Gn,{})}),g(Tt,{onChange:d,inputProps:og,value:o,margin:"dense",size:"small",variant:"standard",sx:lg}),g(Pi,{part:"eye",index:a,"data-id":n,onClick:h}),g(Pi,{part:"mouth",index:i,"data-id":n,onClick:h})]})}function cg({ani:e}){const{target:r}=Fr(),{aniAction:t}=e,n=[],l=[];t.forEach(d=>{const{time:h,["face.eyeIdx"]:v,["face.mouthIdx"]:D,...S}=d;(v||D)&&n.push({id:ya(),time:h,eyeIdx:v,mouthIdx:D}),Object.keys(S).length&&l.push({time:h,...S})});const[a,i]=dr(n),o=d=>{const h=d.map(({time:w})=>w),v=l.map(({time:w})=>w),b=[...new Set([...h,...v])].sort((w,C)=>w-C).map(w=>{const C=d.find(B=>B.time===w),{eyeIdx:I,mouthIdx:k}=C,_={...l.find(B=>B.time===w),time:w};return I&&(_["face.eyeIdx"]=I),k&&(_["face.mouthIdx"]=k),_});e.aniAction=b,i(d)},s=d=>{const{id:h}=d,v=a.map(D=>D.id===h?d:D);o(v)},f=d=>{const h=a.filter(v=>v.id!==d);i(h),o(h)},p=()=>i(d=>[...d,{id:ya()}]),c=a.map(d=>g(sg,{details:d,onUpdate:s,onRemove:f},d.id));return r.face&&g(Ve,{disableGutters:!0,className:"ChainAni-face",children:[g(ae,{children:"Facial Expression"}),g("div",{className:"ChainAniFace",children:[(a==null?void 0:a.length)>0&&g(ae,{children:[g("div",{}),g("div",{children:"Time (%)"}),g("div",{children:"Eye"}),g("div",{children:"Mouth"}),c]}),g("div",{onClick:p,children:g(Ut,{})})]})]})}const ug=({onClick:e})=>g(mr,{onClick:e,title:"Play",children:g($n,{})});function dg({target:e,ani:r,index:t}){const{chain:n}=e.userData,l=o=>{o.stopPropagation(),n.remove(r)},a=o=>{o.stopPropagation();const s=Gi([r]);e==null||e.animation.addChain(s)},i=o=>g(Ve,{className:"ChainAni",...o.draggableProps,ref:o.innerRef,children:[g(ae,{children:[g(ug,{onClick:a}),g("div",{...o.dragHandleProps,className:"ChainAni-name",children:r.name}),g(qt,{onClick:l,title:"Delete"})]}),g(ae,{children:[g(eg,{ani:r}),g(ng,{ani:r}),g(cg,{ani:r})]})]});return g(ml,{draggableId:r.id,index:t,children:i})}function fg({target:e}){var i;if(!((i=e==null?void 0:e.userData)!=null&&i.chain))return null;const[r,t]=br(),n=e.userData.chain;return Ae(()=>{const o=n.addEventListener("change",t);return()=>n.removeEventListener("change",o)},[]),g(dl,{onDragEnd:o=>{const{destination:s,source:f}=o;if(!s||s.index===f.index)return;const p=[...n],c=p.splice(f.index,1)[0];p.splice(s.index,0,c),n.length=0,n.push(...p)},children:g(ha,{droppableId:"chainList",children:o=>g("div",{ref:o.innerRef,...o.droppableProps,children:[n.map((s,f)=>g(dg,{target:e,index:f,ani:s},s.id)),o.placeholder]},r)})})}function pg(){const{activeModel:e}=_e(),{target:r,setTarget:t}=Fr();return Ae(()=>{if(!r)return;const n=r.addEventListener("dispose",()=>t(e));return()=>r.removeEventListener("dispose",n)},[r]),Ae(()=>{r&&L.loadedModel.includes(r)||t(e)},[r,e]),g("div",{className:"ChainMaker",children:[g(Qh,{target:r}),g(fg,{target:r})]},r==null?void 0:r.uniqueId)}const vg={sx:Rn.paper};function hg({open:e}){const r=Be(l=>l.sidebar.toggle),t=Fr(l=>l.open),n=g(Kr,{sx:Rn.sidebarHeader,children:[fc,dc,g(qt,{color:"white",onClick:r,title:"Close Sidebar"})]});return g(Xi,{className:"Sidebar",open:e,onClose:r,variant:"persistent",sx:Rn.sidebar,PaperProps:vg,children:[n,t?g(pg,{}):g(Xh,{}),g(vc,{})]})}const Bi="23rem",Ni={dock:{width:Bi},Paper:{width:Bi,border:"unset",scrollbarWidth:"thin",scrollbarColor:"rgba(128, 0, 0, 0.8) rgba(255, 255, 255, 0.3)","&::-webkit-scrollbar":{width:"4px",backgroundColor:"rgba(128, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{width:"4px",backgroundColor:"rgba(128, 0, 0, 0.8)",borderRadius:"2px"}}};function gg(){const{mode:e,handleSelect:r,close:t}=Be(l=>l.dock),n=Oi[e]??Kr;return e&&g(Xi,{className:"Dock",sx:Ni.dock,open:!!e,variant:"persistent",anchor:"right",PaperProps:{sx:Ni.Paper},children:[g(qt,{onClick:t,title:"Close Dock"}),g(Ln,{fallback:g(Hn,{}),children:g(n,{compact:!0,onSelect:r})})]})}function mg(){const{Component:e,props:r={},close:t,onClose:n}=$t();return g(Wi,{open:!!e,closeModal:n??t,children:g(Ln,{fallback:g(Hn,{}),children:g(e,{...r})})})}const Il=["chara-regular","chara-allies","chara-enemies","dragon-regular","dragon-special","weapon-regular","weapon-special","weapon-extra","boss-archdemon","boss-agito","boss-raid","boss-void","boss-others","model-unlisted"],El=["ani-home","ani-quest","ani-weapon","ani-gun","ani-genericSkill","ani-uniqueSkill","ani-uniqueCombo","ani-uniqueFS","ani-uniqueVictory","ani-uniqueOther","ani-misc","ani-extra"],Al=["background-image","background-skybox","model-texture"],bg=[...Il,...El,...Al],yg=Object.freeze(Object.defineProperty({__proto__:null,all:bg,animation:El,model:Il,others:Al},Symbol.toStringTag,{value:"Module"})),In=e=>Ul(yg[e]??[]);function kl(e){return typeof e!="object"||e===null||Object.isFrozen(e)?e:(Object.keys(e).forEach(r=>{typeof e[r]=="object"&&(e[r]=kl(e[r]))}),Object.freeze(e))}const En=ps.getState().set,An=!!indexedDB,wg=async()=>{const e=In("others"),r=In("model"),t=In("animation"),n=await e;En(n);const l=await r;En(l);const a=An&&ql(l),i=await t;En(i),An&&Ls(i),await Vl,await a,An&&await Zl(),console.info("Data Load Complete"),window.appData=kl({model:l,animation:i,others:n})};function Jg(){const e=Be(s=>s.sidebar),r=Be(s=>s.setLoadingMsg),t=jl(),{activeModel:n,setActiveModel:l}=_e(),{setSource:a,setSourceName:i}=jr(s=>s.personalAni),o=$i("(min-width:640px)");return Ae(()=>{t&&r("Loading"),l(L.model[0]);const s=L.model.addEventListener("change",()=>{L.model.includes(n)||l(L.model[0])});return wg(),window.addEventListener("unload",()=>indexedDB==null?void 0:indexedDB.deleteDatabase("model-viewer")),r(""),()=>L.model.removeEventListener("change",s)},[]),Ae(()=>{n&&(i(n==null?void 0:n.userData.name),a(n==null?void 0:n.id))},[n]),g(ae,{children:[g("button",{title:"Settings",className:"sidebar-toggle",onClick:e.toggle,children:g(ec,{})}),g(mg,{}),g(hg,{open:e.open}),o&&g(gg,{})]})}export{Jg as default};
