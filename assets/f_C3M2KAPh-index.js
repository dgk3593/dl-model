import{d as n,y as C,am as v,u as e,q as I}from"./index-B2YCL-Yh.js";import{u as M}from"./f_Dbwl5SIo-useToggleState.js";import{L as A,u as k,S as N}from"./f_C4hKhcZv-lists.js";import{F as Q}from"./f_BwDXEK_g-FacePartSelector.js";import{f as q,c as G,B as P,F as $,a as z}from"./f_CLNZ8nxu-filterConfig.js";import{u as E,G as R}from"./f_BlFejKXa-Gallery.js";import{M as W,C as j,c as H,u as T,s}from"./f_H4vDuAxO-styles.js";import{B as x}from"./f_BAY_kqiN-Box.js";import{D as J,a as K}from"./f_BBO7qhP2-DialogTitle.js";import{I as O}from"./f_DgmbJU2C-Close.js";import"./f_CoZopDho-three.js";import"./f_BiWvDoJB-createSvgIcon.js";import"./f_q_DIdlPR-CircularProgress.js";import"./f_Bi4hmmWw-Selector.js";import"./f_C4FC2zk9-GlowToggle.js";import"./f_CFKtxkx9-Popover.js";/* empty css                 */function U({compact:i,searchQuery:r,filter:l,content:m,onSelect:o}){const u=E(a=>a[`chara-${m}`])??[],d=u.filter(({id:a})=>!a.endsWith("h")),[h,c]=n([]),[g,p]=n(!1);return C(()=>c(d),[m]),C(()=>{p(!0);async function a(){const t=r?await v(r):d;return await q(t,l)}setTimeout(async()=>{const t=await a();c(t),p(!1)})},[r,l]),u.length&&!g?e(R,{list:h,component:i?W:j,onClick:o}):e(A,{})}const F=H.find(({value:i})=>i==="chara").options,V=[],X={...s.top,"& .Selector":{margin:"0.1rem 2rem 0.1rem 0"}};function pe({compact:i,onSelect:r,onAfterSelect:l}){const m=!!indexedDB,[o,u]=n(0),d=(B,f)=>u(f),[h,c]=n(""),g=k(h,500);C(()=>{c("")},[o]);const[p,a]=n(V),[t,w]=n("Both"),[D,L]=M(!0),y=F[o].value==="regular"&&G,S=i||T("(max-width:640px)")||T("(max-height:640px)"),b=I(B=>{const{value:f}=B.currentTarget.dataset;t!=="Eyes"&&r(f,"mouth"),t!=="Mouth"&&r(f,"eye"),l?.()},[t]);return e(x,{className:"FaceTexture",sx:s.root,children:[e(x,{sx:X,children:[e(J,{sx:s.title,children:"Select Texture"}),e(Q,{value:t,onClick:w}),e(P,{options:F,selectedIndices:[o],setIndex:d}),e(x,{sx:s.searchFilter,children:[e(x,{sx:s.search,children:[e(N,{query:h,onChange:c,placeholder:m?"Search All":"Search"},o[0]),y&&e(O,{onClick:L,size:"large",children:e($,{})})]}),D&&y&&e(z,{config:y,onChange:a,compact:S})]})]}),e(K,{sx:s.content,children:e(U,{compact:S,searchQuery:g,filter:p,content:F[o].value,onSelect:b})})]})}export{pe as default};
