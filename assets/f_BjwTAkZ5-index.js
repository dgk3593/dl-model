import{u as n,y as r,ah as M,h as f,a as S,l as m}from"./index-KZWQTTxN.js";import{u as B}from"./f_CjCt9L_D-useKey.js";import{F as E}from"./f_CXPU19SX-FacePartSelector.js";import{E as I,M as N,i as T,a as b,b as k}from"./f_70TfAJ4Y-MeshMouthSelect.js";import{D as x,a as C}from"./f_CMp4152Y-DialogTitle.js";import"./f_DYxTvRw6-three.js";import"./f_Bn7p-1vw-Selector.js";import"./f_D1jHOO8k-GlowToggle.js";import"./f_mOmIHwNR-Box.js";import"./f_BA5tI3m_-ButtonBase.js";import"./f_BTKfM2Sf-useTheme.js";import"./f_CNNHEfud-Button.js";function L({eyeTexture:s,eyeIdx:t,mouthTexture:e,mouthIdx:i,...c}){return n("div",{className:"FaceBox",...c,children:[n(I,{texture:s,index:t}),n(N,{texture:e,index:i})]})}function D({target:s,onSelect:t}){const e=s==null?void 0:s.face;if(!e||(e==null?void 0:e.type)!=="uv")return n("h2",{children:"Not Available"});const[i,c]=B();r(()=>{const l=e.addEventListener("change",({propName:a})=>{(a.includes("Base")||a.includes("Texture"))&&c()});return()=>e.removeEventListener("change",l)},[]);const d=M(),[o,u]=f("Both");r(()=>!d&&c(),[o]);const h=l=>{const{index:a}=l.currentTarget.dataset;o!=="Eyes"&&t(a,"mouth"),o!=="Mouth"&&t(a,"eye")},{eyeBaseIdx:y,eyeTexture:p,mouthBaseIdx:v,mouthTexture:F}=e;return n("div",{className:"UvFaceSelect",children:[n(E,{value:o,onClick:u}),n("div",{className:"FaceBoxes",children:T.map(l=>n(L,{eyeTexture:p,eyeIdx:o==="Mouth"?y:l,mouthTexture:F,mouthIdx:o==="Eyes"?v:l,"data-index":l,onClick:h}))},i)]})}function K({target:s,onSelect:t}){var i,c;const e=s==null?void 0:s.face;return(e==null?void 0:e.type)==="meshes"&&n("div",{className:"MeshFaceSelect",children:[((i=e==null?void 0:e.eyeList)==null?void 0:i.length)>0&&n(b,{target:s,onSelect:t}),((c=e==null?void 0:e.mouthList)==null?void 0:c.length)>0&&n(k,{target:s,onSelect:t})]})}const P={uv:D,meshes:K},U={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function W({target:s,onSelect:t,onAfterSelect:e}){var u;const{activeModel:i}=S();s??(s=i);const c=(u=s==null?void 0:s.face)==null?void 0:u.type,d=P[c]??(()=>n(m,{})),o=(...h)=>{t(...h),e==null||e()};return s!=null&&s.face?n("div",{className:"FaceSelect",children:[n(x,{sx:{textAlign:"center"},children:"Face Select"}),n(C,{sx:{padding:"1rem"},children:n(d,{target:s,onSelect:o})})]}):n(m,{children:[n(x,{sx:{textAlign:"center"},children:"Face Select"}),n("div",{style:U,children:"Not available"})]})}export{W as default};
