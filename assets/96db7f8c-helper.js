import{b as $,n as h,A as p}from"./1c32777d-viewer.js";const I=(t,n="Unknown")=>{const o=$(t),{length:e}=o,s=o.map((r,c)=>{const{aniName:a,reps:i=1,timeScale:u=1,duration:m=[0,100],aniAction:C}=r,l=e>1?n+` #${c+1}`:n;return{id:h(),name:l,aniName:a,reps:i,timeScale:u,duration:m,aniAction:C}});return p.from(s)},d={ts:{key:"timeScale",defaultValue:1},r:{key:"reps",defaultValue:1}},f={"face.eyeIdx":"ei","face.mouthIdx":"mi"},x=t=>t.map(g).join(">"),g=t=>{const{aniName:n}=t,o=j(t),e=A(t),s=y(t);return`${n}${o}${e}${s}`},j=t=>{const n=[];return Object.keys(d).forEach(o=>{const{key:e,defaultValue:s}=d[o];t[e]&&t[e]!==s&&n.push(`&${o}=${t[e]}`)}),n.join("")},A=t=>{const{duration:n=[0,100]}=t,[o,e]=n;return o!==0?`&dur=${o}-${e}`:e===100?"":`&dur=${e}`},y=t=>{const{aniAction:n}=t;return n.length?"&"+n.map(e=>{const{time:s,...r}=e,c=Object.entries(r).map(([a,i])=>`${f[a]??a}=${i}`);return`@${s}=(${c.join("/")})`}).join("&"):""};export{I as c,x as g};
