import{k as E,q as G,o as a,w as z,_ as et,O as ft,h as st,j as ot,I as bt,p as yt}from"./index-c6ba589d.js";import{L as h,i as vt,a as It,M as Ct}from"./0ee52cc9-Gallery.js";import{g as S,d as V,e as A,i as W,c as L,j,h as I,p as nt,t as at,B as rt,r as xt}from"./c0bce384-ButtonBase.js";import{i as K}from"./3449bc6f-Popover.js";import{T as F}from"./75872a56-DialogTitle.js";import{B as $t}from"./2f3615f4-Box.js";import{G as ht}from"./d582ec0e-GlowToggle.js";import{c as Lt}from"./222e830b-createSvgIcon.js";import{W as it,R as ct,E as lt,F as St,a as kt}from"./c362ed54-lists.js";const Mt=S("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Q=Mt;function Tt(t){return V("MuiListItem",t)}const Ot=S("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),M=Ot,Rt=S("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),At=Rt;function wt(t){return V("MuiListItemSecondaryAction",t)}S("MuiListItemSecondaryAction",["root","disableGutters"]);const Pt=t=>{const{disableGutters:e,classes:s}=t;return j({root:["root",e&&"disableGutters"]},wt,s)},Nt=A("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.disableGutters&&e.disableGutters]}})(({ownerState:t})=>({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",...t.disableGutters&&{right:0}})),dt=E(function(e,s){const o=W({props:e,name:"MuiListItemSecondaryAction"}),{className:n,...r}=o,i=G(h),l={...o,disableGutters:i.disableGutters},c=Pt(l);return a(Nt,{className:L(c.root,n),ownerState:l,ref:s,...r})});dt.muiName="ListItemSecondaryAction";const Ft=dt,Bt=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters,!s.disablePadding&&e.padding,s.button&&e.button,s.hasSecondaryAction&&e.secondaryAction]},Et=t=>{const{alignItems:e,button:s,classes:o,dense:n,disabled:r,disableGutters:i,disablePadding:l,divider:c,hasSecondaryAction:p,selected:f}=t;return j({root:["root",n&&"dense",!i&&"gutters",!l&&"padding",c&&"divider",r&&"disabled",s&&"button",e==="flex-start"&&"alignItemsFlexStart",p&&"secondaryAction",f&&"selected"],container:["container"]},Tt,o)},Gt=A("div",{name:"MuiListItem",slot:"Root",overridesResolver:Bt})(({theme:t,ownerState:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",...!e.disablePadding&&{paddingTop:8,paddingBottom:8,...e.dense&&{paddingTop:4,paddingBottom:4},...!e.disableGutters&&{paddingLeft:16,paddingRight:16},...!!e.secondaryAction&&{paddingRight:48}},...!!e.secondaryAction&&{[`& > .${At.root}`]:{paddingRight:48}},[`&.${M.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${M.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:I(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${M.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:I(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${M.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},...e.alignItems==="flex-start"&&{alignItems:"flex-start"},...e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},...e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:I(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:I(t.palette.primary.main,t.palette.action.selectedOpacity)}}},...e.hasSecondaryAction&&{paddingRight:48}})),Vt=A("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Wt=E(function(e,s){const o=W({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:r=!1,button:i=!1,children:l,className:c,component:p,components:f={},componentsProps:b={},ContainerComponent:v="li",ContainerProps:{className:y,...m}={},dense:u=!1,disabled:d=!1,disableGutters:g=!1,disablePadding:C=!1,divider:U=!1,focusVisibleClassName:w,secondaryAction:_,selected:pt=!1,slotProps:ut={},slots:mt={},...gt}=o,Y=G(h),D=z(()=>({dense:u||Y.dense||!1,alignItems:n,disableGutters:g}),[n,Y.dense,u,g]),H=et(null);nt(()=>{r&&H.current&&H.current.focus()},[r]);const k=ft.toArray(l),q=k.length&&vt(k[k.length-1],["ListItemSecondaryAction"]),P={...o,alignItems:n,autoFocus:r,button:i,dense:D.dense,disabled:d,disableGutters:g,disablePadding:C,divider:U,hasSecondaryAction:q,selected:pt},X=Et(P),J=at(H,s),N=mt.root||f.Root||Gt,T=ut.root||b.root||{},x={className:L(X.root,T.className,c),disabled:d,...gt};let $=p||"li";return i&&(x.component=p||"div",x.focusVisibleClassName=L(M.focusVisible,w),$=rt),q?($=!x.component&&!p?"div":$,v==="li"&&($==="li"?$="div":x.component==="li"&&(x.component="div")),a(h.Provider,{value:D,children:a(Vt,{as:v,className:L(X.container,y),ref:J,ownerState:P,...m,children:[a(N,{...T,...!K(N)&&{as:$,ownerState:{...P,...T.ownerState}},...x,children:k}),k.pop()]})})):a(h.Provider,{value:D,children:a(N,{...T,as:$,ref:J,...!K(N)&&{ownerState:{...P,...T.ownerState}},...x,children:[k,_&&a(Ft,{children:_})]})})}),jt=Wt,Ut=S("MuiListItemIcon",["root","alignItemsFlexStart"]),Z=Ut;function Dt(t){return V("MuiListItemText",t)}const Ht=S("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),B=Ht,zt=t=>{const{classes:e,inset:s,primary:o,secondary:n,dense:r}=t;return j({root:["root",s&&"inset",r&&"dense",o&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},Dt,e)},_t=A("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${B.primary}`]:e.primary},{[`& .${B.secondary}`]:e.secondary},e.root,s.inset&&e.inset,s.primary&&s.secondary&&e.multiline,s.dense&&e.dense]}})(({ownerState:t})=>({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,...t.primary&&t.secondary&&{marginTop:6,marginBottom:6},...t.inset&&{paddingLeft:56}})),Yt=E(function(e,s){const o=W({props:e,name:"MuiListItemText"}),{children:n,className:r,disableTypography:i=!1,inset:l=!1,primary:c,primaryTypographyProps:p,secondary:f,secondaryTypographyProps:b,...v}=o,{dense:y}=G(h);let m=c??n,u=f;const d={...o,disableTypography:i,inset:l,primary:!!m,secondary:!!u,dense:y},g=zt(d);return m!=null&&m.type!==F&&!i&&(m=a(F,{variant:y?"body2":"body1",className:g.primary,component:p!=null&&p.variant?void 0:"span",display:"block",...p,children:m})),u!=null&&u.type!==F&&!i&&(u=a(F,{variant:"body2",className:g.secondary,color:"text.secondary",display:"block",...b,children:u})),a(_t,{className:L(g.root,r),ownerState:d,ref:s,...v,children:[m,u]})}),qt=Yt;function Xt(t){return V("MuiMenuItem",t)}const Jt=S("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),O=Jt,Kt=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.divider&&e.divider,!s.disableGutters&&e.gutters]},Qt=t=>{const{disabled:e,dense:s,divider:o,disableGutters:n,selected:r,classes:i}=t,c=j({root:["root",s&&"dense",e&&"disabled",!n&&"gutters",o&&"divider",r&&"selected"]},Xt,i);return{...i,...c}},Zt=A(rt,{shouldForwardProp:t=>xt(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Kt})(({theme:t,ownerState:e})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap",...!e.disableGutters&&{paddingLeft:16,paddingRight:16},...e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:I(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:I(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:I(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:I(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${O.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Q.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Q.inset}`]:{marginLeft:52},[`& .${B.root}`]:{marginTop:0,marginBottom:0},[`& .${B.inset}`]:{paddingLeft:36},[`& .${Z.root}`]:{minWidth:36},...!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},...e.dense&&{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Z.root} svg`]:{fontSize:"1.25rem"}}})),te=E(function(e,s){const o=W({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:r="li",dense:i=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:p,role:f="menuitem",tabIndex:b,className:v,...y}=o,m=G(h),u=z(()=>({dense:i||m.dense||!1,disableGutters:c}),[m.dense,i,c]),d=et(null);nt(()=>{n&&d.current&&d.current.focus()},[n]);const g={...o,dense:u.dense,divider:l,disableGutters:c},C=Qt(o),U=at(d,s);let w;return o.disabled||(w=b!==void 0?b:-1),a(h.Provider,{value:u,children:a(Zt,{ref:U,role:f,tabIndex:w,component:r,focusVisibleClassName:L(C.focusVisible,p),className:L(C.root,v),...y,ownerState:g,classes:C})})}),ee=te,R={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{cursor:"pointer",textAlign:"center","&[data-multi]::after":{content:'"▼"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}},tt=t=>a("img",{...t,style:R.icon});function se({level:t=0,selectedIndices:e,options:s,setIndex:o}){const[n,r]=st(null),i=s.length>1;e[t]??o(t,0);const l=d=>{r(d.currentTarget)},c=d=>{const{level:g,index:C}=d.target.dataset;o(parseInt(g),parseInt(C)),r(null)},p=()=>{r(null)},f=e[t]??0,{label:b,value:v,icon:y,options:m}=s[f],u=a(ot,{children:[a(It,{disablePadding:!0,sx:R.list,children:a(jt,{"data-multi":i,sx:R.listItem,onClick:l,children:[y&&a(tt,{alt:v,src:y}),a(qt,{primary:`${b}`})]})}),i&&a(Ct,{anchorEl:n,keepMounted:!0,open:!!n,onClose:p,children:s.map((d,g)=>a(ee,{selected:g===f,onClick:c,sx:R.menuItem,"data-index":g,"data-level":t,children:[d.icon&&a(tt,{alt:d.value,src:d.icon}),d.label]},d.value))}),m&&a(se,{options:m,selectedIndices:e,level:t+1,setIndex:o})]});return t===0?a($t,{className:"Breadcrumbs",sx:R.box,children:u}):u}const oe=(t,e)=>s=>{const o=s[t],n=o==null?void 0:o[e];n!==void 0&&(o[e]=!n,Object.values(o).every(Boolean)&&Object.keys(o).forEach(r=>o[r]=!1))};function ne(t){const e=z(()=>ae(t),[t]),[s,o]=st(e);return[s,(i,l)=>o(c=>bt(c,oe(i,l))),()=>o(e)]}function ae(t){const e=t.map(({name:s,options:o})=>{const n=o.map(i=>[i,!1]),r=Object.fromEntries(n);return[s,r]});return Object.fromEntries(e)}function re({name:t,options:e,type:s,state:o,toggle:n}){const r=c=>{const{group:p,value:f}=c.currentTarget.dataset;n(p,f)},i=c=>`img/appIcon/${t}_${c}.png`,l=e.map(c=>a(ht,{icon:i(c),value:c,type:s,checked:o[c],"data-group":t,onClick:r}));return a("div",{className:"ToggleGroup",children:l})}const ie=t=>Object.entries(t).map(([o,n])=>[o,Object.keys(n).filter(r=>n[r])]).filter(([,o])=>o.length);function ve({config:t,onChange:e,compact:s}){if(!t)return a(ot,{});const[o,n,r]=ne(t);yt(()=>{const l=ie(o);e(l)},[o]);const i=t.map((l,c)=>a(re,{state:o[l.name],toggle:n,...l},c));return a("div",{className:"Filter","data-compact":s,children:[i,a("button",{className:"Filter-reset",onClick:r,children:a("span",{children:"Reset"})})]})}const Ie=Lt(a("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");function ce(){return new Worker("/dl-model/assets/filterWorker-ba992f3a.js")}function Ce(t,e){if(!e.length)return t;const s=new ce;return new Promise(o=>{s.addEventListener("message",n=>{s.terminate(),o(n.data)}),s.postMessage({fullList:t,conditions:e})})}const xe=[{name:"weapon",type:"icon",options:it},{name:"rarity",type:"icon",options:ct},{name:"element",type:"icon",options:lt}],$e=[{name:"rarity",type:"icon",options:ct},{name:"element",type:"icon",options:lt}],he=[{name:"weapon",type:"icon",options:it},{name:"rarity",type:"icon",options:St},{name:"element",type:"icon",options:kt}];export{se as B,Ie as F,ee as M,re as T,ve as a,xe as c,$e as d,Ce as f,he as w};
